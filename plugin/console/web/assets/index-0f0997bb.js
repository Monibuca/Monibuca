import{_ as y}from"./check-0b89deba.js";import{p as s}from"./index-8b4ac030.js";import{l as g}from"./vendor-ec30964e.js";import"./index-5cccfc90.js";const x={style:{padding:"24px",display:"flex"}},E=Vue.createTextVNode("查看内存信息"),w=Vue.createTextVNode("下载内存信息"),F=Vue.createTextVNode("查看CPU信息"),N=Vue.createTextVNode("下载CPU信息"),k=Vue.createElementVNode("div",{style:{"font-size":"12px"}},"CPU数据采集时长区间: 1～99 秒, 不填默认5秒",-1),B={style:{padding:"24px 24px 24px 24px"}},P=["innerHTML"],U=["src"],T=Vue.defineComponent({setup(L){const{id:p,path:f}=g().params,m=Vue.ref(!1),c=Vue.ref(""),V=Vue.ref(null),v=Vue.ref(null),i=Vue.ref("");f?c.value="":s(p,"/debug/pprof/").then(t=>{c.value=t.replace(/href="(.+)"/g,`href="${location.href}/$1"`).replace(/href='(.+)'/g,`href="${location.href}/$1"`)});const _=()=>{s(p,"/debug/pprof/heap").then(t=>{console.log("res.data.port is "+t.data.port),c.value="",i.value="http://console.monibuca.com"+t.data.port})},h=()=>{var t=V.value||5;s(p,"/debug/pprof/profile?seconds="+t).then(e=>{console.log("res.data.port is "+e.data.port),c.value="",i.value="http://console.monibuca.com"+e.data.port})},C=()=>{s(p,"d/debug/pprof/heap").then(t=>{for(var e=atob(t.data.file),o=new Uint8Array(e.length),n=0;n<e.length;n++)o[n]=e.charCodeAt(n);var u=new Blob([o],{type:"application/octet-stream"}),l=URL.createObjectURL(u),r=document.createElement("a");r.href=l,r.download="mempprof",r.click(),URL.revokeObjectURL(l)})},b=()=>{var t=v.value||5;s(p,"d/debug/pprof/profile?seconds="+t).then(e=>{for(var o=atob(e.data.file),n=new Uint8Array(o.length),u=0;u<o.length;u++)n[u]=o.charCodeAt(u);var l=new Blob([n],{type:"application/octet-stream"}),r=URL.createObjectURL(l),d=document.createElement("a");d.href=r,d.download="cpupprof",d.click(),URL.revokeObjectURL(r)})};return(t,e)=>{const o=Vue.resolveComponent("n-button"),n=Vue.resolveComponent("n-button-group"),u=Vue.resolveComponent("n-input-number"),l=Vue.resolveComponent("n-input-group"),r=Vue.resolveComponent("n-space"),d=Vue.resolveComponent("n-layout");return Vue.openBlock(),Vue.createElementBlock("div",null,[Vue.createVNode(d,null,{default:Vue.withCtx(()=>[Vue.createElementVNode("div",x,[Vue.createVNode(n,null,{default:Vue.withCtx(()=>[Vue.createVNode(o,{type:"primary",style:{"margin-bottom":"30px","margin-right":"20px"},onClick:e[0]||(e[0]=a=>_())},{default:Vue.withCtx(()=>[E]),_:1}),Vue.createVNode(o,{type:"primary",secondary:"",style:{"margin-bottom":"30px","margin-right":"20px"},onClick:e[1]||(e[1]=a=>C())},{default:Vue.withCtx(()=>[w]),_:1})]),_:1}),Vue.createVNode(r,{vertical:"",style:{display:"inline-flex","margin-right":"20px"}},{default:Vue.withCtx(()=>[Vue.createVNode(l,null,{default:Vue.withCtx(()=>[Vue.createVNode(u,{"show-button":!1,style:{width:"180px"},value:V.value,"onUpdate:value":e[2]||(e[2]=a=>V.value=a),min:1,max:99,placeholder:"请输入CPU数据采集时长"},null,8,["value"]),Vue.createVNode(o,{type:"primary",onClick:e[3]||(e[3]=a=>h())},{default:Vue.withCtx(()=>[F]),_:1}),Vue.createVNode(o,{type:"primary",secondary:"",onClick:e[4]||(e[4]=a=>b())},{default:Vue.withCtx(()=>[N]),_:1})]),_:1}),k]),_:1})]),Vue.createElementVNode("div",B,[Vue.createVNode(y,{name:"Debug",value:m.value,"onUpdate:value":e[5]||(e[5]=a=>m.value=a)},null,8,["value"]),m.value?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createElementBlock("div",{key:0,innerHTML:c.value},null,8,P)),i.value?(Vue.openBlock(),Vue.createElementBlock("iframe",{key:1,src:i.value,width:"100%",height:"800"},null,8,U)):Vue.createCommentVNode("",!0)])]),_:1})])}}});export{T as default};

var ki=Object.defineProperty;var Di=(m,y,o)=>y in m?ki(m,y,{enumerable:!0,configurable:!0,writable:!0,value:o}):m[y]=o;var H=(m,y,o)=>(Di(m,typeof y!="symbol"?y+"":y,o),o);import{s as wi}from"./index-de28ae1e.js";import{ac as Ai}from"./vendor-ec30964e.js";var tr=(m=>(m.CONNECTED="connected",m.DISCONNECTED="disconnected",m.RECONNECTED="reconnected",m))(tr||{}),Zn=(m=>(m.Connecting="connecting",m.Reconnecting="reconnecting",m))(Zn||{}),Kr=(m=>(m.VideoCodecInfo="videoCodecInfo",m.VideoFrame="videoFrame",m.Error="error",m))(Kr||{}),lt=(m=>(m.AudioCodecInfo="audioCodecInfo",m.AudioFrame="audioFrame",m.Error="error",m))(lt||{}),fi={},Si={get exports(){return fi},set exports(m){fi=m}};(function(m){var y=Object.prototype.hasOwnProperty,o="~";function p(){}Object.create&&(p.prototype=Object.create(null),new p().__proto__||(o=!1));function _(N,S,D){this.fn=N,this.context=S,this.once=D||!1}function C(N,S,D,U,L){if(typeof D!="function")throw new TypeError("The listener must be a function");var z=new _(D,U||N,L),K=o?o+S:S;return N._events[K]?N._events[K].fn?N._events[K]=[N._events[K],z]:N._events[K].push(z):(N._events[K]=z,N._eventsCount++),N}function A(N,S){--N._eventsCount===0?N._events=new p:delete N._events[S]}function I(){this._events=new p,this._eventsCount=0}I.prototype.eventNames=function(){var S=[],D,U;if(this._eventsCount===0)return S;for(U in D=this._events)y.call(D,U)&&S.push(o?U.slice(1):U);return Object.getOwnPropertySymbols?S.concat(Object.getOwnPropertySymbols(D)):S},I.prototype.listeners=function(S){var D=o?o+S:S,U=this._events[D];if(!U)return[];if(U.fn)return[U.fn];for(var L=0,z=U.length,K=new Array(z);L<z;L++)K[L]=U[L].fn;return K},I.prototype.listenerCount=function(S){var D=o?o+S:S,U=this._events[D];return U?U.fn?1:U.length:0},I.prototype.emit=function(S,D,U,L,z,K){var Y=o?o+S:S;if(!this._events[Y])return!1;var B=this._events[Y],ne=arguments.length,ve,ee;if(B.fn){switch(B.once&&this.removeListener(S,B.fn,void 0,!0),ne){case 1:return B.fn.call(B.context),!0;case 2:return B.fn.call(B.context,D),!0;case 3:return B.fn.call(B.context,D,U),!0;case 4:return B.fn.call(B.context,D,U,L),!0;case 5:return B.fn.call(B.context,D,U,L,z),!0;case 6:return B.fn.call(B.context,D,U,L,z,K),!0}for(ee=1,ve=new Array(ne-1);ee<ne;ee++)ve[ee-1]=arguments[ee];B.fn.apply(B.context,ve)}else{var ie=B.length,X;for(ee=0;ee<ie;ee++)switch(B[ee].once&&this.removeListener(S,B[ee].fn,void 0,!0),ne){case 1:B[ee].fn.call(B[ee].context);break;case 2:B[ee].fn.call(B[ee].context,D);break;case 3:B[ee].fn.call(B[ee].context,D,U);break;case 4:B[ee].fn.call(B[ee].context,D,U,L);break;default:if(!ve)for(X=1,ve=new Array(ne-1);X<ne;X++)ve[X-1]=arguments[X];B[ee].fn.apply(B[ee].context,ve)}}return!0},I.prototype.on=function(S,D,U){return C(this,S,D,U,!1)},I.prototype.once=function(S,D,U){return C(this,S,D,U,!0)},I.prototype.removeListener=function(S,D,U,L){var z=o?o+S:S;if(!this._events[z])return this;if(!D)return A(this,z),this;var K=this._events[z];if(K.fn)K.fn===D&&(!L||K.once)&&(!U||K.context===U)&&A(this,z);else{for(var Y=0,B=[],ne=K.length;Y<ne;Y++)(K[Y].fn!==D||L&&!K[Y].once||U&&K[Y].context!==U)&&B.push(K[Y]);B.length?this._events[z]=B.length===1?B[0]:B:A(this,z)}return this},I.prototype.removeAllListeners=function(S){var D;return S?(D=o?o+S:S,this._events[D]&&A(this,D)):(this._events=new p,this._eventsCount=0),this},I.prototype.off=I.prototype.removeListener,I.prototype.addListener=I.prototype.on,I.prefixed=o,I.EventEmitter=I,m.exports=I})(Si);const _i=Symbol("instance"),ei=Symbol("abortCtrl"),Zt=Symbol("cacheResult");class Fi{constructor(y,o,p){H(this,"oldState");H(this,"newState");H(this,"action");H(this,"error");this.oldState=y,this.newState=o,this.action=p}toString(){return`${this.action}ing`}}class pi extends Error{constructor(o,p,_){super(p);H(this,"state");H(this,"message");H(this,"cause");this.state=o,this.message=p,this.cause=_}}const Qn=new Map,Ri=Object.getPrototypeOf((async()=>{})()).constructor;function Ve(m,y,o={}){return(p,_,C)=>{const A=_;Qn.has(p)||(Qn.set(p,[]),Object.defineProperty(p,"stateDiagram",{configurable:!0,get(){let N=new Set,S=[],D=[];const U=Qn.get(p),L=new Set;Object.defineProperty(p,"allStates",{value:L});const z=Object.getPrototypeOf(p);Qn.has(z)&&(z.stateDiagram.forEach(Y=>N.add(Y)),z.allStates.forEach(Y=>L.add(Y))),U.forEach(({from:Y,to:B,action:ne})=>{typeof Y=="string"?S.push({from:Y,to:B,action:ne}):Y.length?Y.forEach(ve=>{S.push({from:ve,to:B,action:ne})}):D.push({to:B,action:ne})}),S.forEach(({from:Y,to:B,action:ne})=>{L.add(Y),L.add(B),L.add(ne+"ing"),N.add(`${Y} --> ${ne}ing : ${ne}`),N.add(`${ne}ing --> ${B} : ${ne} 🟢`),N.add(`${ne}ing --> ${Y} : ${ne} 🔴`)}),D.forEach(({to:Y,action:B})=>{N.add(`${B}ing --> ${Y} : ${B} 🟢`),L.forEach(ne=>{ne!==Y&&N.add(`${ne} --> ${B}ing : ${B}`)})});const K=[...N];return Object.defineProperty(p,"stateDiagram",{value:K}),K}})),Qn.get(p).push({from:m,to:y,action:A});const I=C.value;C.value=async function(...N){if(this.state===y)return this[Zt];let S=null;if(Array.isArray(m)?m.length==0?this[ei]&&(this[ei].aborted=!0):(typeof this.state!="string"||!m.includes(this.state))&&(S=new pi(this._state,`${this.name} ${A} to ${y} failed: current state ${this._state} not in from config`)):m!==this.state&&(S=new pi(this._state,`${this.name} ${A} to ${y} failed: current state ${this._state} not from ${m}`)),S){if(o.ignoreError)return S;throw S}const D=this.state;hi.call(this,new Fi(D,y,A));const U={aborted:!1};this[ei]=U;try{const L=I.apply(this,N);return L instanceof Ri?this[Zt]=await L:this[Zt]=L,U.aborted?this[Zt]:(this[ei]=void 0,hi.call(this,y),this[Zt])}catch(L){const z=L instanceof Error?L.message:String(L);if(hi.call(this,D,z),o.ignoreError)return L;throw L}}}}function ri(...m){return(y,o,p)=>{const _=p.value,C=o;p.value=function(...A){if(!m.includes(this.state.toString()))throw new pi(this.state,`${this.name} ${C} failed: current state ${this.state} not in ${m}`);return _.apply(this,A)}}}const $i=(()=>typeof window<"u"&&window.__AFSM__?(o,p)=>{window.dispatchEvent(new CustomEvent(o,{detail:p}))}:typeof importScripts<"u"?(o,p)=>{postMessage({type:o,payload:p})}:()=>{})();function hi(m,y){const o=this._state;this._state=m;const p=m.toString();m&&this.emit(p,o),this.emit(Te.STATECHANGED,m,o,y),this.updateDevTools({value:m,old:o,err:y})}var Ho,zo;const ci=class extends fi{constructor(o,p){super();H(this,"name");H(this,"groupName");H(this,"_state",ci.INIT);H(this,Ho);H(this,zo);this.name=o,this.groupName=p,o||(o=Date.now().toString(36));const _=Object.getPrototypeOf(this);p||(this.groupName=this.constructor.name);const C=_[_i];C?this.name=C.name+"-"+C.count++:_[_i]={name:this.name,count:0},this.updateDevTools({diagram:this.stateDiagram})}get stateDiagram(){return[]}updateDevTools(o={}){$i(ci.UPDATEAFSM,{name:this.name,group:this.groupName,...o})}get state(){return this._state}};let Te=ci;Ho=Zt,zo=ei,H(Te,"STATECHANGED","stateChanged"),H(Te,"UPDATEAFSM","updateAFSM"),H(Te,"INIT","[*]"),H(Te,"ON","on"),H(Te,"OFF","off");var Oi=globalThis&&globalThis.__awaiter||function(m,y,o,p){function _(C){return C instanceof o?C:new o(function(A){A(C)})}return new(o||(o=Promise))(function(C,A){function I(D){try{S(p.next(D))}catch(U){A(U)}}function N(D){try{S(p.throw(D))}catch(U){A(U)}}function S(D){D.done?C(D.value):_(D.value).then(I,N)}S((p=p.apply(m,y||[])).next())})};const vi=Symbol(32),mi=Symbol(16),yi=Symbol(8);class ti{constructor(y){this.g=y,this.consumed=0,y&&(this.need=y.next().value)}setG(y){this.g=y,this.demand(y.next().value,!0)}consume(){this.buffer&&this.consumed&&(this.buffer.copyWithin(0,this.consumed),this.buffer=this.buffer.subarray(0,this.buffer.length-this.consumed),this.consumed=0)}demand(y,o){return o&&this.consume(),this.need=y,this.flush()}read(y){return Oi(this,void 0,void 0,function*(){return this.lastReadPromise&&(yield this.lastReadPromise),this.lastReadPromise=new Promise((o,p)=>{var _;this.reject=p,this.resolve=A=>{delete this.lastReadPromise,delete this.resolve,delete this.need,o(A)},this.demand(y,!0)||(_=this.pull)===null||_===void 0||_.call(this,y)})})}readU32(){return this.read(vi)}readU16(){return this.read(mi)}readU8(){return this.read(yi)}close(){var y;this.g&&this.g.return(),this.buffer&&this.buffer.subarray(0,0),(y=this.reject)===null||y===void 0||y.call(this,new Error("EOF")),delete this.lastReadPromise}flush(){if(!this.buffer||!this.need)return;let y=null;const o=this.buffer.subarray(this.consumed);let p=0;const _=C=>o.length<(p=C);if(typeof this.need=="number"){if(_(this.need))return;y=o.subarray(0,p)}else if(this.need===vi){if(_(4))return;y=o[0]<<24|o[1]<<16|o[2]<<8|o[3]}else if(this.need===mi){if(_(2))return;y=o[0]<<8|o[1]}else if(this.need===yi){if(_(1))return;y=o[0]}else if("buffer"in this.need){if("byteOffset"in this.need){if(_(this.need.byteLength-this.need.byteOffset))return;new Uint8Array(this.need.buffer,this.need.byteOffset).set(o.subarray(0,p)),y=this.need}else if(this.g){this.g.throw(new Error("Unsupported type"));return}}else{if(_(this.need.byteLength))return;new Uint8Array(this.need).set(o.subarray(0,p)),y=this.need}return this.consumed+=p,this.g?this.demand(this.g.next(y).value,!0):this.resolve&&this.resolve(y),y}write(y){if(y instanceof Uint8Array?this.malloc(y.length).set(y):"buffer"in y?this.malloc(y.byteLength).set(new Uint8Array(y.buffer,y.byteOffset,y.byteLength)):this.malloc(y.byteLength).set(new Uint8Array(y)),this.g||this.resolve)this.flush();else return new Promise(o=>this.pull=o)}writeU32(y){this.malloc(4).set([y>>24&255,y>>16&255,y>>8&255,y&255]),this.flush()}writeU16(y){this.malloc(2).set([y>>8&255,y&255]),this.flush()}writeU8(y){this.malloc(1)[0]=y,this.flush()}malloc(y){if(this.buffer){const o=this.buffer.length,p=o+y;if(p<=this.buffer.buffer.byteLength-this.buffer.byteOffset)this.buffer=new Uint8Array(this.buffer.buffer,this.buffer.byteOffset,p);else{const _=new Uint8Array(p);_.set(this.buffer),this.buffer=_}return this.buffer.subarray(o,p)}else return this.buffer=new Uint8Array(y),this.buffer}}ti.U32=vi;ti.U16=mi;ti.U8=yi;var Vi=Object.defineProperty,Ni=Object.getOwnPropertyDescriptor,ni=(m,y,o,p)=>{for(var _=p>1?void 0:p?Ni(y,o):y,C=m.length-1,A;C>=0;C--)(A=m[C])&&(_=(p?A(y,o,_):A(_))||_);return p&&_&&Vi(y,o,_),_};function bi(m,y=1,o=1){return m<=1?o:bi(m-1,o,y+o)}function Ui(m){const y=Math.round(m/2)+1;return y>6?13*1e3:bi(y)*1e3}class Ei{constructor(){H(this,"total",0);H(this,"_buffer",0);H(this,"lastTime",0);H(this,"_bps",0)}add(y){const o=Date.now();this._buffer+=y,this.lastTime===0?this.lastTime=o:o-this.lastTime>1e3&&(this._bps=this._buffer*1e3/(o-this.lastTime)>>0,this._buffer=0,this.lastTime=o),this.total+=y}get bps(){return Date.now()-this.lastTime>5e3?0:this._bps}}class ht extends Te{constructor(o,p={}){super(o||"conn","Connection");H(this,"oput");H(this,"up",new Ei);H(this,"down",new Ei);H(this,"underlyingSink",{write:async o=>{var p;return this.down.add(o.length||o.byteLength),(p=this.oput)==null?void 0:p.write(o)}});H(this,"abortCtrl");this.url=o,this.options=p,this.options.reconnectTimeout||(this.options.reconnectTimeout=Ui)}read(o){return Promise.reject("not connected")}async connect(){this.abortCtrl=new AbortController,console.log(`connected: ${this.url}`),console.time(this.url),this.onConnected(await this._connect())}_close(){}_send(o){}async reconnect(){console.log(`reconnect: ${this.url}`),console.time(this.url),this.abortCtrl=new AbortController,this.onConnected(await this._connect())}onConnected(o){if(console.timeEnd(this.url),!!o)return this.oput||(this.oput=new ti),this.read=this.oput.read.bind(this.oput),o.pipeTo(new WritableStream(this.underlyingSink),this.abortCtrl).catch(p=>{this.abortCtrl.signal.aborted||this.disconnect(p)})}disconnect(o){console.warn(`disconnect: ${this.url}`,o),this.options.reconnectCount&&this.reconnectAfter()}reconnectAfter(o=1e3,p=0){console.log(`reconnect after ${o}ms`),setTimeout(()=>{this.reconnect().catch(_=>{console.log(`reconnect failed: ${this.url}`,_),p<this.options.reconnectCount&&this.reconnectAfter(this.options.reconnectTimeout(p),p+1)})},o)}close(){var o;(o=this.abortCtrl)==null||o.abort(),this._close()}send(o){this.up.add(o.byteLength-("byteOffset"in o?o.byteOffset:0)),this._send(o)}}ni([ri(tr.CONNECTED)],ht.prototype,"read",1);ni([Ve([tr.DISCONNECTED,Te.INIT],tr.CONNECTED)],ht.prototype,"connect",1);ni([Ve(tr.DISCONNECTED,tr.RECONNECTED)],ht.prototype,"reconnect",1);ni([Ve(tr.CONNECTED,tr.DISCONNECTED)],ht.prototype,"disconnect",1);ni([Ve([],Te.INIT)],ht.prototype,"close",1);class Ii extends ht{constructor(){super(...arguments);H(this,"ws")}async _connect(){const o=new WebSocket(this.url);return this.ws=o,o.binaryType="arraybuffer",new Promise((p,_)=>{o.onerror=_,o.onopen=()=>{p(new ReadableStream({start:C=>{o.onclose=A=>C.error(A),o.onmessage=A=>C.enqueue(A.data)}}))}})}_close(){var o;(o=this.ws)==null||o.close(1e3,"close")}_send(o){var p;(p=this.ws)==null||p.send(o)}}class Mi extends ht{async _connect(){const y=await fetch(this.url,{...this.options.requestInit,signal:this.abortCtrl.signal});if(!y.body)throw new Error("no body");return y.body}}class ji extends ht{constructor(y){super(y.name),this.file=y}async _connect(){return this.file.stream()}}function xi(m){if(m instanceof File)return"file";if(m.startsWith("ws://")||m.startsWith("wss://"))return"ws";if(m.startsWith("http://")||m.startsWith("https://"))return"http";if(m.startsWith("wt://"))return"wt";if(m.startsWith("webrtc://"))return"webrtc";throw new Error("url is invalid")}var Li=Object.defineProperty,Wi=Object.getOwnPropertyDescriptor,ii=(m,y,o,p)=>{for(var _=p>1?void 0:p?Wi(y,o):y,C=m.length-1,A;C>=0;C--)(A=m[C])&&(_=(p?A(y,o,_):A(_))||_);return p&&_&&Li(y,o,_),_};class It extends Te{constructor(o){super();H(this,"decoder");H(this,"config");H(this,"module",{});H(this,"createModule");H(this,"width");H(this,"height");this.width=0,this.height=0,this.createModule=o}initialize(){return new Promise(o=>{const p=this.module;p.print=_=>console.log(_),p.printErr=_=>console.log(`[JS] ERROR: ${_}`),p.onAbort=()=>console.log("[JS] FATAL: WASM ABORTED"),p.postRun=_=>{this.decoder=new this.module.VideoDecoder(this),console.log("video soft decoder initialize success"),o()},this.createModule(p)})}configure(o){this.config=o,this.decoder.setCodec(this.config.codec,this.config.description?"avcc":"annexb",this.config.description??"")}decode(o){this.decoder.decode(o.data,o.type=="key",o.timestamp)}flush(){}reset(){this.config=void 0,this.decoder&&this.decoder.clear()}close(){this.removeAllListeners(),this.decoder&&(this.decoder.clear(),this.decoder.delete())}videoInfo(o,p){this.width=o,this.height=p;let _={width:o,height:p};this.emit(Kr.VideoCodecInfo,_)}yuvData(o,p){if(!this.module)return;const _=this.width*this.height,C=_>>2;let A=this.module.HEAPU32[o>>2],I=this.module.HEAPU32[(o>>2)+1],N=this.module.HEAPU32[(o>>2)+2],S=this.module.HEAPU8.subarray(A,A+_),D=this.module.HEAPU8.subarray(I,I+C),U=this.module.HEAPU8.subarray(N,N+C);const L=new Uint8Array(_+C+C);L.set(S),L.set(D,_),L.set(U,_+C),this.emit(Kr.VideoFrame,new VideoFrame(L,{codedWidth:this.width,codedHeight:this.height,format:"I420",timestamp:p}))}errorInfo(o){let p={errMsg:o};this.emit(Kr.Error,p)}}ii([Ve([Te.INIT,"closed"],"initialized")],It.prototype,"initialize",1);ii([Ve("initialized","configured")],It.prototype,"configure",1);ii([ri("configured")],It.prototype,"decode",1);ii([Ve([],Te.INIT)],It.prototype,"reset",1);ii([Ve([],"closed")],It.prototype,"close",1);var Bi=(()=>{var m=import.meta.url;return function(o){o=o||{};var o=typeof o<"u"?o:{},p,_;o.ready=new Promise(function(e,r){p=e,_=r});var C=Object.assign({},o),A="./this.program",I=typeof window=="object",N=typeof importScripts=="function",S=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",D="";function U(e){return o.locateFile?o.locateFile(e,D):D+e}var L,z,K,Y,B,ne;S?(N?D=require("path").dirname(D)+"/":D=__dirname+"/",ne=()=>{B||(Y=require("fs"),B=require("path"))},L=function(r,t){return ne(),r=B.normalize(r),Y.readFileSync(r,t?void 0:"utf8")},K=e=>{var r=L(e,!0);return r.buffer||(r=new Uint8Array(r)),r},z=(e,r,t)=>{ne(),e=B.normalize(e),Y.readFile(e,function(n,s){n?t(n):r(s.buffer)})},process.argv.length>1&&(A=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(e){if(!(e instanceof di))throw e}),process.on("unhandledRejection",function(e){throw e}),o.inspect=function(){return"[Emscripten Module object]"}):(I||N)&&(N?D=self.location.href:typeof document<"u"&&document.currentScript&&(D=document.currentScript.src),m&&(D=m),D.indexOf("blob:")!==0?D=D.substr(0,D.replace(/[?#].*/,"").lastIndexOf("/")+1):D="",L=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},N&&(K=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),z=(e,r,t)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{if(n.status==200||n.status==0&&n.response){r(n.response);return}t()},n.onerror=t,n.send(null)});var ve=o.print||console.log.bind(console),ee=o.printErr||console.warn.bind(console);Object.assign(o,C),C=null,o.arguments&&o.arguments,o.thisProgram&&(A=o.thisProgram),o.quit&&o.quit;var ie=4,X;o.wasmBinary&&(X=o.wasmBinary),o.noExitRuntime,typeof WebAssembly!="object"&&je("no native wasm support detected");var be,Me=!1;function he(e,r){e||je(r)}var nr=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Re(e,r,t){for(var n=r+t,s=r;e[s]&&!(s>=n);)++s;if(s-r>16&&e.buffer&&nr)return nr.decode(e.subarray(r,s));for(var a="";r<s;){var f=e[r++];if(!(f&128)){a+=String.fromCharCode(f);continue}var u=e[r++]&63;if((f&224)==192){a+=String.fromCharCode((f&31)<<6|u);continue}var d=e[r++]&63;if((f&240)==224?f=(f&15)<<12|u<<6|d:f=(f&7)<<18|u<<12|d<<6|e[r++]&63,f<65536)a+=String.fromCharCode(f);else{var v=f-65536;a+=String.fromCharCode(55296|v>>10,56320|v&1023)}}return a}function Xe(e,r){return e?Re(se,e,r):""}function Je(e,r,t,n){if(!(n>0))return 0;for(var s=t,a=t+n-1,f=0;f<e.length;++f){var u=e.charCodeAt(f);if(u>=55296&&u<=57343){var d=e.charCodeAt(++f);u=65536+((u&1023)<<10)|d&1023}if(u<=127){if(t>=a)break;r[t++]=u}else if(u<=2047){if(t+1>=a)break;r[t++]=192|u>>6,r[t++]=128|u&63}else if(u<=65535){if(t+2>=a)break;r[t++]=224|u>>12,r[t++]=128|u>>6&63,r[t++]=128|u&63}else{if(t+3>=a)break;r[t++]=240|u>>18,r[t++]=128|u>>12&63,r[t++]=128|u>>6&63,r[t++]=128|u&63}}return r[t]=0,t-s}function hr(e,r,t){return Je(e,se,r,t)}function ir(e){for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);n>=55296&&n<=57343&&(n=65536+((n&1023)<<10)|e.charCodeAt(++t)&1023),n<=127?++r:n<=2047?r+=2:n<=65535?r+=3:r+=4}return r}var Dr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;function Yr(e,r){for(var t=e,n=t>>1,s=n+r/2;!(n>=s)&&ge[n];)++n;if(t=n<<1,t-e>32&&Dr)return Dr.decode(se.subarray(e,t));for(var a="",f=0;!(f>=r/2);++f){var u=we[e+f*2>>1];if(u==0)break;a+=String.fromCharCode(u)}return a}function ue(e,r,t){if(t===void 0&&(t=2147483647),t<2)return 0;t-=2;for(var n=r,s=t<e.length*2?t/2:e.length,a=0;a<s;++a){var f=e.charCodeAt(a);we[r>>1]=f,r+=2}return we[r>>1]=0,r-n}function pt(e){return e.length*2}function tn(e,r){for(var t=0,n="";!(t>=r/4);){var s=M[e+t*4>>2];if(s==0)break;if(++t,s>=65536){var a=s-65536;n+=String.fromCharCode(55296|a>>10,56320|a&1023)}else n+=String.fromCharCode(s)}return n}function nn(e,r,t){if(t===void 0&&(t=2147483647),t<4)return 0;for(var n=r,s=n+t-4,a=0;a<e.length;++a){var f=e.charCodeAt(a);if(f>=55296&&f<=57343){var u=e.charCodeAt(++a);f=65536+((f&1023)<<10)|u&1023}if(M[r>>2]=f,r+=4,r+4>s)break}return M[r>>2]=0,r-n}function Mt(e){for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);n>=55296&&n<=57343&&++t,r+=4}return r}function yr(e,r,t){for(var n=0;n<e.length;++n)le[r++>>0]=e.charCodeAt(n);t||(le[r>>0]=0)}var Pe,le,se,we,ge,M,q,vt,Jr;function jt(e){Pe=e,o.HEAP8=le=new Int8Array(e),o.HEAP16=we=new Int16Array(e),o.HEAP32=M=new Int32Array(e),o.HEAPU8=se=new Uint8Array(e),o.HEAPU16=ge=new Uint16Array(e),o.HEAPU32=q=new Uint32Array(e),o.HEAPF32=vt=new Float32Array(e),o.HEAPF64=Jr=new Float64Array(e)}o.INITIAL_MEMORY;var Qr,Zr=[],mt=[],yt=[];function on(){if(o.preRun)for(typeof o.preRun=="function"&&(o.preRun=[o.preRun]);o.preRun.length;)un(o.preRun.shift());Ur(Zr)}function sn(){!o.noFSInit&&!i.init.initialized&&i.init(),i.ignorePermissions=!1,Ur(mt)}function an(){if(o.postRun)for(typeof o.postRun=="function"&&(o.postRun=[o.postRun]);o.postRun.length;)Or(o.postRun.shift());Ur(yt)}function un(e){Zr.unshift(e)}function gr(e){mt.unshift(e)}function Or(e){yt.unshift(e)}var xe=0,or=null;function et(e){return e}function Vr(e){xe++,o.monitorRunDependencies&&o.monitorRunDependencies(xe)}function pr(e){if(xe--,o.monitorRunDependencies&&o.monitorRunDependencies(xe),xe==0&&or){var r=or;or=null,r()}}function je(e){o.onAbort&&o.onAbort(e),e="Aborted("+e+")",ee(e),Me=!0,e+=". Build with -sASSERTIONS for more info.";var r=new WebAssembly.RuntimeError(e);throw _(r),r}var Ne="data:application/octet-stream;base64,";function rt(e){return e.startsWith(Ne)}function gt(e){return e.startsWith("file://")}var pe;o.locateFile?(pe="videodec.wasm",rt(pe)||(pe=U(pe))):pe=new URL(""+new URL("videodec-9aaeada5.wasm",import.meta.url).href,self.location).toString();function Nr(e){try{if(e==pe&&X)return new Uint8Array(X);if(K)return K(e);throw"both async and sync fetching of the wasm failed"}catch(r){je(r)}}function tt(){if(!X&&(I||N)){if(typeof fetch=="function"&&!gt(pe))return fetch(pe,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+pe+"'";return e.arrayBuffer()}).catch(function(){return Nr(pe)});if(z)return new Promise(function(e,r){z(pe,function(t){e(new Uint8Array(t))},r)})}return Promise.resolve().then(function(){return Nr(pe)})}function nt(){var e={a:li};function r(f,u){var d=f.exports;o.asm=d,be=o.asm.G,jt(be.buffer),Qr=o.asm.J,gr(o.asm.H),pr()}Vr();function t(f){r(f.instance)}function n(f){return tt().then(function(u){return WebAssembly.instantiate(u,e)}).then(function(u){return u}).then(f,function(u){ee("failed to asynchronously prepare wasm: "+u),je(u)})}function s(){return!X&&typeof WebAssembly.instantiateStreaming=="function"&&!rt(pe)&&!gt(pe)&&!S&&typeof fetch=="function"?fetch(pe,{credentials:"same-origin"}).then(function(f){var u=WebAssembly.instantiateStreaming(f,e);return u.then(t,function(d){return ee("wasm streaming compile failed: "+d),ee("falling back to ArrayBuffer instantiation"),n(t)})}):n(t)}if(o.instantiateWasm)try{var a=o.instantiateWasm(e,r);return a}catch(f){return ee("Module.instantiateWasm callback failed with error: "+f),!1}return s().catch(_),{}}var oe,ke;function Ur(e){for(;e.length>0;){var r=e.shift();if(typeof r=="function"){r(o);continue}var t=r.func;typeof t=="number"?r.arg===void 0?sr(t)():sr(t)(r.arg):t(r.arg===void 0?null:r.arg)}}var wr=[];function sr(e){var r=wr[e];return r||(e>=wr.length&&(wr.length=e+1),wr[e]=r=Qr.get(e)),r}function fn(e){return Gr(e+24)+24}function xt(e){this.excPtr=e,this.ptr=e-24,this.set_type=function(r){q[this.ptr+4>>2]=r},this.get_type=function(){return q[this.ptr+4>>2]},this.set_destructor=function(r){q[this.ptr+8>>2]=r},this.get_destructor=function(){return q[this.ptr+8>>2]},this.set_refcount=function(r){M[this.ptr>>2]=r},this.set_caught=function(r){r=r?1:0,le[this.ptr+12>>0]=r},this.get_caught=function(){return le[this.ptr+12>>0]!=0},this.set_rethrown=function(r){r=r?1:0,le[this.ptr+13>>0]=r},this.get_rethrown=function(){return le[this.ptr+13>>0]!=0},this.init=function(r,t){this.set_adjusted_ptr(0),this.set_type(r),this.set_destructor(t),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var r=M[this.ptr>>2];M[this.ptr>>2]=r+1},this.release_ref=function(){var r=M[this.ptr>>2];return M[this.ptr>>2]=r-1,r===1},this.set_adjusted_ptr=function(r){q[this.ptr+16>>2]=r},this.get_adjusted_ptr=function(){return q[this.ptr+16>>2]},this.get_exception_ptr=function(){var r=Jn(this.get_type());if(r)return q[this.excPtr>>2];var t=this.get_adjusted_ptr();return t!==0?t:this.excPtr}}function Le(e,r,t){var n=new xt(e);throw n.init(r,t),e}function Ar(e){return M[Xn()>>2]=e,e}var x={isAbs:e=>e.charAt(0)==="/",splitPath:e=>{var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return r.exec(e).slice(1)},normalizeArray:(e,r)=>{for(var t=0,n=e.length-1;n>=0;n--){var s=e[n];s==="."?e.splice(n,1):s===".."?(e.splice(n,1),t++):t&&(e.splice(n,1),t--)}if(r)for(;t;t--)e.unshift("..");return e},normalize:e=>{var r=x.isAbs(e),t=e.substr(-1)==="/";return e=x.normalizeArray(e.split("/").filter(n=>!!n),!r).join("/"),!e&&!r&&(e="."),e&&t&&(e+="/"),(r?"/":"")+e},dirname:e=>{var r=x.splitPath(e),t=r[0],n=r[1];return!t&&!n?".":(n&&(n=n.substr(0,n.length-1)),t+n)},basename:e=>{if(e==="/")return"/";e=x.normalize(e),e=e.replace(/\/$/,"");var r=e.lastIndexOf("/");return r===-1?e:e.substr(r+1)},join:function(){var e=Array.prototype.slice.call(arguments,0);return x.normalize(e.join("/"))},join2:(e,r)=>x.normalize(e+"/"+r)};function it(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}else if(S)try{var r=require("crypto");return function(){return r.randomBytes(1)[0]}}catch{}return function(){je("randomDevice")}}var De={resolve:function(){for(var e="",r=!1,t=arguments.length-1;t>=-1&&!r;t--){var n=t>=0?arguments[t]:i.cwd();if(typeof n!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";e=n+"/"+e,r=x.isAbs(n)}return e=x.normalizeArray(e.split("/").filter(s=>!!s),!r).join("/"),(r?"/":"")+e||"."},relative:(e,r)=>{e=De.resolve(e).substr(1),r=De.resolve(r).substr(1);function t(v){for(var E=0;E<v.length&&v[E]==="";E++);for(var b=v.length-1;b>=0&&v[b]==="";b--);return E>b?[]:v.slice(E,b-E+1)}for(var n=t(e.split("/")),s=t(r.split("/")),a=Math.min(n.length,s.length),f=a,u=0;u<a;u++)if(n[u]!==s[u]){f=u;break}for(var d=[],u=f;u<n.length;u++)d.push("..");return d=d.concat(s.slice(f)),d.join("/")}},We={ttys:[],init:function(){},shutdown:function(){},register:function(e,r){We.ttys[e]={input:[],output:[],ops:r},i.registerDevice(e,We.stream_ops)},stream_ops:{open:function(e){var r=We.ttys[e.node.rdev];if(!r)throw new i.ErrnoError(43);e.tty=r,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,r,t,n,s){if(!e.tty||!e.tty.ops.get_char)throw new i.ErrnoError(60);for(var a=0,f=0;f<n;f++){var u;try{u=e.tty.ops.get_char(e.tty)}catch{throw new i.ErrnoError(29)}if(u===void 0&&a===0)throw new i.ErrnoError(6);if(u==null)break;a++,r[t+f]=u}return a&&(e.node.timestamp=Date.now()),a},write:function(e,r,t,n,s){if(!e.tty||!e.tty.ops.put_char)throw new i.ErrnoError(60);try{for(var a=0;a<n;a++)e.tty.ops.put_char(e.tty,r[t+a])}catch{throw new i.ErrnoError(29)}return n&&(e.node.timestamp=Date.now()),a}},default_tty_ops:{get_char:function(e){if(!e.input.length){var r=null;if(S){var t=256,n=Buffer.alloc(t),s=0;try{s=Y.readSync(process.stdin.fd,n,0,t,-1)}catch(a){if(a.toString().includes("EOF"))s=0;else throw a}s>0?r=n.slice(0,s).toString("utf-8"):r=null}else typeof window<"u"&&typeof window.prompt=="function"?(r=window.prompt("Input: "),r!==null&&(r+=`
`)):typeof readline=="function"&&(r=readline(),r!==null&&(r+=`
`));if(!r)return null;e.input=Vt(r,!0)}return e.input.shift()},put_char:function(e,r){r===null||r===10?(ve(Re(e.output,0)),e.output=[]):r!=0&&e.output.push(r)},flush:function(e){e.output&&e.output.length>0&&(ve(Re(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,r){r===null||r===10?(ee(Re(e.output,0)),e.output=[]):r!=0&&e.output.push(r)},flush:function(e){e.output&&e.output.length>0&&(ee(Re(e.output,0)),e.output=[])}}};function ot(e,r){se.fill(0,e,e+r)}function wt(e,r){return Math.ceil(e/r)*r}function Ir(e){e=wt(e,65536);var r=Yn(65536,e);return r?(ot(r,e),r):0}var V={ops_table:null,mount:function(e){return V.createNode(null,"/",16895,0)},createNode:function(e,r,t,n){if(i.isBlkdev(t)||i.isFIFO(t))throw new i.ErrnoError(63);V.ops_table||(V.ops_table={dir:{node:{getattr:V.node_ops.getattr,setattr:V.node_ops.setattr,lookup:V.node_ops.lookup,mknod:V.node_ops.mknod,rename:V.node_ops.rename,unlink:V.node_ops.unlink,rmdir:V.node_ops.rmdir,readdir:V.node_ops.readdir,symlink:V.node_ops.symlink},stream:{llseek:V.stream_ops.llseek}},file:{node:{getattr:V.node_ops.getattr,setattr:V.node_ops.setattr},stream:{llseek:V.stream_ops.llseek,read:V.stream_ops.read,write:V.stream_ops.write,allocate:V.stream_ops.allocate,mmap:V.stream_ops.mmap,msync:V.stream_ops.msync}},link:{node:{getattr:V.node_ops.getattr,setattr:V.node_ops.setattr,readlink:V.node_ops.readlink},stream:{}},chrdev:{node:{getattr:V.node_ops.getattr,setattr:V.node_ops.setattr},stream:i.chrdev_stream_ops}});var s=i.createNode(e,r,t,n);return i.isDir(s.mode)?(s.node_ops=V.ops_table.dir.node,s.stream_ops=V.ops_table.dir.stream,s.contents={}):i.isFile(s.mode)?(s.node_ops=V.ops_table.file.node,s.stream_ops=V.ops_table.file.stream,s.usedBytes=0,s.contents=null):i.isLink(s.mode)?(s.node_ops=V.ops_table.link.node,s.stream_ops=V.ops_table.link.stream):i.isChrdev(s.mode)&&(s.node_ops=V.ops_table.chrdev.node,s.stream_ops=V.ops_table.chrdev.stream),s.timestamp=Date.now(),e&&(e.contents[r]=s,e.timestamp=s.timestamp),s},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,r){var t=e.contents?e.contents.length:0;if(!(t>=r)){var n=1024*1024;r=Math.max(r,t*(t<n?2:1.125)>>>0),t!=0&&(r=Math.max(r,256));var s=e.contents;e.contents=new Uint8Array(r),e.usedBytes>0&&e.contents.set(s.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,r){if(e.usedBytes!=r)if(r==0)e.contents=null,e.usedBytes=0;else{var t=e.contents;e.contents=new Uint8Array(r),t&&e.contents.set(t.subarray(0,Math.min(r,e.usedBytes))),e.usedBytes=r}},node_ops:{getattr:function(e){var r={};return r.dev=i.isChrdev(e.mode)?e.id:1,r.ino=e.id,r.mode=e.mode,r.nlink=1,r.uid=0,r.gid=0,r.rdev=e.rdev,i.isDir(e.mode)?r.size=4096:i.isFile(e.mode)?r.size=e.usedBytes:i.isLink(e.mode)?r.size=e.link.length:r.size=0,r.atime=new Date(e.timestamp),r.mtime=new Date(e.timestamp),r.ctime=new Date(e.timestamp),r.blksize=4096,r.blocks=Math.ceil(r.size/r.blksize),r},setattr:function(e,r){r.mode!==void 0&&(e.mode=r.mode),r.timestamp!==void 0&&(e.timestamp=r.timestamp),r.size!==void 0&&V.resizeFileStorage(e,r.size)},lookup:function(e,r){throw i.genericErrors[44]},mknod:function(e,r,t,n){return V.createNode(e,r,t,n)},rename:function(e,r,t){if(i.isDir(e.mode)){var n;try{n=i.lookupNode(r,t)}catch{}if(n)for(var s in n.contents)throw new i.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=t,r.contents[t]=e,r.timestamp=e.parent.timestamp,e.parent=r},unlink:function(e,r){delete e.contents[r],e.timestamp=Date.now()},rmdir:function(e,r){var t=i.lookupNode(e,r);for(var n in t.contents)throw new i.ErrnoError(55);delete e.contents[r],e.timestamp=Date.now()},readdir:function(e){var r=[".",".."];for(var t in e.contents)e.contents.hasOwnProperty(t)&&r.push(t);return r},symlink:function(e,r,t){var n=V.createNode(e,r,41471,0);return n.link=t,n},readlink:function(e){if(!i.isLink(e.mode))throw new i.ErrnoError(28);return e.link}},stream_ops:{read:function(e,r,t,n,s){var a=e.node.contents;if(s>=e.node.usedBytes)return 0;var f=Math.min(e.node.usedBytes-s,n);if(f>8&&a.subarray)r.set(a.subarray(s,s+f),t);else for(var u=0;u<f;u++)r[t+u]=a[s+u];return f},write:function(e,r,t,n,s,a){if(!n)return 0;var f=e.node;if(f.timestamp=Date.now(),r.subarray&&(!f.contents||f.contents.subarray)){if(a)return f.contents=r.subarray(t,t+n),f.usedBytes=n,n;if(f.usedBytes===0&&s===0)return f.contents=r.slice(t,t+n),f.usedBytes=n,n;if(s+n<=f.usedBytes)return f.contents.set(r.subarray(t,t+n),s),n}if(V.expandFileStorage(f,s+n),f.contents.subarray&&r.subarray)f.contents.set(r.subarray(t,t+n),s);else for(var u=0;u<n;u++)f.contents[s+u]=r[t+u];return f.usedBytes=Math.max(f.usedBytes,s+n),n},llseek:function(e,r,t){var n=r;if(t===1?n+=e.position:t===2&&i.isFile(e.node.mode)&&(n+=e.node.usedBytes),n<0)throw new i.ErrnoError(28);return n},allocate:function(e,r,t){V.expandFileStorage(e.node,r+t),e.node.usedBytes=Math.max(e.node.usedBytes,r+t)},mmap:function(e,r,t,n,s){if(!i.isFile(e.node.mode))throw new i.ErrnoError(43);var a,f,u=e.node.contents;if(!(s&2)&&u.buffer===Pe)f=!1,a=u.byteOffset;else{if((t>0||t+r<u.length)&&(u.subarray?u=u.subarray(t,t+r):u=Array.prototype.slice.call(u,t,t+r)),f=!0,a=Ir(r),!a)throw new i.ErrnoError(48);le.set(u,a)}return{ptr:a,allocated:f}},msync:function(e,r,t,n,s){if(!i.isFile(e.node.mode))throw new i.ErrnoError(43);return s&2||V.stream_ops.write(e,r,0,n,t,!1),0}}};function de(e,r,t,n){var s=n?"":"al "+e;z(e,function(a){he(a,'Loading data file "'+e+'" failed (no arrayBuffer).'),r(new Uint8Array(a)),s&&pr()},function(a){if(t)t();else throw'Loading data file "'+e+'" failed.'}),s&&Vr()}var i={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(e,r={})=>{if(e=De.resolve(i.cwd(),e),!e)return{path:"",node:null};var t={follow_mount:!0,recurse_count:0};if(r=Object.assign(t,r),r.recurse_count>8)throw new i.ErrnoError(32);for(var n=x.normalizeArray(e.split("/").filter(b=>!!b),!1),s=i.root,a="/",f=0;f<n.length;f++){var u=f===n.length-1;if(u&&r.parent)break;if(s=i.lookupNode(s,n[f]),a=x.join2(a,n[f]),i.isMountpoint(s)&&(!u||u&&r.follow_mount)&&(s=s.mounted.root),!u||r.follow)for(var d=0;i.isLink(s.mode);){var v=i.readlink(a);a=De.resolve(x.dirname(a),v);var E=i.lookupPath(a,{recurse_count:r.recurse_count+1});if(s=E.node,d++>40)throw new i.ErrnoError(32)}}return{path:a,node:s}},getPath:e=>{for(var r;;){if(i.isRoot(e)){var t=e.mount.mountpoint;return r?t[t.length-1]!=="/"?t+"/"+r:t+r:t}r=r?e.name+"/"+r:e.name,e=e.parent}},hashName:(e,r)=>{for(var t=0,n=0;n<r.length;n++)t=(t<<5)-t+r.charCodeAt(n)|0;return(e+t>>>0)%i.nameTable.length},hashAddNode:e=>{var r=i.hashName(e.parent.id,e.name);e.name_next=i.nameTable[r],i.nameTable[r]=e},hashRemoveNode:e=>{var r=i.hashName(e.parent.id,e.name);if(i.nameTable[r]===e)i.nameTable[r]=e.name_next;else for(var t=i.nameTable[r];t;){if(t.name_next===e){t.name_next=e.name_next;break}t=t.name_next}},lookupNode:(e,r)=>{var t=i.mayLookup(e);if(t)throw new i.ErrnoError(t,e);for(var n=i.hashName(e.id,r),s=i.nameTable[n];s;s=s.name_next){var a=s.name;if(s.parent.id===e.id&&a===r)return s}return i.lookup(e,r)},createNode:(e,r,t,n)=>{var s=new i.FSNode(e,r,t,n);return i.hashAddNode(s),s},destroyNode:e=>{i.hashRemoveNode(e)},isRoot:e=>e===e.parent,isMountpoint:e=>!!e.mounted,isFile:e=>(e&61440)===32768,isDir:e=>(e&61440)===16384,isLink:e=>(e&61440)===40960,isChrdev:e=>(e&61440)===8192,isBlkdev:e=>(e&61440)===24576,isFIFO:e=>(e&61440)===4096,isSocket:e=>(e&49152)===49152,flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:e=>{var r=i.flagModes[e];if(typeof r>"u")throw new Error("Unknown file open mode: "+e);return r},flagsToPermissionString:e=>{var r=["r","w","rw"][e&3];return e&512&&(r+="w"),r},nodePermissions:(e,r)=>i.ignorePermissions?0:r.includes("r")&&!(e.mode&292)||r.includes("w")&&!(e.mode&146)||r.includes("x")&&!(e.mode&73)?2:0,mayLookup:e=>{var r=i.nodePermissions(e,"x");return r||(e.node_ops.lookup?0:2)},mayCreate:(e,r)=>{try{var t=i.lookupNode(e,r);return 20}catch{}return i.nodePermissions(e,"wx")},mayDelete:(e,r,t)=>{var n;try{n=i.lookupNode(e,r)}catch(a){return a.errno}var s=i.nodePermissions(e,"wx");if(s)return s;if(t){if(!i.isDir(n.mode))return 54;if(i.isRoot(n)||i.getPath(n)===i.cwd())return 10}else if(i.isDir(n.mode))return 31;return 0},mayOpen:(e,r)=>e?i.isLink(e.mode)?32:i.isDir(e.mode)&&(i.flagsToPermissionString(r)!=="r"||r&512)?31:i.nodePermissions(e,i.flagsToPermissionString(r)):44,MAX_OPEN_FDS:4096,nextfd:(e=0,r=i.MAX_OPEN_FDS)=>{for(var t=e;t<=r;t++)if(!i.streams[t])return t;throw new i.ErrnoError(33)},getStream:e=>i.streams[e],createStream:(e,r,t)=>{i.FSStream||(i.FSStream=function(){this.shared={}},i.FSStream.prototype={},Object.defineProperties(i.FSStream.prototype,{object:{get:function(){return this.node},set:function(s){this.node=s}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}},flags:{get:function(){return this.shared.flags},set:function(s){this.shared.flags=s}},position:{get:function(){return this.shared.position},set:function(s){this.shared.position=s}}})),e=Object.assign(new i.FSStream,e);var n=i.nextfd(r,t);return e.fd=n,i.streams[n]=e,e},closeStream:e=>{i.streams[e]=null},chrdev_stream_ops:{open:e=>{var r=i.getDevice(e.node.rdev);e.stream_ops=r.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:()=>{throw new i.ErrnoError(70)}},major:e=>e>>8,minor:e=>e&255,makedev:(e,r)=>e<<8|r,registerDevice:(e,r)=>{i.devices[e]={stream_ops:r}},getDevice:e=>i.devices[e],getMounts:e=>{for(var r=[],t=[e];t.length;){var n=t.pop();r.push(n),t.push.apply(t,n.mounts)}return r},syncfs:(e,r)=>{typeof e=="function"&&(r=e,e=!1),i.syncFSRequests++,i.syncFSRequests>1&&ee("warning: "+i.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var t=i.getMounts(i.root.mount),n=0;function s(f){return i.syncFSRequests--,r(f)}function a(f){if(f)return a.errored?void 0:(a.errored=!0,s(f));++n>=t.length&&s(null)}t.forEach(f=>{if(!f.type.syncfs)return a(null);f.type.syncfs(f,e,a)})},mount:(e,r,t)=>{var n=t==="/",s=!t,a;if(n&&i.root)throw new i.ErrnoError(10);if(!n&&!s){var f=i.lookupPath(t,{follow_mount:!1});if(t=f.path,a=f.node,i.isMountpoint(a))throw new i.ErrnoError(10);if(!i.isDir(a.mode))throw new i.ErrnoError(54)}var u={type:e,opts:r,mountpoint:t,mounts:[]},d=e.mount(u);return d.mount=u,u.root=d,n?i.root=d:a&&(a.mounted=u,a.mount&&a.mount.mounts.push(u)),d},unmount:e=>{var r=i.lookupPath(e,{follow_mount:!1});if(!i.isMountpoint(r.node))throw new i.ErrnoError(28);var t=r.node,n=t.mounted,s=i.getMounts(n);Object.keys(i.nameTable).forEach(f=>{for(var u=i.nameTable[f];u;){var d=u.name_next;s.includes(u.mount)&&i.destroyNode(u),u=d}}),t.mounted=null;var a=t.mount.mounts.indexOf(n);t.mount.mounts.splice(a,1)},lookup:(e,r)=>e.node_ops.lookup(e,r),mknod:(e,r,t)=>{var n=i.lookupPath(e,{parent:!0}),s=n.node,a=x.basename(e);if(!a||a==="."||a==="..")throw new i.ErrnoError(28);var f=i.mayCreate(s,a);if(f)throw new i.ErrnoError(f);if(!s.node_ops.mknod)throw new i.ErrnoError(63);return s.node_ops.mknod(s,a,r,t)},create:(e,r)=>(r=r!==void 0?r:438,r&=4095,r|=32768,i.mknod(e,r,0)),mkdir:(e,r)=>(r=r!==void 0?r:511,r&=1023,r|=16384,i.mknod(e,r,0)),mkdirTree:(e,r)=>{for(var t=e.split("/"),n="",s=0;s<t.length;++s)if(t[s]){n+="/"+t[s];try{i.mkdir(n,r)}catch(a){if(a.errno!=20)throw a}}},mkdev:(e,r,t)=>(typeof t>"u"&&(t=r,r=438),r|=8192,i.mknod(e,r,t)),symlink:(e,r)=>{if(!De.resolve(e))throw new i.ErrnoError(44);var t=i.lookupPath(r,{parent:!0}),n=t.node;if(!n)throw new i.ErrnoError(44);var s=x.basename(r),a=i.mayCreate(n,s);if(a)throw new i.ErrnoError(a);if(!n.node_ops.symlink)throw new i.ErrnoError(63);return n.node_ops.symlink(n,s,e)},rename:(e,r)=>{var t=x.dirname(e),n=x.dirname(r),s=x.basename(e),a=x.basename(r),f,u,d;if(f=i.lookupPath(e,{parent:!0}),u=f.node,f=i.lookupPath(r,{parent:!0}),d=f.node,!u||!d)throw new i.ErrnoError(44);if(u.mount!==d.mount)throw new i.ErrnoError(75);var v=i.lookupNode(u,s),E=De.relative(e,n);if(E.charAt(0)!==".")throw new i.ErrnoError(28);if(E=De.relative(r,t),E.charAt(0)!==".")throw new i.ErrnoError(55);var b;try{b=i.lookupNode(d,a)}catch{}if(v!==b){var w=i.isDir(v.mode),P=i.mayDelete(u,s,w);if(P)throw new i.ErrnoError(P);if(P=b?i.mayDelete(d,a,w):i.mayCreate(d,a),P)throw new i.ErrnoError(P);if(!u.node_ops.rename)throw new i.ErrnoError(63);if(i.isMountpoint(v)||b&&i.isMountpoint(b))throw new i.ErrnoError(10);if(d!==u&&(P=i.nodePermissions(u,"w"),P))throw new i.ErrnoError(P);i.hashRemoveNode(v);try{u.node_ops.rename(v,d,a)}catch($){throw $}finally{i.hashAddNode(v)}}},rmdir:e=>{var r=i.lookupPath(e,{parent:!0}),t=r.node,n=x.basename(e),s=i.lookupNode(t,n),a=i.mayDelete(t,n,!0);if(a)throw new i.ErrnoError(a);if(!t.node_ops.rmdir)throw new i.ErrnoError(63);if(i.isMountpoint(s))throw new i.ErrnoError(10);t.node_ops.rmdir(t,n),i.destroyNode(s)},readdir:e=>{var r=i.lookupPath(e,{follow:!0}),t=r.node;if(!t.node_ops.readdir)throw new i.ErrnoError(54);return t.node_ops.readdir(t)},unlink:e=>{var r=i.lookupPath(e,{parent:!0}),t=r.node;if(!t)throw new i.ErrnoError(44);var n=x.basename(e),s=i.lookupNode(t,n),a=i.mayDelete(t,n,!1);if(a)throw new i.ErrnoError(a);if(!t.node_ops.unlink)throw new i.ErrnoError(63);if(i.isMountpoint(s))throw new i.ErrnoError(10);t.node_ops.unlink(t,n),i.destroyNode(s)},readlink:e=>{var r=i.lookupPath(e),t=r.node;if(!t)throw new i.ErrnoError(44);if(!t.node_ops.readlink)throw new i.ErrnoError(28);return De.resolve(i.getPath(t.parent),t.node_ops.readlink(t))},stat:(e,r)=>{var t=i.lookupPath(e,{follow:!r}),n=t.node;if(!n)throw new i.ErrnoError(44);if(!n.node_ops.getattr)throw new i.ErrnoError(63);return n.node_ops.getattr(n)},lstat:e=>i.stat(e,!0),chmod:(e,r,t)=>{var n;if(typeof e=="string"){var s=i.lookupPath(e,{follow:!t});n=s.node}else n=e;if(!n.node_ops.setattr)throw new i.ErrnoError(63);n.node_ops.setattr(n,{mode:r&4095|n.mode&-4096,timestamp:Date.now()})},lchmod:(e,r)=>{i.chmod(e,r,!0)},fchmod:(e,r)=>{var t=i.getStream(e);if(!t)throw new i.ErrnoError(8);i.chmod(t.node,r)},chown:(e,r,t,n)=>{var s;if(typeof e=="string"){var a=i.lookupPath(e,{follow:!n});s=a.node}else s=e;if(!s.node_ops.setattr)throw new i.ErrnoError(63);s.node_ops.setattr(s,{timestamp:Date.now()})},lchown:(e,r,t)=>{i.chown(e,r,t,!0)},fchown:(e,r,t)=>{var n=i.getStream(e);if(!n)throw new i.ErrnoError(8);i.chown(n.node,r,t)},truncate:(e,r)=>{if(r<0)throw new i.ErrnoError(28);var t;if(typeof e=="string"){var n=i.lookupPath(e,{follow:!0});t=n.node}else t=e;if(!t.node_ops.setattr)throw new i.ErrnoError(63);if(i.isDir(t.mode))throw new i.ErrnoError(31);if(!i.isFile(t.mode))throw new i.ErrnoError(28);var s=i.nodePermissions(t,"w");if(s)throw new i.ErrnoError(s);t.node_ops.setattr(t,{size:r,timestamp:Date.now()})},ftruncate:(e,r)=>{var t=i.getStream(e);if(!t)throw new i.ErrnoError(8);if(!(t.flags&2097155))throw new i.ErrnoError(28);i.truncate(t.node,r)},utime:(e,r,t)=>{var n=i.lookupPath(e,{follow:!0}),s=n.node;s.node_ops.setattr(s,{timestamp:Math.max(r,t)})},open:(e,r,t)=>{if(e==="")throw new i.ErrnoError(44);r=typeof r=="string"?i.modeStringToFlags(r):r,t=typeof t>"u"?438:t,r&64?t=t&4095|32768:t=0;var n;if(typeof e=="object")n=e;else{e=x.normalize(e);try{var s=i.lookupPath(e,{follow:!(r&131072)});n=s.node}catch{}}var a=!1;if(r&64)if(n){if(r&128)throw new i.ErrnoError(20)}else n=i.mknod(e,t,0),a=!0;if(!n)throw new i.ErrnoError(44);if(i.isChrdev(n.mode)&&(r&=-513),r&65536&&!i.isDir(n.mode))throw new i.ErrnoError(54);if(!a){var f=i.mayOpen(n,r);if(f)throw new i.ErrnoError(f)}r&512&&!a&&i.truncate(n,0),r&=-131713;var u=i.createStream({node:n,path:i.getPath(n),flags:r,seekable:!0,position:0,stream_ops:n.stream_ops,ungotten:[],error:!1});return u.stream_ops.open&&u.stream_ops.open(u),o.logReadFiles&&!(r&1)&&(i.readFiles||(i.readFiles={}),e in i.readFiles||(i.readFiles[e]=1)),u},close:e=>{if(i.isClosed(e))throw new i.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(r){throw r}finally{i.closeStream(e.fd)}e.fd=null},isClosed:e=>e.fd===null,llseek:(e,r,t)=>{if(i.isClosed(e))throw new i.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new i.ErrnoError(70);if(t!=0&&t!=1&&t!=2)throw new i.ErrnoError(28);return e.position=e.stream_ops.llseek(e,r,t),e.ungotten=[],e.position},read:(e,r,t,n,s)=>{if(n<0||s<0)throw new i.ErrnoError(28);if(i.isClosed(e))throw new i.ErrnoError(8);if((e.flags&2097155)===1)throw new i.ErrnoError(8);if(i.isDir(e.node.mode))throw new i.ErrnoError(31);if(!e.stream_ops.read)throw new i.ErrnoError(28);var a=typeof s<"u";if(!a)s=e.position;else if(!e.seekable)throw new i.ErrnoError(70);var f=e.stream_ops.read(e,r,t,n,s);return a||(e.position+=f),f},write:(e,r,t,n,s,a)=>{if(n<0||s<0)throw new i.ErrnoError(28);if(i.isClosed(e))throw new i.ErrnoError(8);if(!(e.flags&2097155))throw new i.ErrnoError(8);if(i.isDir(e.node.mode))throw new i.ErrnoError(31);if(!e.stream_ops.write)throw new i.ErrnoError(28);e.seekable&&e.flags&1024&&i.llseek(e,0,2);var f=typeof s<"u";if(!f)s=e.position;else if(!e.seekable)throw new i.ErrnoError(70);var u=e.stream_ops.write(e,r,t,n,s,a);return f||(e.position+=u),u},allocate:(e,r,t)=>{if(i.isClosed(e))throw new i.ErrnoError(8);if(r<0||t<=0)throw new i.ErrnoError(28);if(!(e.flags&2097155))throw new i.ErrnoError(8);if(!i.isFile(e.node.mode)&&!i.isDir(e.node.mode))throw new i.ErrnoError(43);if(!e.stream_ops.allocate)throw new i.ErrnoError(138);e.stream_ops.allocate(e,r,t)},mmap:(e,r,t,n,s)=>{if(n&2&&!(s&2)&&(e.flags&2097155)!==2)throw new i.ErrnoError(2);if((e.flags&2097155)===1)throw new i.ErrnoError(2);if(!e.stream_ops.mmap)throw new i.ErrnoError(43);return e.stream_ops.mmap(e,r,t,n,s)},msync:(e,r,t,n,s)=>!e||!e.stream_ops.msync?0:e.stream_ops.msync(e,r,t,n,s),munmap:e=>0,ioctl:(e,r,t)=>{if(!e.stream_ops.ioctl)throw new i.ErrnoError(59);return e.stream_ops.ioctl(e,r,t)},readFile:(e,r={})=>{if(r.flags=r.flags||0,r.encoding=r.encoding||"binary",r.encoding!=="utf8"&&r.encoding!=="binary")throw new Error('Invalid encoding type "'+r.encoding+'"');var t,n=i.open(e,r.flags),s=i.stat(e),a=s.size,f=new Uint8Array(a);return i.read(n,f,0,a,0),r.encoding==="utf8"?t=Re(f,0):r.encoding==="binary"&&(t=f),i.close(n),t},writeFile:(e,r,t={})=>{t.flags=t.flags||577;var n=i.open(e,t.flags,t.mode);if(typeof r=="string"){var s=new Uint8Array(ir(r)+1),a=Je(r,s,0,s.length);i.write(n,s,0,a,void 0,t.canOwn)}else if(ArrayBuffer.isView(r))i.write(n,r,0,r.byteLength,void 0,t.canOwn);else throw new Error("Unsupported data type");i.close(n)},cwd:()=>i.currentPath,chdir:e=>{var r=i.lookupPath(e,{follow:!0});if(r.node===null)throw new i.ErrnoError(44);if(!i.isDir(r.node.mode))throw new i.ErrnoError(54);var t=i.nodePermissions(r.node,"x");if(t)throw new i.ErrnoError(t);i.currentPath=r.path},createDefaultDirectories:()=>{i.mkdir("/tmp"),i.mkdir("/home"),i.mkdir("/home/web_user")},createDefaultDevices:()=>{i.mkdir("/dev"),i.registerDevice(i.makedev(1,3),{read:()=>0,write:(r,t,n,s,a)=>s}),i.mkdev("/dev/null",i.makedev(1,3)),We.register(i.makedev(5,0),We.default_tty_ops),We.register(i.makedev(6,0),We.default_tty1_ops),i.mkdev("/dev/tty",i.makedev(5,0)),i.mkdev("/dev/tty1",i.makedev(6,0));var e=it();i.createDevice("/dev","random",e),i.createDevice("/dev","urandom",e),i.mkdir("/dev/shm"),i.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{i.mkdir("/proc");var e=i.mkdir("/proc/self");i.mkdir("/proc/self/fd"),i.mount({mount:()=>{var r=i.createNode(e,"fd",16895,73);return r.node_ops={lookup:(t,n)=>{var s=+n,a=i.getStream(s);if(!a)throw new i.ErrnoError(8);var f={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>a.path}};return f.parent=f,f}},r}},{},"/proc/self/fd")},createStandardStreams:()=>{o.stdin?i.createDevice("/dev","stdin",o.stdin):i.symlink("/dev/tty","/dev/stdin"),o.stdout?i.createDevice("/dev","stdout",null,o.stdout):i.symlink("/dev/tty","/dev/stdout"),o.stderr?i.createDevice("/dev","stderr",null,o.stderr):i.symlink("/dev/tty1","/dev/stderr"),i.open("/dev/stdin",0),i.open("/dev/stdout",1),i.open("/dev/stderr",1)},ensureErrnoError:()=>{i.ErrnoError||(i.ErrnoError=function(r,t){this.node=t,this.setErrno=function(n){this.errno=n},this.setErrno(r),this.message="FS error"},i.ErrnoError.prototype=new Error,i.ErrnoError.prototype.constructor=i.ErrnoError,[44].forEach(e=>{i.genericErrors[e]=new i.ErrnoError(e),i.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:()=>{i.ensureErrnoError(),i.nameTable=new Array(4096),i.mount(V,{},"/"),i.createDefaultDirectories(),i.createDefaultDevices(),i.createSpecialDirectories(),i.filesystems={MEMFS:V}},init:(e,r,t)=>{i.init.initialized=!0,i.ensureErrnoError(),o.stdin=e||o.stdin,o.stdout=r||o.stdout,o.stderr=t||o.stderr,i.createStandardStreams()},quit:()=>{i.init.initialized=!1;for(var e=0;e<i.streams.length;e++){var r=i.streams[e];r&&i.close(r)}},getMode:(e,r)=>{var t=0;return e&&(t|=365),r&&(t|=146),t},findObject:(e,r)=>{var t=i.analyzePath(e,r);return t.exists?t.object:null},analyzePath:(e,r)=>{try{var t=i.lookupPath(e,{follow:!r});e=t.path}catch{}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var t=i.lookupPath(e,{parent:!0});n.parentExists=!0,n.parentPath=t.path,n.parentObject=t.node,n.name=x.basename(e),t=i.lookupPath(e,{follow:!r}),n.exists=!0,n.path=t.path,n.object=t.node,n.name=t.node.name,n.isRoot=t.path==="/"}catch(s){n.error=s.errno}return n},createPath:(e,r,t,n)=>{e=typeof e=="string"?e:i.getPath(e);for(var s=r.split("/").reverse();s.length;){var a=s.pop();if(a){var f=x.join2(e,a);try{i.mkdir(f)}catch{}e=f}}return f},createFile:(e,r,t,n,s)=>{var a=x.join2(typeof e=="string"?e:i.getPath(e),r),f=i.getMode(n,s);return i.create(a,f)},createDataFile:(e,r,t,n,s,a)=>{var f=r;e&&(e=typeof e=="string"?e:i.getPath(e),f=r?x.join2(e,r):e);var u=i.getMode(n,s),d=i.create(f,u);if(t){if(typeof t=="string"){for(var v=new Array(t.length),E=0,b=t.length;E<b;++E)v[E]=t.charCodeAt(E);t=v}i.chmod(d,u|146);var w=i.open(d,577);i.write(w,t,0,t.length,0,a),i.close(w),i.chmod(d,u)}return d},createDevice:(e,r,t,n)=>{var s=x.join2(typeof e=="string"?e:i.getPath(e),r),a=i.getMode(!!t,!!n);i.createDevice.major||(i.createDevice.major=64);var f=i.makedev(i.createDevice.major++,0);return i.registerDevice(f,{open:u=>{u.seekable=!1},close:u=>{n&&n.buffer&&n.buffer.length&&n(10)},read:(u,d,v,E,b)=>{for(var w=0,P=0;P<E;P++){var $;try{$=t()}catch{throw new i.ErrnoError(29)}if($===void 0&&w===0)throw new i.ErrnoError(6);if($==null)break;w++,d[v+P]=$}return w&&(u.node.timestamp=Date.now()),w},write:(u,d,v,E,b)=>{for(var w=0;w<E;w++)try{n(d[v+w])}catch{throw new i.ErrnoError(29)}return E&&(u.node.timestamp=Date.now()),w}}),i.mkdev(s,a,f)},forceLoadFile:e=>{if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(L)try{e.contents=Vt(L(e.url),!0),e.usedBytes=e.contents.length}catch{throw new i.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:(e,r,t,n,s)=>{function a(){this.lengthKnown=!1,this.chunks=[]}if(a.prototype.get=function(P){if(!(P>this.length-1||P<0)){var $=P%this.chunkSize,G=P/this.chunkSize|0;return this.getter(G)[$]}},a.prototype.setDataGetter=function(P){this.getter=P},a.prototype.cacheLength=function(){var P=new XMLHttpRequest;if(P.open("HEAD",t,!1),P.send(null),!(P.status>=200&&P.status<300||P.status===304))throw new Error("Couldn't load "+t+". Status: "+P.status);var $=Number(P.getResponseHeader("Content-length")),G,re=(G=P.getResponseHeader("Accept-Ranges"))&&G==="bytes",fe=(G=P.getResponseHeader("Content-Encoding"))&&G==="gzip",ye=1024*1024;re||(ye=$);var ce=(_e,Ie)=>{if(_e>Ie)throw new Error("invalid range ("+_e+", "+Ie+") or no bytes requested!");if(Ie>$-1)throw new Error("only "+$+" bytes available! programmer error!");var te=new XMLHttpRequest;if(te.open("GET",t,!1),$!==ye&&te.setRequestHeader("Range","bytes="+_e+"-"+Ie),te.responseType="arraybuffer",te.overrideMimeType&&te.overrideMimeType("text/plain; charset=x-user-defined"),te.send(null),!(te.status>=200&&te.status<300||te.status===304))throw new Error("Couldn't load "+t+". Status: "+te.status);return te.response!==void 0?new Uint8Array(te.response||[]):Vt(te.responseText||"",!0)},Qe=this;Qe.setDataGetter(_e=>{var Ie=_e*ye,te=(_e+1)*ye-1;if(te=Math.min(te,$-1),typeof Qe.chunks[_e]>"u"&&(Qe.chunks[_e]=ce(Ie,te)),typeof Qe.chunks[_e]>"u")throw new Error("doXHR failed!");return Qe.chunks[_e]}),(fe||!$)&&(ye=$=1,$=this.getter(0).length,ye=$,ve("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=$,this._chunkSize=ye,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!N)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var f=new a;Object.defineProperties(f,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var u={isDevice:!1,contents:f}}else var u={isDevice:!1,url:t};var d=i.createFile(e,r,u,n,s);u.contents?d.contents=u.contents:u.url&&(d.contents=null,d.url=u.url),Object.defineProperties(d,{usedBytes:{get:function(){return this.contents.length}}});var v={},E=Object.keys(d.stream_ops);E.forEach(w=>{var P=d.stream_ops[w];v[w]=function(){return i.forceLoadFile(d),P.apply(null,arguments)}});function b(w,P,$,G,re){var fe=w.node.contents;if(re>=fe.length)return 0;var ye=Math.min(fe.length-re,G);if(fe.slice)for(var ce=0;ce<ye;ce++)P[$+ce]=fe[re+ce];else for(var ce=0;ce<ye;ce++)P[$+ce]=fe.get(re+ce);return ye}return v.read=(w,P,$,G,re)=>(i.forceLoadFile(d),b(w,P,$,G,re)),v.mmap=(w,P,$,G,re)=>{i.forceLoadFile(d);var fe=Ir(P);if(!fe)throw new i.ErrnoError(48);return b(w,le,fe,P,$),{ptr:fe,allocated:!0}},d.stream_ops=v,d},createPreloadedFile:(e,r,t,n,s,a,f,u,d,v)=>{var E=r?De.resolve(x.join2(e,r)):e;function b(w){function P($){v&&v(),u||i.createDataFile(e,r,$,n,s,d),a&&a(),pr()}Browser.handledByPreloadPlugin(w,E,P,()=>{f&&f(),pr()})||P(w)}Vr(),typeof t=="string"?de(t,w=>b(w),f):b(t)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(e,r,t)=>{r=r||(()=>{}),t=t||(()=>{});var n=i.indexedDB();try{var s=n.open(i.DB_NAME(),i.DB_VERSION)}catch(a){return t(a)}s.onupgradeneeded=()=>{ve("creating db");var a=s.result;a.createObjectStore(i.DB_STORE_NAME)},s.onsuccess=()=>{var a=s.result,f=a.transaction([i.DB_STORE_NAME],"readwrite"),u=f.objectStore(i.DB_STORE_NAME),d=0,v=0,E=e.length;function b(){v==0?r():t()}e.forEach(w=>{var P=u.put(i.analyzePath(w).object.contents,w);P.onsuccess=()=>{d++,d+v==E&&b()},P.onerror=()=>{v++,d+v==E&&b()}}),f.onerror=t},s.onerror=t},loadFilesFromDB:(e,r,t)=>{r=r||(()=>{}),t=t||(()=>{});var n=i.indexedDB();try{var s=n.open(i.DB_NAME(),i.DB_VERSION)}catch(a){return t(a)}s.onupgradeneeded=t,s.onsuccess=()=>{var a=s.result;try{var f=a.transaction([i.DB_STORE_NAME],"readonly")}catch(w){t(w);return}var u=f.objectStore(i.DB_STORE_NAME),d=0,v=0,E=e.length;function b(){v==0?r():t()}e.forEach(w=>{var P=u.get(w);P.onsuccess=()=>{i.analyzePath(w).exists&&i.unlink(w),i.createDataFile(x.dirname(w),x.basename(w),P.result,!0,!0,!0),d++,d+v==E&&b()},P.onerror=()=>{v++,d+v==E&&b()}}),f.onerror=t},s.onerror=t}},ae={DEFAULT_POLLMASK:5,calculateAt:function(e,r,t){if(x.isAbs(r))return r;var n;if(e===-100)n=i.cwd();else{var s=i.getStream(e);if(!s)throw new i.ErrnoError(8);n=s.path}if(r.length==0){if(!t)throw new i.ErrnoError(44);return n}return x.join2(n,r)},doStat:function(e,r,t){try{var n=e(r)}catch(s){if(s&&s.node&&x.normalize(r)!==x.normalize(i.getPath(s.node)))return-54;throw s}return M[t>>2]=n.dev,M[t+4>>2]=0,M[t+8>>2]=n.ino,M[t+12>>2]=n.mode,M[t+16>>2]=n.nlink,M[t+20>>2]=n.uid,M[t+24>>2]=n.gid,M[t+28>>2]=n.rdev,M[t+32>>2]=0,ke=[n.size>>>0,(oe=n.size,+Math.abs(oe)>=1?oe>0?(Math.min(+Math.floor(oe/4294967296),4294967295)|0)>>>0:~~+Math.ceil((oe-+(~~oe>>>0))/4294967296)>>>0:0)],M[t+40>>2]=ke[0],M[t+44>>2]=ke[1],M[t+48>>2]=4096,M[t+52>>2]=n.blocks,M[t+56>>2]=n.atime.getTime()/1e3|0,M[t+60>>2]=0,M[t+64>>2]=n.mtime.getTime()/1e3|0,M[t+68>>2]=0,M[t+72>>2]=n.ctime.getTime()/1e3|0,M[t+76>>2]=0,ke=[n.ino>>>0,(oe=n.ino,+Math.abs(oe)>=1?oe>0?(Math.min(+Math.floor(oe/4294967296),4294967295)|0)>>>0:~~+Math.ceil((oe-+(~~oe>>>0))/4294967296)>>>0:0)],M[t+80>>2]=ke[0],M[t+84>>2]=ke[1],0},doMsync:function(e,r,t,n,s){var a=se.slice(e,e+t);i.msync(r,a,s,t,n)},varargs:void 0,get:function(){ae.varargs+=4;var e=M[ae.varargs-4>>2];return e},getStr:function(e){var r=Xe(e);return r},getStreamFromFD:function(e){var r=i.getStream(e);if(!r)throw new i.ErrnoError(8);return r}};function Mr(e,r,t){ae.varargs=t;try{var n=ae.getStreamFromFD(e);switch(r){case 0:{var s=ae.get();if(s<0)return-28;var a;return a=i.createStream(n,s),a.fd}case 1:case 2:return 0;case 3:return n.flags;case 4:{var s=ae.get();return n.flags|=s,0}case 5:{var s=ae.get(),f=0;return we[s+f>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return Ar(28),-1;default:return-28}}catch(u){if(typeof i>"u"||!(u instanceof i.ErrnoError))throw u;return-u.errno}}function ar(e,r,t,n){ae.varargs=n;try{r=ae.getStr(r),r=ae.calculateAt(e,r);var s=n?ae.get():0;return i.open(r,t,s).fd}catch(a){if(typeof i>"u"||!(a instanceof i.ErrnoError))throw a;return-a.errno}}function cn(e,r,t,n,s){}function jr(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}function ln(){for(var e=new Array(256),r=0;r<256;++r)e[r]=String.fromCharCode(r);xr=e}var xr=void 0;function me(e){for(var r="",t=e;se[t];)r+=xr[se[t++]];return r}var Ke={},Be={},vr={},Lt=48,Wt=57;function _r(e){if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var r=e.charCodeAt(0);return r>=Lt&&r<=Wt?"_"+e:e}function Lr(e,r){return e=_r(e),new Function("body","return function "+e+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(r)}function ur(e,r){var t=Lr(r,function(n){this.name=r,this.message=n;var s=new Error(n).stack;s!==void 0&&(this.stack=this.toString()+`
`+s.replace(/^Error(:[^\n]*)?\n/,""))});return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},t}var He=void 0;function W(e){throw new He(e)}var _t=void 0;function Er(e){throw new _t(e)}function ze(e,r,t){e.forEach(function(u){vr[u]=r});function n(u){var d=t(u);d.length!==e.length&&Er("Mismatched type converter count");for(var v=0;v<e.length;++v)Ae(e[v],d[v])}var s=new Array(r.length),a=[],f=0;r.forEach((u,d)=>{Be.hasOwnProperty(u)?s[d]=Be[u]:(a.push(u),Ke.hasOwnProperty(u)||(Ke[u]=[]),Ke[u].push(()=>{s[d]=Be[u],++f,f===a.length&&n(s)}))}),a.length===0&&n(s)}function Ae(e,r,t={}){if(!("argPackAdvance"in r))throw new TypeError("registerType registeredInstance requires argPackAdvance");var n=r.name;if(e||W('type "'+n+'" must have a positive integer typeid pointer'),Be.hasOwnProperty(e)){if(t.ignoreDuplicateRegistrations)return;W("Cannot register type '"+n+"' twice")}if(Be[e]=r,delete vr[e],Ke.hasOwnProperty(e)){var s=Ke[e];delete Ke[e],s.forEach(a=>a())}}function dn(e,r,t,n,s){var a=jr(t);r=me(r),Ae(e,{name:r,fromWireType:function(f){return!!f},toWireType:function(f,u){return u?n:s},argPackAdvance:8,readValueFromPointer:function(f){var u;if(t===1)u=le;else if(t===2)u=we;else if(t===4)u=M;else throw new TypeError("Unknown boolean type size: "+r);return this.fromWireType(u[f>>a])},destructorFunction:null})}function st(e){if(!(this instanceof $e)||!(e instanceof $e))return!1;for(var r=this.$$.ptrType.registeredClass,t=this.$$.ptr,n=e.$$.ptrType.registeredClass,s=e.$$.ptr;r.baseClass;)t=r.upcast(t),r=r.baseClass;for(;n.baseClass;)s=n.upcast(s),n=n.baseClass;return r===n&&t===s}function hn(e){return{count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}}function fr(e){function r(t){return t.$$.ptrType.registeredClass.name}W(r(e)+" instance already deleted")}var Wr=!1;function Et(e){}function pn(e){e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)}function bt(e){e.count.value-=1;var r=e.count.value===0;r&&pn(e)}function Pt(e,r,t){if(r===t)return e;if(t.baseClass===void 0)return null;var n=Pt(e,r,t.baseClass);return n===null?null:t.downcast(n)}var Ze={};function Bt(){return Object.keys(Ye).length}function vn(){var e=[];for(var r in Ye)Ye.hasOwnProperty(r)&&e.push(Ye[r]);return e}var cr=[];function br(){for(;cr.length;){var e=cr.pop();e.$$.deleteScheduled=!1,e.delete()}}var lr=void 0;function mn(e){lr=e,cr.length&&lr&&lr(br)}function yn(){o.getInheritedInstanceCount=Bt,o.getLiveInheritedInstances=vn,o.flushPendingDeletes=br,o.setDelayFunction=mn}var Ye={};function gn(e,r){for(r===void 0&&W("ptr should not be undefined");e.baseClass;)r=e.upcast(r),e=e.baseClass;return r}function wn(e,r){return r=gn(e,r),Ye[r]}function Pr(e,r){(!r.ptrType||!r.ptr)&&Er("makeClassHandle requires ptr and ptrType");var t=!!r.smartPtrType,n=!!r.smartPtr;return t!==n&&Er("Both smartPtrType and smartPtr must be specified"),r.count={value:1},Se(Object.create(e,{$$:{value:r}}))}function _n(e){var r=this.getPointee(e);if(!r)return this.destructor(e),null;var t=wn(this.registeredClass,r);if(t!==void 0){if(t.$$.count.value===0)return t.$$.ptr=r,t.$$.smartPtr=e,t.clone();var n=t.clone();return this.destructor(e),n}function s(){return this.isSmartPointer?Pr(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:r,smartPtrType:this,smartPtr:e}):Pr(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var a=this.registeredClass.getActualType(r),f=Ze[a];if(!f)return s.call(this);var u;this.isConst?u=f.constPointerType:u=f.pointerType;var d=Pt(r,this.registeredClass,u.registeredClass);return d===null?s.call(this):this.isSmartPointer?Pr(u.registeredClass.instancePrototype,{ptrType:u,ptr:d,smartPtrType:this,smartPtr:e}):Pr(u.registeredClass.instancePrototype,{ptrType:u,ptr:d})}function Se(e){return typeof FinalizationRegistry>"u"?(Se=r=>r,e):(Wr=new FinalizationRegistry(r=>{bt(r.$$)}),Se=r=>{var t=r.$$,n=!!t.smartPtr;if(n){var s={$$:t};Wr.register(r,s,r)}return r},Et=r=>Wr.unregister(r),Se(e))}function En(){if(this.$$.ptr||fr(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=Se(Object.create(Object.getPrototypeOf(this),{$$:{value:hn(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e}function bn(){this.$$.ptr||fr(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&W("Object already scheduled for deletion"),Et(this),bt(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function Pn(){return!this.$$.ptr}function Cn(){return this.$$.ptr||fr(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&W("Object already scheduled for deletion"),cr.push(this),cr.length===1&&lr&&lr(br),this.$$.deleteScheduled=!0,this}function Sr(){$e.prototype.isAliasOf=st,$e.prototype.clone=En,$e.prototype.delete=bn,$e.prototype.isDeleted=Pn,$e.prototype.deleteLater=Cn}function $e(){}function at(e,r,t){if(e[r].overloadTable===void 0){var n=e[r];e[r]=function(){return e[r].overloadTable.hasOwnProperty(arguments.length)||W("Function '"+t+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[r].overloadTable+")!"),e[r].overloadTable[arguments.length].apply(this,arguments)},e[r].overloadTable=[],e[r].overloadTable[n.argCount]=n}}function Ct(e,r,t){o.hasOwnProperty(e)?((t===void 0||o[e].overloadTable!==void 0&&o[e].overloadTable[t]!==void 0)&&W("Cannot register public name '"+e+"' twice"),at(o,e,e),o.hasOwnProperty(t)&&W("Cannot register multiple overloads of a function with the same number of arguments ("+t+")!"),o[e].overloadTable[t]=r):(o[e]=r,t!==void 0&&(o[e].numArguments=t))}function Tn(e,r,t,n,s,a,f,u){this.name=e,this.constructor=r,this.instancePrototype=t,this.rawDestructor=n,this.baseClass=s,this.getActualType=a,this.upcast=f,this.downcast=u,this.pureVirtualFunctions=[]}function Fr(e,r,t){for(;r!==t;)r.upcast||W("Expected null or instance of "+t.name+", got an instance of "+r.name),e=r.upcast(e),r=r.baseClass;return e}function kn(e,r){if(r===null)return this.isReference&&W("null is not a valid "+this.name),0;r.$$||W('Cannot pass "'+Hr(r)+'" as a '+this.name),r.$$.ptr||W("Cannot pass deleted object as a pointer of type "+this.name);var t=r.$$.ptrType.registeredClass,n=Fr(r.$$.ptr,t,this.registeredClass);return n}function Ht(e,r){var t;if(r===null)return this.isReference&&W("null is not a valid "+this.name),this.isSmartPointer?(t=this.rawConstructor(),e!==null&&e.push(this.rawDestructor,t),t):0;r.$$||W('Cannot pass "'+Hr(r)+'" as a '+this.name),r.$$.ptr||W("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&r.$$.ptrType.isConst&&W("Cannot convert argument of type "+(r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name)+" to parameter type "+this.name);var n=r.$$.ptrType.registeredClass;if(t=Fr(r.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(r.$$.smartPtr===void 0&&W("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:r.$$.smartPtrType===this?t=r.$$.smartPtr:W("Cannot convert argument of type "+(r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:t=r.$$.smartPtr;break;case 2:if(r.$$.smartPtrType===this)t=r.$$.smartPtr;else{var s=r.clone();t=this.rawShare(t,kr.toHandle(function(){s.delete()})),e!==null&&e.push(this.rawDestructor,t)}break;default:W("Unsupporting sharing policy")}return t}function zt(e,r){if(r===null)return this.isReference&&W("null is not a valid "+this.name),0;r.$$||W('Cannot pass "'+Hr(r)+'" as a '+this.name),r.$$.ptr||W("Cannot pass deleted object as a pointer of type "+this.name),r.$$.ptrType.isConst&&W("Cannot convert argument of type "+r.$$.ptrType.name+" to parameter type "+this.name);var t=r.$$.ptrType.registeredClass,n=Fr(r.$$.ptr,t,this.registeredClass);return n}function Cr(e){return this.fromWireType(q[e>>2])}function Dn(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e}function Tt(e){this.rawDestructor&&this.rawDestructor(e)}function er(e){e!==null&&e.delete()}function qt(){Fe.prototype.getPointee=Dn,Fe.prototype.destructor=Tt,Fe.prototype.argPackAdvance=8,Fe.prototype.readValueFromPointer=Cr,Fe.prototype.deleteObject=er,Fe.prototype.fromWireType=_n}function Fe(e,r,t,n,s,a,f,u,d,v,E){this.name=e,this.registeredClass=r,this.isReference=t,this.isConst=n,this.isSmartPointer=s,this.pointeeType=a,this.sharingPolicy=f,this.rawGetPointee=u,this.rawConstructor=d,this.rawShare=v,this.rawDestructor=E,!s&&r.baseClass===void 0?n?(this.toWireType=kn,this.destructorFunction=null):(this.toWireType=zt,this.destructorFunction=null):this.toWireType=Ht}function An(e,r,t){o.hasOwnProperty(e)||Er("Replacing nonexistant public symbol"),o[e].overloadTable!==void 0&&t!==void 0?o[e].overloadTable[t]=r:(o[e]=r,o[e].argCount=t)}function Sn(e,r,t){var n=o["dynCall_"+e];return t&&t.length?n.apply(null,[r].concat(t)):n.call(null,r)}function ut(e,r,t){return e.includes("j")?Sn(e,r,t):sr(r).apply(null,t)}function Fn(e,r){var t=[];return function(){return t.length=0,Object.assign(t,arguments),ut(e,r,t)}}function qe(e,r){e=me(e);function t(){return e.includes("j")?Fn(e,r):sr(r)}var n=t();return typeof n!="function"&&W("unknown function pointer with signature "+e+": "+r),n}var kt=void 0;function Dt(e){var r=Kn(e),t=me(r);return Ue(r),t}function Br(e,r){var t=[],n={};function s(a){if(!n[a]&&!Be[a]){if(vr[a]){vr[a].forEach(s);return}t.push(a),n[a]=!0}}throw r.forEach(s),new kt(e+": "+t.map(Dt).join([", "]))}function Rn(e,r,t,n,s,a,f,u,d,v,E,b,w){E=me(E),a=qe(s,a),u&&(u=qe(f,u)),v&&(v=qe(d,v)),w=qe(b,w);var P=_r(E);Ct(P,function(){Br("Cannot construct "+E+" due to unbound types",[n])}),ze([e,r,t],n?[n]:[],function($){$=$[0];var G,re;n?(G=$.registeredClass,re=G.instancePrototype):re=$e.prototype;var fe=Lr(P,function(){if(Object.getPrototypeOf(this)!==ye)throw new He("Use 'new' to construct "+E);if(ce.constructor_body===void 0)throw new He(E+" has no accessible constructor");var te=ce.constructor_body[arguments.length];if(te===void 0)throw new He("Tried to invoke ctor of "+E+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(ce.constructor_body).toString()+") parameters instead!");return te.apply(this,arguments)}),ye=Object.create(re,{constructor:{value:fe}});fe.prototype=ye;var ce=new Tn(E,fe,ye,w,G,a,u,v),Qe=new Fe(E,ce,!0,!1,!1),_e=new Fe(E+"*",ce,!1,!1,!1),Ie=new Fe(E+" const*",ce,!1,!0,!1);return Ze[e]={pointerType:_e,constPointerType:Ie},An(P,fe),[Qe,_e,Ie]})}function At(e,r){for(var t=[],n=0;n<e;n++)t.push(M[(r>>2)+n]);return t}function $n(e){for(;e.length;){var r=e.pop(),t=e.pop();t(r)}}function St(e,r){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type "+typeof e+" which is not a function");var t=Lr(e.name||"unknownFunctionName",function(){});t.prototype=e.prototype;var n=new t,s=e.apply(n,r);return s instanceof Object?s:n}function Ft(e,r,t,n,s){var a=r.length;a<2&&W("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var f=r[1]!==null&&t!==null,u=!1,d=1;d<r.length;++d)if(r[d]!==null&&r[d].destructorFunction===void 0){u=!0;break}for(var v=r[0].name!=="void",E="",b="",d=0;d<a-2;++d)E+=(d!==0?", ":"")+"arg"+d,b+=(d!==0?", ":"")+"arg"+d+"Wired";var w="return function "+_r(e)+"("+E+`) {
if (arguments.length !== `+(a-2)+`) {
throwBindingError('function `+e+" called with ' + arguments.length + ' arguments, expected "+(a-2)+` args!');
}
`;u&&(w+=`var destructors = [];
`);var P=u?"destructors":"null",$=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],G=[W,n,s,$n,r[0],r[1]];f&&(w+="var thisWired = classParam.toWireType("+P+`, this);
`);for(var d=0;d<a-2;++d)w+="var arg"+d+"Wired = argType"+d+".toWireType("+P+", arg"+d+"); // "+r[d+2].name+`
`,$.push("argType"+d),G.push(r[d+2]);if(f&&(b="thisWired"+(b.length>0?", ":"")+b),w+=(v?"var rv = ":"")+"invoker(fn"+(b.length>0?", ":"")+b+`);
`,u)w+=`runDestructors(destructors);
`;else for(var d=f?1:2;d<r.length;++d){var re=d===1?"thisWired":"arg"+(d-2)+"Wired";r[d].destructorFunction!==null&&(w+=re+"_dtor("+re+"); // "+r[d].name+`
`,$.push(re+"_dtor"),G.push(r[d].destructorFunction))}v&&(w+=`var ret = retType.fromWireType(rv);
return ret;
`),w+=`}
`,$.push(w);var fe=St(Function,$).apply(null,G);return fe}function On(e,r,t,n,s,a){he(r>0);var f=At(r,t);s=qe(n,s),ze([],[e],function(u){u=u[0];var d="constructor "+u.name;if(u.registeredClass.constructor_body===void 0&&(u.registeredClass.constructor_body=[]),u.registeredClass.constructor_body[r-1]!==void 0)throw new He("Cannot register multiple constructors with identical number of parameters ("+(r-1)+") for class '"+u.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return u.registeredClass.constructor_body[r-1]=()=>{Br("Cannot construct "+u.name+" due to unbound types",f)},ze([],f,function(v){return v.splice(1,0,null),u.registeredClass.constructor_body[r-1]=Ft(d,v,null,s,a),[]}),[]})}function Vn(e,r,t,n,s,a,f,u){var d=At(t,n);r=me(r),a=qe(s,a),ze([],[e],function(v){v=v[0];var E=v.name+"."+r;r.startsWith("@@")&&(r=Symbol[r.substring(2)]),u&&v.registeredClass.pureVirtualFunctions.push(r);function b(){Br("Cannot call "+E+" due to unbound types",d)}var w=v.registeredClass.instancePrototype,P=w[r];return P===void 0||P.overloadTable===void 0&&P.className!==v.name&&P.argCount===t-2?(b.argCount=t-2,b.className=v.name,w[r]=b):(at(w,r,E),w[r].overloadTable[t-2]=b),ze([],d,function($){var G=Ft(E,$,v,a,f);return w[r].overloadTable===void 0?(G.argCount=t-2,w[r]=G):w[r].overloadTable[t-2]=G,[]}),[]})}var Tr=[],Ee=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Rt(e){e>4&&--Ee[e].refcount===0&&(Ee[e]=void 0,Tr.push(e))}function Nn(){for(var e=0,r=5;r<Ee.length;++r)Ee[r]!==void 0&&++e;return e}function Un(){for(var e=5;e<Ee.length;++e)if(Ee[e]!==void 0)return Ee[e];return null}function Gt(){o.count_emval_handles=Nn,o.get_first_emval=Un}var kr={toValue:e=>(e||W("Cannot use deleted val. handle = "+e),Ee[e].value),toHandle:e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var r=Tr.length?Tr.pop():Ee.length;return Ee[r]={refcount:1,value:e},r}}}};function In(e,r){r=me(r),Ae(e,{name:r,fromWireType:function(t){var n=kr.toValue(t);return Rt(t),n},toWireType:function(t,n){return kr.toHandle(n)},argPackAdvance:8,readValueFromPointer:Cr,destructorFunction:null})}function Hr(e){if(e===null)return"null";var r=typeof e;return r==="object"||r==="array"||r==="function"?e.toString():""+e}function Mn(e,r){switch(r){case 2:return function(t){return this.fromWireType(vt[t>>2])};case 3:return function(t){return this.fromWireType(Jr[t>>3])};default:throw new TypeError("Unknown float type: "+e)}}function jn(e,r,t){var n=jr(t);r=me(r),Ae(e,{name:r,fromWireType:function(s){return s},toWireType:function(s,a){return a},argPackAdvance:8,readValueFromPointer:Mn(r,n),destructorFunction:null})}function xn(e,r,t){switch(r){case 0:return t?function(s){return le[s]}:function(s){return se[s]};case 1:return t?function(s){return we[s>>1]}:function(s){return ge[s>>1]};case 2:return t?function(s){return M[s>>2]}:function(s){return q[s>>2]};default:throw new TypeError("Unknown integer type: "+e)}}function Ln(e,r,t,n,s){r=me(r);var a=jr(t),f=b=>b;if(n===0){var u=32-8*t;f=b=>b<<u>>>u}var d=r.includes("unsigned"),v=(b,w)=>{},E;d?E=function(b,w){return v(w,this.name),w>>>0}:E=function(b,w){return v(w,this.name),w},Ae(e,{name:r,fromWireType:f,toWireType:E,argPackAdvance:8,readValueFromPointer:xn(r,a,n!==0),destructorFunction:null})}function Wn(e,r,t){var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],s=n[r];function a(f){f=f>>2;var u=q,d=u[f],v=u[f+1];return new s(Pe,v,d)}t=me(t),Ae(e,{name:t,fromWireType:a,argPackAdvance:8,readValueFromPointer:a},{ignoreDuplicateRegistrations:!0})}function Bn(e,r){r=me(r);var t=r==="std::string";Ae(e,{name:r,fromWireType:function(n){var s=q[n>>2],a;if(t)for(var f=n+4,u=0;u<=s;++u){var d=n+4+u;if(u==s||se[d]==0){var v=d-f,E=Xe(f,v);a===void 0?a=E:(a+=String.fromCharCode(0),a+=E),f=d+1}}else{for(var b=new Array(s),u=0;u<s;++u)b[u]=String.fromCharCode(se[n+4+u]);a=b.join("")}return Ue(n),a},toWireType:function(n,s){s instanceof ArrayBuffer&&(s=new Uint8Array(s));var a,f=typeof s=="string";f||s instanceof Uint8Array||s instanceof Uint8ClampedArray||s instanceof Int8Array||W("Cannot pass non-string to std::string"),t&&f?a=()=>ir(s):a=()=>s.length;var u=a(),d=Gr(4+u+1);if(q[d>>2]=u,t&&f)hr(s,d+4,u+1);else if(f)for(var v=0;v<u;++v){var E=s.charCodeAt(v);E>255&&(Ue(d),W("String has UTF-16 code units that do not fit in 8 bits")),se[d+4+v]=E}else for(var v=0;v<u;++v)se[d+4+v]=s[v];return n!==null&&n.push(Ue,d),d},argPackAdvance:8,readValueFromPointer:Cr,destructorFunction:function(n){Ue(n)}})}function Hn(e,r,t){t=me(t);var n,s,a,f,u;r===2?(n=Yr,s=ue,f=pt,a=()=>ge,u=1):r===4&&(n=tn,s=nn,f=Mt,a=()=>q,u=2),Ae(e,{name:t,fromWireType:function(d){for(var v=q[d>>2],E=a(),b,w=d+4,P=0;P<=v;++P){var $=d+4+P*r;if(P==v||E[$>>u]==0){var G=$-w,re=n(w,G);b===void 0?b=re:(b+=String.fromCharCode(0),b+=re),w=$+r}}return Ue(d),b},toWireType:function(d,v){typeof v!="string"&&W("Cannot pass non-string to C++ string type "+t);var E=f(v),b=Gr(4+E+r);return q[b>>2]=E>>u,s(v,b+4,E+r),d!==null&&d.push(Ue,b),b},argPackAdvance:8,readValueFromPointer:Cr,destructorFunction:function(d){Ue(d)}})}function dr(e,r){r=me(r),Ae(e,{isVoid:!0,name:r,argPackAdvance:0,fromWireType:function(){},toWireType:function(t,n){}})}function ft(){return Date.now()}var Xt={};function Kt(e){var r=Xt[e];return r===void 0?me(e):r}var mr=[];function zn(e,r,t,n){e=mr[e],r=kr.toValue(r),t=Kt(t),e(r,t,null,n)}function $t(e){var r=mr.length;return mr.push(e),r}function l(e,r){var t=Be[e];return t===void 0&&W(r+" has unknown type "+Dt(e)),t}function c(e,r){for(var t=new Array(e),n=0;n<e;++n)t[n]=l(q[r+n*ie>>2],"parameter "+n);return t}var h=[];function g(e,r){var t=c(e,r),n=t[0],s=n.name+"_$"+t.slice(1).map(function($){return $.name}).join("_")+"$",a=h[s];if(a!==void 0)return a;for(var f=["retType"],u=[n],d="",v=0;v<e-1;++v)d+=(v!==0?", ":"")+"arg"+v,f.push("argType"+v),u.push(t[1+v]);for(var E=_r("methodCaller_"+s),b="return function "+E+`(handle, name, destructors, args) {
`,w=0,v=0;v<e-1;++v)b+="    var arg"+v+" = argType"+v+".readValueFromPointer(args"+(w?"+"+w:"")+`);
`,w+=t[v+1].argPackAdvance;b+="    var rv = handle[name]("+d+`);
`;for(var v=0;v<e-1;++v)t[v+1].deleteObject&&(b+="    argType"+v+".deleteObject(arg"+v+`);
`);n.isVoid||(b+=`    return retType.toWireType(destructors, rv);
`),b+=`};
`,f.push(b);var P=St(Function,f).apply(null,u);return a=$t(P),h[s]=a,a}function k(){je("")}function F(){return se.length}function R(){return F()}function T(e,r,t){se.copyWithin(e,r,r+t)}function O(e){je("OOM")}function j(e){se.length,O()}var Q={};function Z(){return A||"./this.program"}function J(){if(!J.strings){var e=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",r={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:Z()};for(var t in Q)Q[t]===void 0?delete r[t]:r[t]=Q[t];var n=[];for(var t in r)n.push(t+"="+r[t]);J.strings=n}return J.strings}function Ce(e,r){var t=0;return J().forEach(function(n,s){var a=r+t;q[e+s*4>>2]=a,yr(n,a),t+=n.length+1}),0}function Oe(e,r){var t=J();q[e>>2]=t.length;var n=0;return t.forEach(function(s){n+=s.length+1}),q[r>>2]=n,0}function Ge(e){try{var r=ae.getStreamFromFD(e);return i.close(r),0}catch(t){if(typeof i>"u"||!(t instanceof i.ErrnoError))throw t;return t.errno}}function rr(e,r){try{var t=ae.getStreamFromFD(e),n=t.tty?2:i.isDir(t.mode)?3:i.isLink(t.mode)?7:4;return le[r>>0]=n,0}catch(s){if(typeof i>"u"||!(s instanceof i.ErrnoError))throw s;return s.errno}}function Rr(e,r,t,n){for(var s=0,a=0;a<t;a++){var f=q[r>>2],u=q[r+4>>2];r+=8;var d=i.read(e,le,f,u,n);if(d<0)return-1;if(s+=d,d<u)break}return s}function Ot(e,r,t,n){try{var s=ae.getStreamFromFD(e),a=Rr(s,r,t);return M[n>>2]=a,0}catch(f){if(typeof i>"u"||!(f instanceof i.ErrnoError))throw f;return f.errno}}function $r(e,r){return r+2097152>>>0<4194305-!!e?(e>>>0)+r*4294967296:NaN}function qn(e,r,t,n,s){try{var a=$r(r,t);if(isNaN(a))return 61;var f=ae.getStreamFromFD(e);return i.llseek(f,a,n),ke=[f.position>>>0,(oe=f.position,+Math.abs(oe)>=1?oe>0?(Math.min(+Math.floor(oe/4294967296),4294967295)|0)>>>0:~~+Math.ceil((oe-+(~~oe>>>0))/4294967296)>>>0:0)],M[s>>2]=ke[0],M[s+4>>2]=ke[1],f.getdents&&a===0&&n===0&&(f.getdents=null),0}catch(u){if(typeof i>"u"||!(u instanceof i.ErrnoError))throw u;return u.errno}}function Yt(e,r,t,n){for(var s=0,a=0;a<t;a++){var f=q[r>>2],u=q[r+4>>2];r+=8;var d=i.write(e,le,f,u,n);if(d<0)return-1;s+=d}return s}function Jt(e,r,t,n){try{var s=ae.getStreamFromFD(e),a=Yt(s,r,t);return q[n>>2]=a,0}catch(f){if(typeof i>"u"||!(f instanceof i.ErrnoError))throw f;return f.errno}}function Qt(e){}var Gn=function(e,r,t,n){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=i.nextInode++,this.name=r,this.mode=t,this.node_ops={},this.stream_ops={},this.rdev=n},zr=365,qr=146;Object.defineProperties(Gn.prototype,{read:{get:function(){return(this.mode&zr)===zr},set:function(e){e?this.mode|=zr:this.mode&=~zr}},write:{get:function(){return(this.mode&qr)===qr},set:function(e){e?this.mode|=qr:this.mode&=~qr}},isFolder:{get:function(){return i.isDir(this.mode)}},isDevice:{get:function(){return i.isChrdev(this.mode)}}}),i.FSNode=Gn,i.staticInit(),ln(),He=o.BindingError=ur(Error,"BindingError"),_t=o.InternalError=ur(Error,"InternalError"),Sr(),yn(),qt(),kt=o.UnboundTypeError=ur(Error,"UnboundTypeError"),Gt();function Vt(e,r,t){var n=t>0?t:ir(e)+1,s=new Array(n),a=Je(e,s,0,s.length);return r&&(s.length=a),s}var li={p:fn,o:Le,D:Mr,x:ar,s:cn,F:dn,t:Rn,q:On,d:Vn,E:In,k:jn,c:Ln,b:Wn,j:Bn,f:Hn,n:dr,e:ft,h:zn,m:Rt,l:g,a:k,w:R,B:T,v:j,z:Ce,A:Oe,i:Ge,y:rr,C:Ot,r:qn,g:Jt,u:Qt};nt(),o.___wasm_call_ctors=function(){return(o.___wasm_call_ctors=o.asm.H).apply(null,arguments)};var Gr=o._malloc=function(){return(Gr=o._malloc=o.asm.I).apply(null,arguments)},Ue=o._free=function(){return(Ue=o._free=o.asm.K).apply(null,arguments)},Xn=o.___errno_location=function(){return(Xn=o.___errno_location=o.asm.L).apply(null,arguments)},Kn=o.___getTypeName=function(){return(Kn=o.___getTypeName=o.asm.M).apply(null,arguments)};o.___embind_register_native_and_builtin_types=function(){return(o.___embind_register_native_and_builtin_types=o.asm.N).apply(null,arguments)};var Yn=o._emscripten_builtin_memalign=function(){return(Yn=o._emscripten_builtin_memalign=o.asm.O).apply(null,arguments)},Jn=o.___cxa_is_pointer_type=function(){return(Jn=o.___cxa_is_pointer_type=o.asm.P).apply(null,arguments)};o.dynCall_jiji=function(){return(o.dynCall_jiji=o.asm.Q).apply(null,arguments)},o._ff_h264_cabac_tables=66981;var Xr;function di(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}or=function e(){Xr||Nt(),Xr||(or=e)};function Nt(e){if(xe>0||(on(),xe>0))return;function r(){Xr||(Xr=!0,o.calledRun=!0,!Me&&(sn(),p(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),an()))}o.setStatus?(o.setStatus("Running..."),setTimeout(function(){setTimeout(function(){o.setStatus("")},1),r()},1)):r()}if(o.run=Nt,o.preInit)for(typeof o.preInit=="function"&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return Nt(),o.ready}})();class Hi extends It{constructor(){super(Bi)}}var zi=(()=>{var m=import.meta.url;return function(o){o=o||{};var o=typeof o<"u"?o:{},p,_;o.ready=new Promise(function(l,c){p=l,_=c});var C=Object.assign({},o),A=typeof window=="object",I=typeof importScripts=="function",N=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",S="";function D(l){return o.locateFile?o.locateFile(l,S):S+l}var U,L,z,K,Y,B;N?(I?S=require("path").dirname(S)+"/":S=__dirname+"/",B=()=>{Y||(K=require("fs"),Y=require("path"))},U=function(c,h){return B(),c=Y.normalize(c),K.readFileSync(c,h?void 0:"utf8")},z=l=>{var c=U(l,!0);return c.buffer||(c=new Uint8Array(c)),c},L=(l,c,h)=>{B(),l=Y.normalize(l),K.readFile(l,function(g,k){g?h(g):c(k.buffer)})},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",function(l){if(!(l instanceof zn))throw l}),process.on("unhandledRejection",function(l){throw l}),o.inspect=function(){return"[Emscripten Module object]"}):(A||I)&&(I?S=self.location.href:typeof document<"u"&&document.currentScript&&(S=document.currentScript.src),m&&(S=m),S.indexOf("blob:")!==0?S=S.substr(0,S.replace(/[?#].*/,"").lastIndexOf("/")+1):S="",U=l=>{var c=new XMLHttpRequest;return c.open("GET",l,!1),c.send(null),c.responseText},I&&(z=l=>{var c=new XMLHttpRequest;return c.open("GET",l,!1),c.responseType="arraybuffer",c.send(null),new Uint8Array(c.response)}),L=(l,c,h)=>{var g=new XMLHttpRequest;g.open("GET",l,!0),g.responseType="arraybuffer",g.onload=()=>{if(g.status==200||g.status==0&&g.response){c(g.response);return}h()},g.onerror=h,g.send(null)});var ne=o.print||console.log.bind(console),ve=o.printErr||console.warn.bind(console);Object.assign(o,C),C=null,o.arguments&&o.arguments,o.thisProgram&&o.thisProgram,o.quit&&o.quit;var ee=4,ie;o.wasmBinary&&(ie=o.wasmBinary),o.noExitRuntime,typeof WebAssembly!="object"&&et("no native wasm support detected");var X,be=!1;function Me(l,c){l||et(c)}var he=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function nr(l,c,h){for(var g=c+h,k=c;l[k]&&!(k>=g);)++k;if(k-c>16&&l.buffer&&he)return he.decode(l.subarray(c,k));for(var F="";c<k;){var R=l[c++];if(!(R&128)){F+=String.fromCharCode(R);continue}var T=l[c++]&63;if((R&224)==192){F+=String.fromCharCode((R&31)<<6|T);continue}var O=l[c++]&63;if((R&240)==224?R=(R&15)<<12|T<<6|O:R=(R&7)<<18|T<<12|O<<6|l[c++]&63,R<65536)F+=String.fromCharCode(R);else{var j=R-65536;F+=String.fromCharCode(55296|j>>10,56320|j&1023)}}return F}function Re(l,c){return l?nr(Pe,l,c):""}function Xe(l,c,h,g){if(!(g>0))return 0;for(var k=h,F=h+g-1,R=0;R<l.length;++R){var T=l.charCodeAt(R);if(T>=55296&&T<=57343){var O=l.charCodeAt(++R);T=65536+((T&1023)<<10)|O&1023}if(T<=127){if(h>=F)break;c[h++]=T}else if(T<=2047){if(h+1>=F)break;c[h++]=192|T>>6,c[h++]=128|T&63}else if(T<=65535){if(h+2>=F)break;c[h++]=224|T>>12,c[h++]=128|T>>6&63,c[h++]=128|T&63}else{if(h+3>=F)break;c[h++]=240|T>>18,c[h++]=128|T>>12&63,c[h++]=128|T>>6&63,c[h++]=128|T&63}}return c[h]=0,h-k}function Je(l,c,h){return Xe(l,Pe,c,h)}function hr(l){for(var c=0,h=0;h<l.length;++h){var g=l.charCodeAt(h);g>=55296&&g<=57343&&(g=65536+((g&1023)<<10)|l.charCodeAt(++h)&1023),g<=127?++c:g<=2047?c+=2:g<=65535?c+=3:c+=4}return c}var ir=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;function Dr(l,c){for(var h=l,g=h>>1,k=g+c/2;!(g>=k)&&se[g];)++g;if(h=g<<1,h-l>32&&ir)return ir.decode(Pe.subarray(l,h));for(var F="",R=0;!(R>=c/2);++R){var T=le[l+R*2>>1];if(T==0)break;F+=String.fromCharCode(T)}return F}function Yr(l,c,h){if(h===void 0&&(h=2147483647),h<2)return 0;h-=2;for(var g=c,k=h<l.length*2?h/2:l.length,F=0;F<k;++F){var R=l.charCodeAt(F);le[c>>1]=R,c+=2}return le[c>>1]=0,c-g}function ue(l){return l.length*2}function pt(l,c){for(var h=0,g="";!(h>=c/4);){var k=we[l+h*4>>2];if(k==0)break;if(++h,k>=65536){var F=k-65536;g+=String.fromCharCode(55296|F>>10,56320|F&1023)}else g+=String.fromCharCode(k)}return g}function tn(l,c,h){if(h===void 0&&(h=2147483647),h<4)return 0;for(var g=c,k=g+h-4,F=0;F<l.length;++F){var R=l.charCodeAt(F);if(R>=55296&&R<=57343){var T=l.charCodeAt(++F);R=65536+((R&1023)<<10)|T&1023}if(we[c>>2]=R,c+=4,c+4>k)break}return we[c>>2]=0,c-g}function nn(l){for(var c=0,h=0;h<l.length;++h){var g=l.charCodeAt(h);g>=55296&&g<=57343&&++h,c+=4}return c}var Mt,yr,Pe,le,se,we,ge,M,q;function vt(l){Mt=l,o.HEAP8=yr=new Int8Array(l),o.HEAP16=le=new Int16Array(l),o.HEAP32=we=new Int32Array(l),o.HEAPU8=Pe=new Uint8Array(l),o.HEAPU16=se=new Uint16Array(l),o.HEAPU32=ge=new Uint32Array(l),o.HEAPF32=M=new Float32Array(l),o.HEAPF64=q=new Float64Array(l)}o.INITIAL_MEMORY;var Jr,jt=[],Qr=[],Zr=[];function mt(){if(o.preRun)for(typeof o.preRun=="function"&&(o.preRun=[o.preRun]);o.preRun.length;)sn(o.preRun.shift());Nr(jt)}function yt(){Nr(Qr)}function on(){if(o.postRun)for(typeof o.postRun=="function"&&(o.postRun=[o.postRun]);o.postRun.length;)un(o.postRun.shift());Nr(Zr)}function sn(l){jt.unshift(l)}function an(l){Qr.unshift(l)}function un(l){Zr.unshift(l)}var gr=0,Or=null;function xe(l){gr++,o.monitorRunDependencies&&o.monitorRunDependencies(gr)}function or(l){if(gr--,o.monitorRunDependencies&&o.monitorRunDependencies(gr),gr==0&&Or){var c=Or;Or=null,c()}}function et(l){o.onAbort&&o.onAbort(l),l="Aborted("+l+")",ve(l),be=!0,l+=". Build with -sASSERTIONS for more info.";var c=new WebAssembly.RuntimeError(l);throw _(c),c}var Vr="data:application/octet-stream;base64,";function pr(l){return l.startsWith(Vr)}function je(l){return l.startsWith("file://")}var Ne;o.locateFile?(Ne="videodec_simd.wasm",pr(Ne)||(Ne=D(Ne))):Ne=new URL(""+new URL("videodec_simd-c906c3fc.wasm",import.meta.url).href,self.location).toString();function rt(l){try{if(l==Ne&&ie)return new Uint8Array(ie);if(z)return z(l);throw"both async and sync fetching of the wasm failed"}catch(c){et(c)}}function gt(){if(!ie&&(A||I)){if(typeof fetch=="function"&&!je(Ne))return fetch(Ne,{credentials:"same-origin"}).then(function(l){if(!l.ok)throw"failed to load wasm binary file at '"+Ne+"'";return l.arrayBuffer()}).catch(function(){return rt(Ne)});if(L)return new Promise(function(l,c){L(Ne,function(h){l(new Uint8Array(h))},c)})}return Promise.resolve().then(function(){return rt(Ne)})}function pe(){var l={a:Hn};function c(R,T){var O=R.exports;o.asm=O,X=o.asm.w,vt(X.buffer),Jr=o.asm.A,an(o.asm.x),or()}xe();function h(R){c(R.instance)}function g(R){return gt().then(function(T){return WebAssembly.instantiate(T,l)}).then(function(T){return T}).then(R,function(T){ve("failed to asynchronously prepare wasm: "+T),et(T)})}function k(){return!ie&&typeof WebAssembly.instantiateStreaming=="function"&&!pr(Ne)&&!je(Ne)&&!N&&typeof fetch=="function"?fetch(Ne,{credentials:"same-origin"}).then(function(R){var T=WebAssembly.instantiateStreaming(R,l);return T.then(h,function(O){return ve("wasm streaming compile failed: "+O),ve("falling back to ArrayBuffer instantiation"),g(h)})}):g(h)}if(o.instantiateWasm)try{var F=o.instantiateWasm(l,c);return F}catch(R){return ve("Module.instantiateWasm callback failed with error: "+R),!1}return k().catch(_),{}}function Nr(l){for(;l.length>0;){var c=l.shift();if(typeof c=="function"){c(o);continue}var h=c.func;typeof h=="number"?c.arg===void 0?nt(h)():nt(h)(c.arg):h(c.arg===void 0?null:c.arg)}}var tt=[];function nt(l){var c=tt[l];return c||(l>=tt.length&&(tt.length=l+1),tt[l]=c=Jr.get(l)),c}function oe(l){return ft(l+24)+24}function ke(l){this.excPtr=l,this.ptr=l-24,this.set_type=function(c){ge[this.ptr+4>>2]=c},this.get_type=function(){return ge[this.ptr+4>>2]},this.set_destructor=function(c){ge[this.ptr+8>>2]=c},this.get_destructor=function(){return ge[this.ptr+8>>2]},this.set_refcount=function(c){we[this.ptr>>2]=c},this.set_caught=function(c){c=c?1:0,yr[this.ptr+12>>0]=c},this.get_caught=function(){return yr[this.ptr+12>>0]!=0},this.set_rethrown=function(c){c=c?1:0,yr[this.ptr+13>>0]=c},this.get_rethrown=function(){return yr[this.ptr+13>>0]!=0},this.init=function(c,h){this.set_adjusted_ptr(0),this.set_type(c),this.set_destructor(h),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var c=we[this.ptr>>2];we[this.ptr>>2]=c+1},this.release_ref=function(){var c=we[this.ptr>>2];return we[this.ptr>>2]=c-1,c===1},this.set_adjusted_ptr=function(c){ge[this.ptr+16>>2]=c},this.get_adjusted_ptr=function(){return ge[this.ptr+16>>2]},this.get_exception_ptr=function(){var c=Kt(this.get_type());if(c)return ge[this.excPtr>>2];var h=this.get_adjusted_ptr();return h!==0?h:this.excPtr}}function Ur(l,c,h){var g=new ke(l);throw g.init(c,h),l}function wr(l,c,h,g,k){}function sr(l){switch(l){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+l)}}function fn(){for(var l=new Array(256),c=0;c<256;++c)l[c]=String.fromCharCode(c);xt=l}var xt=void 0;function Le(l){for(var c="",h=l;Pe[h];)c+=xt[Pe[h++]];return c}var Ar={},x={},it={},De=48,We=57;function ot(l){if(l===void 0)return"_unknown";l=l.replace(/[^a-zA-Z0-9_]/g,"$");var c=l.charCodeAt(0);return c>=De&&c<=We?"_"+l:l}function wt(l,c){return l=ot(l),new Function("body","return function "+l+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(c)}function Ir(l,c){var h=wt(c,function(g){this.name=c,this.message=g;var k=new Error(g).stack;k!==void 0&&(this.stack=this.toString()+`
`+k.replace(/^Error(:[^\n]*)?\n/,""))});return h.prototype=Object.create(l.prototype),h.prototype.constructor=h,h.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},h}var V=void 0;function de(l){throw new V(l)}var i=void 0;function ae(l){throw new i(l)}function Mr(l,c,h){l.forEach(function(T){it[T]=c});function g(T){var O=h(T);O.length!==l.length&&ae("Mismatched type converter count");for(var j=0;j<l.length;++j)ar(l[j],O[j])}var k=new Array(c.length),F=[],R=0;c.forEach((T,O)=>{x.hasOwnProperty(T)?k[O]=x[T]:(F.push(T),Ar.hasOwnProperty(T)||(Ar[T]=[]),Ar[T].push(()=>{k[O]=x[T],++R,R===F.length&&g(k)}))}),F.length===0&&g(k)}function ar(l,c,h={}){if(!("argPackAdvance"in c))throw new TypeError("registerType registeredInstance requires argPackAdvance");var g=c.name;if(l||de('type "'+g+'" must have a positive integer typeid pointer'),x.hasOwnProperty(l)){if(h.ignoreDuplicateRegistrations)return;de("Cannot register type '"+g+"' twice")}if(x[l]=c,delete it[l],Ar.hasOwnProperty(l)){var k=Ar[l];delete Ar[l],k.forEach(F=>F())}}function cn(l,c,h,g,k){var F=sr(h);c=Le(c),ar(l,{name:c,fromWireType:function(R){return!!R},toWireType:function(R,T){return T?g:k},argPackAdvance:8,readValueFromPointer:function(R){var T;if(h===1)T=yr;else if(h===2)T=le;else if(h===4)T=we;else throw new TypeError("Unknown boolean type size: "+c);return this.fromWireType(T[R>>F])},destructorFunction:null})}function jr(l){if(!(this instanceof Ze)||!(l instanceof Ze))return!1;for(var c=this.$$.ptrType.registeredClass,h=this.$$.ptr,g=l.$$.ptrType.registeredClass,k=l.$$.ptr;c.baseClass;)h=c.upcast(h),c=c.baseClass;for(;g.baseClass;)k=g.upcast(k),g=g.baseClass;return c===g&&h===k}function ln(l){return{count:l.count,deleteScheduled:l.deleteScheduled,preservePointerOnDelete:l.preservePointerOnDelete,ptr:l.ptr,ptrType:l.ptrType,smartPtr:l.smartPtr,smartPtrType:l.smartPtrType}}function xr(l){function c(h){return h.$$.ptrType.registeredClass.name}de(c(l)+" instance already deleted")}var me=!1;function Ke(l){}function Be(l){l.smartPtr?l.smartPtrType.rawDestructor(l.smartPtr):l.ptrType.registeredClass.rawDestructor(l.ptr)}function vr(l){l.count.value-=1;var c=l.count.value===0;c&&Be(l)}function Lt(l,c,h){if(c===h)return l;if(h.baseClass===void 0)return null;var g=Lt(l,c,h.baseClass);return g===null?null:h.downcast(g)}var Wt={};function _r(){return Object.keys(ze).length}function Lr(){var l=[];for(var c in ze)ze.hasOwnProperty(c)&&l.push(ze[c]);return l}var ur=[];function He(){for(;ur.length;){var l=ur.pop();l.$$.deleteScheduled=!1,l.delete()}}var W=void 0;function _t(l){W=l,ur.length&&W&&W(He)}function Er(){o.getInheritedInstanceCount=_r,o.getLiveInheritedInstances=Lr,o.flushPendingDeletes=He,o.setDelayFunction=_t}var ze={};function Ae(l,c){for(c===void 0&&de("ptr should not be undefined");l.baseClass;)c=l.upcast(c),l=l.baseClass;return c}function dn(l,c){return c=Ae(l,c),ze[c]}function st(l,c){(!c.ptrType||!c.ptr)&&ae("makeClassHandle requires ptr and ptrType");var h=!!c.smartPtrType,g=!!c.smartPtr;return h!==g&&ae("Both smartPtrType and smartPtr must be specified"),c.count={value:1},fr(Object.create(l,{$$:{value:c}}))}function hn(l){var c=this.getPointee(l);if(!c)return this.destructor(l),null;var h=dn(this.registeredClass,c);if(h!==void 0){if(h.$$.count.value===0)return h.$$.ptr=c,h.$$.smartPtr=l,h.clone();var g=h.clone();return this.destructor(l),g}function k(){return this.isSmartPointer?st(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:c,smartPtrType:this,smartPtr:l}):st(this.registeredClass.instancePrototype,{ptrType:this,ptr:l})}var F=this.registeredClass.getActualType(c),R=Wt[F];if(!R)return k.call(this);var T;this.isConst?T=R.constPointerType:T=R.pointerType;var O=Lt(c,this.registeredClass,T.registeredClass);return O===null?k.call(this):this.isSmartPointer?st(T.registeredClass.instancePrototype,{ptrType:T,ptr:O,smartPtrType:this,smartPtr:l}):st(T.registeredClass.instancePrototype,{ptrType:T,ptr:O})}function fr(l){return typeof FinalizationRegistry>"u"?(fr=c=>c,l):(me=new FinalizationRegistry(c=>{vr(c.$$)}),fr=c=>{var h=c.$$,g=!!h.smartPtr;if(g){var k={$$:h};me.register(c,k,c)}return c},Ke=c=>me.unregister(c),fr(l))}function Wr(){if(this.$$.ptr||xr(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var l=fr(Object.create(Object.getPrototypeOf(this),{$$:{value:ln(this.$$)}}));return l.$$.count.value+=1,l.$$.deleteScheduled=!1,l}function Et(){this.$$.ptr||xr(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&de("Object already scheduled for deletion"),Ke(this),vr(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function pn(){return!this.$$.ptr}function bt(){return this.$$.ptr||xr(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&de("Object already scheduled for deletion"),ur.push(this),ur.length===1&&W&&W(He),this.$$.deleteScheduled=!0,this}function Pt(){Ze.prototype.isAliasOf=jr,Ze.prototype.clone=Wr,Ze.prototype.delete=Et,Ze.prototype.isDeleted=pn,Ze.prototype.deleteLater=bt}function Ze(){}function Bt(l,c,h){if(l[c].overloadTable===void 0){var g=l[c];l[c]=function(){return l[c].overloadTable.hasOwnProperty(arguments.length)||de("Function '"+h+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+l[c].overloadTable+")!"),l[c].overloadTable[arguments.length].apply(this,arguments)},l[c].overloadTable=[],l[c].overloadTable[g.argCount]=g}}function vn(l,c,h){o.hasOwnProperty(l)?((h===void 0||o[l].overloadTable!==void 0&&o[l].overloadTable[h]!==void 0)&&de("Cannot register public name '"+l+"' twice"),Bt(o,l,l),o.hasOwnProperty(h)&&de("Cannot register multiple overloads of a function with the same number of arguments ("+h+")!"),o[l].overloadTable[h]=c):(o[l]=c,h!==void 0&&(o[l].numArguments=h))}function cr(l,c,h,g,k,F,R,T){this.name=l,this.constructor=c,this.instancePrototype=h,this.rawDestructor=g,this.baseClass=k,this.getActualType=F,this.upcast=R,this.downcast=T,this.pureVirtualFunctions=[]}function br(l,c,h){for(;c!==h;)c.upcast||de("Expected null or instance of "+h.name+", got an instance of "+c.name),l=c.upcast(l),c=c.baseClass;return l}function lr(l,c){if(c===null)return this.isReference&&de("null is not a valid "+this.name),0;c.$$||de('Cannot pass "'+qe(c)+'" as a '+this.name),c.$$.ptr||de("Cannot pass deleted object as a pointer of type "+this.name);var h=c.$$.ptrType.registeredClass,g=br(c.$$.ptr,h,this.registeredClass);return g}function mn(l,c){var h;if(c===null)return this.isReference&&de("null is not a valid "+this.name),this.isSmartPointer?(h=this.rawConstructor(),l!==null&&l.push(this.rawDestructor,h),h):0;c.$$||de('Cannot pass "'+qe(c)+'" as a '+this.name),c.$$.ptr||de("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&c.$$.ptrType.isConst&&de("Cannot convert argument of type "+(c.$$.smartPtrType?c.$$.smartPtrType.name:c.$$.ptrType.name)+" to parameter type "+this.name);var g=c.$$.ptrType.registeredClass;if(h=br(c.$$.ptr,g,this.registeredClass),this.isSmartPointer)switch(c.$$.smartPtr===void 0&&de("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:c.$$.smartPtrType===this?h=c.$$.smartPtr:de("Cannot convert argument of type "+(c.$$.smartPtrType?c.$$.smartPtrType.name:c.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:h=c.$$.smartPtr;break;case 2:if(c.$$.smartPtrType===this)h=c.$$.smartPtr;else{var k=c.clone();h=this.rawShare(h,ut.toHandle(function(){k.delete()})),l!==null&&l.push(this.rawDestructor,h)}break;default:de("Unsupporting sharing policy")}return h}function yn(l,c){if(c===null)return this.isReference&&de("null is not a valid "+this.name),0;c.$$||de('Cannot pass "'+qe(c)+'" as a '+this.name),c.$$.ptr||de("Cannot pass deleted object as a pointer of type "+this.name),c.$$.ptrType.isConst&&de("Cannot convert argument of type "+c.$$.ptrType.name+" to parameter type "+this.name);var h=c.$$.ptrType.registeredClass,g=br(c.$$.ptr,h,this.registeredClass);return g}function Ye(l){return this.fromWireType(ge[l>>2])}function gn(l){return this.rawGetPointee&&(l=this.rawGetPointee(l)),l}function wn(l){this.rawDestructor&&this.rawDestructor(l)}function Pr(l){l!==null&&l.delete()}function _n(){Se.prototype.getPointee=gn,Se.prototype.destructor=wn,Se.prototype.argPackAdvance=8,Se.prototype.readValueFromPointer=Ye,Se.prototype.deleteObject=Pr,Se.prototype.fromWireType=hn}function Se(l,c,h,g,k,F,R,T,O,j,Q){this.name=l,this.registeredClass=c,this.isReference=h,this.isConst=g,this.isSmartPointer=k,this.pointeeType=F,this.sharingPolicy=R,this.rawGetPointee=T,this.rawConstructor=O,this.rawShare=j,this.rawDestructor=Q,!k&&c.baseClass===void 0?g?(this.toWireType=lr,this.destructorFunction=null):(this.toWireType=yn,this.destructorFunction=null):this.toWireType=mn}function En(l,c,h){o.hasOwnProperty(l)||ae("Replacing nonexistant public symbol"),o[l].overloadTable!==void 0&&h!==void 0?o[l].overloadTable[h]=c:(o[l]=c,o[l].argCount=h)}function bn(l,c,h){var g=o["dynCall_"+l];return h&&h.length?g.apply(null,[c].concat(h)):g.call(null,c)}function Pn(l,c,h){return l.includes("j")?bn(l,c,h):nt(c).apply(null,h)}function Cn(l,c){var h=[];return function(){return h.length=0,Object.assign(h,arguments),Pn(l,c,h)}}function Sr(l,c){l=Le(l);function h(){return l.includes("j")?Cn(l,c):nt(c)}var g=h();return typeof g!="function"&&de("unknown function pointer with signature "+l+": "+c),g}var $e=void 0;function at(l){var c=Xt(l),h=Le(c);return dr(c),h}function Ct(l,c){var h=[],g={};function k(F){if(!g[F]&&!x[F]){if(it[F]){it[F].forEach(k);return}h.push(F),g[F]=!0}}throw c.forEach(k),new $e(l+": "+h.map(at).join([", "]))}function Tn(l,c,h,g,k,F,R,T,O,j,Q,Z,J){Q=Le(Q),F=Sr(k,F),T&&(T=Sr(R,T)),j&&(j=Sr(O,j)),J=Sr(Z,J);var Ce=ot(Q);vn(Ce,function(){Ct("Cannot construct "+Q+" due to unbound types",[g])}),Mr([l,c,h],g?[g]:[],function(Oe){Oe=Oe[0];var Ge,rr;g?(Ge=Oe.registeredClass,rr=Ge.instancePrototype):rr=Ze.prototype;var Rr=wt(Ce,function(){if(Object.getPrototypeOf(this)!==Ot)throw new V("Use 'new' to construct "+Q);if($r.constructor_body===void 0)throw new V(Q+" has no accessible constructor");var Qt=$r.constructor_body[arguments.length];if(Qt===void 0)throw new V("Tried to invoke ctor of "+Q+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys($r.constructor_body).toString()+") parameters instead!");return Qt.apply(this,arguments)}),Ot=Object.create(rr,{constructor:{value:Rr}});Rr.prototype=Ot;var $r=new cr(Q,Rr,Ot,J,Ge,F,T,j),qn=new Se(Q,$r,!0,!1,!1),Yt=new Se(Q+"*",$r,!1,!1,!1),Jt=new Se(Q+" const*",$r,!1,!0,!1);return Wt[l]={pointerType:Yt,constPointerType:Jt},En(Ce,Rr),[qn,Yt,Jt]})}function Fr(l,c){for(var h=[],g=0;g<l;g++)h.push(we[(c>>2)+g]);return h}function kn(l){for(;l.length;){var c=l.pop(),h=l.pop();h(c)}}function Ht(l,c){if(!(l instanceof Function))throw new TypeError("new_ called with constructor type "+typeof l+" which is not a function");var h=wt(l.name||"unknownFunctionName",function(){});h.prototype=l.prototype;var g=new h,k=l.apply(g,c);return k instanceof Object?k:g}function zt(l,c,h,g,k){var F=c.length;F<2&&de("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var R=c[1]!==null&&h!==null,T=!1,O=1;O<c.length;++O)if(c[O]!==null&&c[O].destructorFunction===void 0){T=!0;break}for(var j=c[0].name!=="void",Q="",Z="",O=0;O<F-2;++O)Q+=(O!==0?", ":"")+"arg"+O,Z+=(O!==0?", ":"")+"arg"+O+"Wired";var J="return function "+ot(l)+"("+Q+`) {
if (arguments.length !== `+(F-2)+`) {
throwBindingError('function `+l+" called with ' + arguments.length + ' arguments, expected "+(F-2)+` args!');
}
`;T&&(J+=`var destructors = [];
`);var Ce=T?"destructors":"null",Oe=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],Ge=[de,g,k,kn,c[0],c[1]];R&&(J+="var thisWired = classParam.toWireType("+Ce+`, this);
`);for(var O=0;O<F-2;++O)J+="var arg"+O+"Wired = argType"+O+".toWireType("+Ce+", arg"+O+"); // "+c[O+2].name+`
`,Oe.push("argType"+O),Ge.push(c[O+2]);if(R&&(Z="thisWired"+(Z.length>0?", ":"")+Z),J+=(j?"var rv = ":"")+"invoker(fn"+(Z.length>0?", ":"")+Z+`);
`,T)J+=`runDestructors(destructors);
`;else for(var O=R?1:2;O<c.length;++O){var rr=O===1?"thisWired":"arg"+(O-2)+"Wired";c[O].destructorFunction!==null&&(J+=rr+"_dtor("+rr+"); // "+c[O].name+`
`,Oe.push(rr+"_dtor"),Ge.push(c[O].destructorFunction))}j&&(J+=`var ret = retType.fromWireType(rv);
return ret;
`),J+=`}
`,Oe.push(J);var Rr=Ht(Function,Oe).apply(null,Ge);return Rr}function Cr(l,c,h,g,k,F){Me(c>0);var R=Fr(c,h);k=Sr(g,k),Mr([],[l],function(T){T=T[0];var O="constructor "+T.name;if(T.registeredClass.constructor_body===void 0&&(T.registeredClass.constructor_body=[]),T.registeredClass.constructor_body[c-1]!==void 0)throw new V("Cannot register multiple constructors with identical number of parameters ("+(c-1)+") for class '"+T.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return T.registeredClass.constructor_body[c-1]=()=>{Ct("Cannot construct "+T.name+" due to unbound types",R)},Mr([],R,function(j){return j.splice(1,0,null),T.registeredClass.constructor_body[c-1]=zt(O,j,null,k,F),[]}),[]})}function Dn(l,c,h,g,k,F,R,T){var O=Fr(h,g);c=Le(c),F=Sr(k,F),Mr([],[l],function(j){j=j[0];var Q=j.name+"."+c;c.startsWith("@@")&&(c=Symbol[c.substring(2)]),T&&j.registeredClass.pureVirtualFunctions.push(c);function Z(){Ct("Cannot call "+Q+" due to unbound types",O)}var J=j.registeredClass.instancePrototype,Ce=J[c];return Ce===void 0||Ce.overloadTable===void 0&&Ce.className!==j.name&&Ce.argCount===h-2?(Z.argCount=h-2,Z.className=j.name,J[c]=Z):(Bt(J,c,Q),J[c].overloadTable[h-2]=Z),Mr([],O,function(Oe){var Ge=zt(Q,Oe,j,F,R);return J[c].overloadTable===void 0?(Ge.argCount=h-2,J[c]=Ge):J[c].overloadTable[h-2]=Ge,[]}),[]})}var Tt=[],er=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function qt(l){l>4&&--er[l].refcount===0&&(er[l]=void 0,Tt.push(l))}function Fe(){for(var l=0,c=5;c<er.length;++c)er[c]!==void 0&&++l;return l}function An(){for(var l=5;l<er.length;++l)if(er[l]!==void 0)return er[l];return null}function Sn(){o.count_emval_handles=Fe,o.get_first_emval=An}var ut={toValue:l=>(l||de("Cannot use deleted val. handle = "+l),er[l].value),toHandle:l=>{switch(l){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var c=Tt.length?Tt.pop():er.length;return er[c]={refcount:1,value:l},c}}}};function Fn(l,c){c=Le(c),ar(l,{name:c,fromWireType:function(h){var g=ut.toValue(h);return qt(h),g},toWireType:function(h,g){return ut.toHandle(g)},argPackAdvance:8,readValueFromPointer:Ye,destructorFunction:null})}function qe(l){if(l===null)return"null";var c=typeof l;return c==="object"||c==="array"||c==="function"?l.toString():""+l}function kt(l,c){switch(c){case 2:return function(h){return this.fromWireType(M[h>>2])};case 3:return function(h){return this.fromWireType(q[h>>3])};default:throw new TypeError("Unknown float type: "+l)}}function Dt(l,c,h){var g=sr(h);c=Le(c),ar(l,{name:c,fromWireType:function(k){return k},toWireType:function(k,F){return F},argPackAdvance:8,readValueFromPointer:kt(c,g),destructorFunction:null})}function Br(l,c,h){switch(c){case 0:return h?function(k){return yr[k]}:function(k){return Pe[k]};case 1:return h?function(k){return le[k>>1]}:function(k){return se[k>>1]};case 2:return h?function(k){return we[k>>2]}:function(k){return ge[k>>2]};default:throw new TypeError("Unknown integer type: "+l)}}function Rn(l,c,h,g,k){c=Le(c);var F=sr(h),R=Z=>Z;if(g===0){var T=32-8*h;R=Z=>Z<<T>>>T}var O=c.includes("unsigned"),j=(Z,J)=>{},Q;O?Q=function(Z,J){return j(J,this.name),J>>>0}:Q=function(Z,J){return j(J,this.name),J},ar(l,{name:c,fromWireType:R,toWireType:Q,argPackAdvance:8,readValueFromPointer:Br(c,F,g!==0),destructorFunction:null})}function At(l,c,h){var g=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],k=g[c];function F(R){R=R>>2;var T=ge,O=T[R],j=T[R+1];return new k(Mt,j,O)}h=Le(h),ar(l,{name:h,fromWireType:F,argPackAdvance:8,readValueFromPointer:F},{ignoreDuplicateRegistrations:!0})}function $n(l,c){c=Le(c);var h=c==="std::string";ar(l,{name:c,fromWireType:function(g){var k=ge[g>>2],F;if(h)for(var R=g+4,T=0;T<=k;++T){var O=g+4+T;if(T==k||Pe[O]==0){var j=O-R,Q=Re(R,j);F===void 0?F=Q:(F+=String.fromCharCode(0),F+=Q),R=O+1}}else{for(var Z=new Array(k),T=0;T<k;++T)Z[T]=String.fromCharCode(Pe[g+4+T]);F=Z.join("")}return dr(g),F},toWireType:function(g,k){k instanceof ArrayBuffer&&(k=new Uint8Array(k));var F,R=typeof k=="string";R||k instanceof Uint8Array||k instanceof Uint8ClampedArray||k instanceof Int8Array||de("Cannot pass non-string to std::string"),h&&R?F=()=>hr(k):F=()=>k.length;var T=F(),O=ft(4+T+1);if(ge[O>>2]=T,h&&R)Je(k,O+4,T+1);else if(R)for(var j=0;j<T;++j){var Q=k.charCodeAt(j);Q>255&&(dr(O),de("String has UTF-16 code units that do not fit in 8 bits")),Pe[O+4+j]=Q}else for(var j=0;j<T;++j)Pe[O+4+j]=k[j];return g!==null&&g.push(dr,O),O},argPackAdvance:8,readValueFromPointer:Ye,destructorFunction:function(g){dr(g)}})}function St(l,c,h){h=Le(h);var g,k,F,R,T;c===2?(g=Dr,k=Yr,R=ue,F=()=>se,T=1):c===4&&(g=pt,k=tn,R=nn,F=()=>ge,T=2),ar(l,{name:h,fromWireType:function(O){for(var j=ge[O>>2],Q=F(),Z,J=O+4,Ce=0;Ce<=j;++Ce){var Oe=O+4+Ce*c;if(Ce==j||Q[Oe>>T]==0){var Ge=Oe-J,rr=g(J,Ge);Z===void 0?Z=rr:(Z+=String.fromCharCode(0),Z+=rr),J=Oe+c}}return dr(O),Z},toWireType:function(O,j){typeof j!="string"&&de("Cannot pass non-string to C++ string type "+h);var Q=R(j),Z=ft(4+Q+c);return ge[Z>>2]=Q>>T,k(j,Z+4,Q+c),O!==null&&O.push(dr,Z),Z},argPackAdvance:8,readValueFromPointer:Ye,destructorFunction:function(O){dr(O)}})}function Ft(l,c){c=Le(c),ar(l,{isVoid:!0,name:c,argPackAdvance:0,fromWireType:function(){},toWireType:function(h,g){}})}var On={};function Vn(l){var c=On[l];return c===void 0?Le(l):c}var Tr=[];function Ee(l,c,h,g){l=Tr[l],c=ut.toValue(c),h=Vn(h),l(c,h,null,g)}function Rt(l){var c=Tr.length;return Tr.push(l),c}function Nn(l,c){var h=x[l];return h===void 0&&de(c+" has unknown type "+at(l)),h}function Un(l,c){for(var h=new Array(l),g=0;g<l;++g)h[g]=Nn(ge[c+g*ee>>2],"parameter "+g);return h}var Gt=[];function kr(l,c){var h=Un(l,c),g=h[0],k=g.name+"_$"+h.slice(1).map(function(Oe){return Oe.name}).join("_")+"$",F=Gt[k];if(F!==void 0)return F;for(var R=["retType"],T=[g],O="",j=0;j<l-1;++j)O+=(j!==0?", ":"")+"arg"+j,R.push("argType"+j),T.push(h[1+j]);for(var Q=ot("methodCaller_"+k),Z="return function "+Q+`(handle, name, destructors, args) {
`,J=0,j=0;j<l-1;++j)Z+="    var arg"+j+" = argType"+j+".readValueFromPointer(args"+(J?"+"+J:"")+`);
`,J+=h[j+1].argPackAdvance;Z+="    var rv = handle[name]("+O+`);
`;for(var j=0;j<l-1;++j)h[j+1].deleteObject&&(Z+="    argType"+j+".deleteObject(arg"+j+`);
`);g.isVoid||(Z+=`    return retType.toWireType(destructors, rv);
`),Z+=`};
`,R.push(Z);var Ce=Ht(Function,R).apply(null,T);return F=Rt(Ce),Gt[k]=F,F}function In(){et("")}function Hr(l,c,h){Pe.copyWithin(l,c,c+h)}function Mn(l){et("OOM")}function jn(l){Pe.length,Mn()}var xn=[null,[],[]];function Ln(l,c){var h=xn[l];c===0||c===10?((l===1?ne:ve)(nr(h,0)),h.length=0):h.push(c)}function Wn(l,c,h,g){for(var k=0,F=0;F<h;F++){var R=ge[c>>2],T=ge[c+4>>2];c+=8;for(var O=0;O<T;O++)Ln(l,Pe[R+O]);k+=T}return ge[g>>2]=k,0}function Bn(l){}fn(),V=o.BindingError=Ir(Error,"BindingError"),i=o.InternalError=Ir(Error,"InternalError"),Pt(),Er(),_n(),$e=o.UnboundTypeError=Ir(Error,"UnboundTypeError"),Sn();var Hn={o:oe,n:Ur,r:wr,l:cn,q:Tn,p:Cr,c:Dn,v:Fn,j:Dt,b:Rn,a:At,i:$n,f:St,m:Ft,d:Ee,k:qt,g:kr,e:In,u:Hr,t:jn,h:Wn,s:Bn};pe(),o.___wasm_call_ctors=function(){return(o.___wasm_call_ctors=o.asm.x).apply(null,arguments)};var dr=o._free=function(){return(dr=o._free=o.asm.y).apply(null,arguments)},ft=o._malloc=function(){return(ft=o._malloc=o.asm.z).apply(null,arguments)},Xt=o.___getTypeName=function(){return(Xt=o.___getTypeName=o.asm.B).apply(null,arguments)};o.___embind_register_native_and_builtin_types=function(){return(o.___embind_register_native_and_builtin_types=o.asm.C).apply(null,arguments)};var Kt=o.___cxa_is_pointer_type=function(){return(Kt=o.___cxa_is_pointer_type=o.asm.D).apply(null,arguments)};o.dynCall_jiji=function(){return(o.dynCall_jiji=o.asm.E).apply(null,arguments)};var mr;function zn(l){this.name="ExitStatus",this.message="Program terminated with exit("+l+")",this.status=l}Or=function l(){mr||$t(),mr||(Or=l)};function $t(l){if(gr>0||(mt(),gr>0))return;function c(){mr||(mr=!0,o.calledRun=!0,!be&&(yt(),p(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),on()))}o.setStatus?(o.setStatus("Running..."),setTimeout(function(){setTimeout(function(){o.setStatus("")},1),c()},1)):c()}if(o.run=$t,o.preInit)for(typeof o.preInit=="function"&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return $t(),o.ready}})();class qi extends It{constructor(){super(zi)}}var Gi=Object.defineProperty,Xi=Object.getOwnPropertyDescriptor,oi=(m,y,o,p)=>{for(var _=p>1?void 0:p?Xi(y,o):y,C=m.length-1,A;C>=0;C--)(A=m[C])&&(_=(p?A(y,o,_):A(_))||_);return p&&_&&Gi(y,o,_),_};class en extends Te{constructor(){super(...arguments);H(this,"decoder");H(this,"config")}async initialize(){this.decoder=new VideoDecoder({output:o=>{this.emit(Kr.VideoFrame,o)},error:o=>{this.emit(Kr.Error,o),this.close()}})}configure(o){this.config=o,console.log("configure",o),this.decoder.configure({...o,codec:o.codec=="hevc"?"hvc1.1.6.L0.12.34.56.78.9A.BC":"avc1.420028"})}decode(o){this.decoder.state==="configured"&&this.decoder.decode(new EncodedVideoChunk(o))}flush(){this.decoder.flush()}reset(){this.decoder.reset()}close(){this.decoder.close()}}oi([Ve([Te.INIT,"closed"],"initialized")],en.prototype,"initialize",1);oi([Ve("initialized","configured")],en.prototype,"configure",1);oi([ri("configured")],en.prototype,"decode",1);oi([Ve([],Te.INIT)],en.prototype,"reset",1);oi([Ve([],"closed",{ignoreError:!0})],en.prototype,"close",1);var Ki=(()=>{var m=import.meta.url;return function(o){o=o||{};var o=typeof o<"u"?o:{},p,_;o.ready=new Promise(function(e,r){p=e,_=r});var C=Object.assign({},o),A="./this.program",I=typeof window=="object",N=typeof importScripts=="function",S=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",D="";function U(e){return o.locateFile?o.locateFile(e,D):D+e}var L,z,K,Y,B,ne;S?(N?D=require("path").dirname(D)+"/":D=__dirname+"/",ne=()=>{B||(Y=require("fs"),B=require("path"))},L=function(r,t){return ne(),r=B.normalize(r),Y.readFileSync(r,t?void 0:"utf8")},K=e=>{var r=L(e,!0);return r.buffer||(r=new Uint8Array(r)),r},z=(e,r,t)=>{ne(),e=B.normalize(e),Y.readFile(e,function(n,s){n?t(n):r(s.buffer)})},process.argv.length>1&&(A=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(e){if(!(e instanceof di))throw e}),process.on("unhandledRejection",function(e){throw e}),o.inspect=function(){return"[Emscripten Module object]"}):(I||N)&&(N?D=self.location.href:typeof document<"u"&&document.currentScript&&(D=document.currentScript.src),m&&(D=m),D.indexOf("blob:")!==0?D=D.substr(0,D.replace(/[?#].*/,"").lastIndexOf("/")+1):D="",L=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},N&&(K=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),z=(e,r,t)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{if(n.status==200||n.status==0&&n.response){r(n.response);return}t()},n.onerror=t,n.send(null)});var ve=o.print||console.log.bind(console),ee=o.printErr||console.warn.bind(console);Object.assign(o,C),C=null,o.arguments&&o.arguments,o.thisProgram&&(A=o.thisProgram),o.quit&&o.quit;var ie=4,X;o.wasmBinary&&(X=o.wasmBinary),o.noExitRuntime,typeof WebAssembly!="object"&&je("no native wasm support detected");var be,Me=!1;function he(e,r){e||je(r)}var nr=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Re(e,r,t){for(var n=r+t,s=r;e[s]&&!(s>=n);)++s;if(s-r>16&&e.buffer&&nr)return nr.decode(e.subarray(r,s));for(var a="";r<s;){var f=e[r++];if(!(f&128)){a+=String.fromCharCode(f);continue}var u=e[r++]&63;if((f&224)==192){a+=String.fromCharCode((f&31)<<6|u);continue}var d=e[r++]&63;if((f&240)==224?f=(f&15)<<12|u<<6|d:f=(f&7)<<18|u<<12|d<<6|e[r++]&63,f<65536)a+=String.fromCharCode(f);else{var v=f-65536;a+=String.fromCharCode(55296|v>>10,56320|v&1023)}}return a}function Xe(e,r){return e?Re(se,e,r):""}function Je(e,r,t,n){if(!(n>0))return 0;for(var s=t,a=t+n-1,f=0;f<e.length;++f){var u=e.charCodeAt(f);if(u>=55296&&u<=57343){var d=e.charCodeAt(++f);u=65536+((u&1023)<<10)|d&1023}if(u<=127){if(t>=a)break;r[t++]=u}else if(u<=2047){if(t+1>=a)break;r[t++]=192|u>>6,r[t++]=128|u&63}else if(u<=65535){if(t+2>=a)break;r[t++]=224|u>>12,r[t++]=128|u>>6&63,r[t++]=128|u&63}else{if(t+3>=a)break;r[t++]=240|u>>18,r[t++]=128|u>>12&63,r[t++]=128|u>>6&63,r[t++]=128|u&63}}return r[t]=0,t-s}function hr(e,r,t){return Je(e,se,r,t)}function ir(e){for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);n>=55296&&n<=57343&&(n=65536+((n&1023)<<10)|e.charCodeAt(++t)&1023),n<=127?++r:n<=2047?r+=2:n<=65535?r+=3:r+=4}return r}var Dr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;function Yr(e,r){for(var t=e,n=t>>1,s=n+r/2;!(n>=s)&&ge[n];)++n;if(t=n<<1,t-e>32&&Dr)return Dr.decode(se.subarray(e,t));for(var a="",f=0;!(f>=r/2);++f){var u=we[e+f*2>>1];if(u==0)break;a+=String.fromCharCode(u)}return a}function ue(e,r,t){if(t===void 0&&(t=2147483647),t<2)return 0;t-=2;for(var n=r,s=t<e.length*2?t/2:e.length,a=0;a<s;++a){var f=e.charCodeAt(a);we[r>>1]=f,r+=2}return we[r>>1]=0,r-n}function pt(e){return e.length*2}function tn(e,r){for(var t=0,n="";!(t>=r/4);){var s=M[e+t*4>>2];if(s==0)break;if(++t,s>=65536){var a=s-65536;n+=String.fromCharCode(55296|a>>10,56320|a&1023)}else n+=String.fromCharCode(s)}return n}function nn(e,r,t){if(t===void 0&&(t=2147483647),t<4)return 0;for(var n=r,s=n+t-4,a=0;a<e.length;++a){var f=e.charCodeAt(a);if(f>=55296&&f<=57343){var u=e.charCodeAt(++a);f=65536+((f&1023)<<10)|u&1023}if(M[r>>2]=f,r+=4,r+4>s)break}return M[r>>2]=0,r-n}function Mt(e){for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);n>=55296&&n<=57343&&++t,r+=4}return r}function yr(e,r,t){for(var n=0;n<e.length;++n)le[r++>>0]=e.charCodeAt(n);t||(le[r>>0]=0)}var Pe,le,se,we,ge,M,q,vt,Jr;function jt(e){Pe=e,o.HEAP8=le=new Int8Array(e),o.HEAP16=we=new Int16Array(e),o.HEAP32=M=new Int32Array(e),o.HEAPU8=se=new Uint8Array(e),o.HEAPU16=ge=new Uint16Array(e),o.HEAPU32=q=new Uint32Array(e),o.HEAPF32=vt=new Float32Array(e),o.HEAPF64=Jr=new Float64Array(e)}o.INITIAL_MEMORY;var Qr,Zr=[],mt=[],yt=[];function on(){if(o.preRun)for(typeof o.preRun=="function"&&(o.preRun=[o.preRun]);o.preRun.length;)un(o.preRun.shift());Ur(Zr)}function sn(){!o.noFSInit&&!i.init.initialized&&i.init(),i.ignorePermissions=!1,Ur(mt)}function an(){if(o.postRun)for(typeof o.postRun=="function"&&(o.postRun=[o.postRun]);o.postRun.length;)Or(o.postRun.shift());Ur(yt)}function un(e){Zr.unshift(e)}function gr(e){mt.unshift(e)}function Or(e){yt.unshift(e)}var xe=0,or=null;function et(e){return e}function Vr(e){xe++,o.monitorRunDependencies&&o.monitorRunDependencies(xe)}function pr(e){if(xe--,o.monitorRunDependencies&&o.monitorRunDependencies(xe),xe==0&&or){var r=or;or=null,r()}}function je(e){o.onAbort&&o.onAbort(e),e="Aborted("+e+")",ee(e),Me=!0,e+=". Build with -sASSERTIONS for more info.";var r=new WebAssembly.RuntimeError(e);throw _(r),r}var Ne="data:application/octet-stream;base64,";function rt(e){return e.startsWith(Ne)}function gt(e){return e.startsWith("file://")}var pe;o.locateFile?(pe="audiodec.wasm",rt(pe)||(pe=U(pe))):pe=new URL(""+new URL("audiodec-28b192dd.wasm",import.meta.url).href,self.location).toString();function Nr(e){try{if(e==pe&&X)return new Uint8Array(X);if(K)return K(e);throw"both async and sync fetching of the wasm failed"}catch(r){je(r)}}function tt(){if(!X&&(I||N)){if(typeof fetch=="function"&&!gt(pe))return fetch(pe,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+pe+"'";return e.arrayBuffer()}).catch(function(){return Nr(pe)});if(z)return new Promise(function(e,r){z(pe,function(t){e(new Uint8Array(t))},r)})}return Promise.resolve().then(function(){return Nr(pe)})}function nt(){var e={a:li};function r(f,u){var d=f.exports;o.asm=d,be=o.asm.G,jt(be.buffer),Qr=o.asm.J,gr(o.asm.H),pr()}Vr();function t(f){r(f.instance)}function n(f){return tt().then(function(u){return WebAssembly.instantiate(u,e)}).then(function(u){return u}).then(f,function(u){ee("failed to asynchronously prepare wasm: "+u),je(u)})}function s(){return!X&&typeof WebAssembly.instantiateStreaming=="function"&&!rt(pe)&&!gt(pe)&&!S&&typeof fetch=="function"?fetch(pe,{credentials:"same-origin"}).then(function(f){var u=WebAssembly.instantiateStreaming(f,e);return u.then(t,function(d){return ee("wasm streaming compile failed: "+d),ee("falling back to ArrayBuffer instantiation"),n(t)})}):n(t)}if(o.instantiateWasm)try{var a=o.instantiateWasm(e,r);return a}catch(f){return ee("Module.instantiateWasm callback failed with error: "+f),!1}return s().catch(_),{}}var oe,ke;function Ur(e){for(;e.length>0;){var r=e.shift();if(typeof r=="function"){r(o);continue}var t=r.func;typeof t=="number"?r.arg===void 0?sr(t)():sr(t)(r.arg):t(r.arg===void 0?null:r.arg)}}var wr=[];function sr(e){var r=wr[e];return r||(e>=wr.length&&(wr.length=e+1),wr[e]=r=Qr.get(e)),r}function fn(e){return Gr(e+24)+24}function xt(e){this.excPtr=e,this.ptr=e-24,this.set_type=function(r){q[this.ptr+4>>2]=r},this.get_type=function(){return q[this.ptr+4>>2]},this.set_destructor=function(r){q[this.ptr+8>>2]=r},this.get_destructor=function(){return q[this.ptr+8>>2]},this.set_refcount=function(r){M[this.ptr>>2]=r},this.set_caught=function(r){r=r?1:0,le[this.ptr+12>>0]=r},this.get_caught=function(){return le[this.ptr+12>>0]!=0},this.set_rethrown=function(r){r=r?1:0,le[this.ptr+13>>0]=r},this.get_rethrown=function(){return le[this.ptr+13>>0]!=0},this.init=function(r,t){this.set_adjusted_ptr(0),this.set_type(r),this.set_destructor(t),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var r=M[this.ptr>>2];M[this.ptr>>2]=r+1},this.release_ref=function(){var r=M[this.ptr>>2];return M[this.ptr>>2]=r-1,r===1},this.set_adjusted_ptr=function(r){q[this.ptr+16>>2]=r},this.get_adjusted_ptr=function(){return q[this.ptr+16>>2]},this.get_exception_ptr=function(){var r=Jn(this.get_type());if(r)return q[this.excPtr>>2];var t=this.get_adjusted_ptr();return t!==0?t:this.excPtr}}function Le(e,r,t){var n=new xt(e);throw n.init(r,t),e}function Ar(e){return M[Xn()>>2]=e,e}var x={isAbs:e=>e.charAt(0)==="/",splitPath:e=>{var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return r.exec(e).slice(1)},normalizeArray:(e,r)=>{for(var t=0,n=e.length-1;n>=0;n--){var s=e[n];s==="."?e.splice(n,1):s===".."?(e.splice(n,1),t++):t&&(e.splice(n,1),t--)}if(r)for(;t;t--)e.unshift("..");return e},normalize:e=>{var r=x.isAbs(e),t=e.substr(-1)==="/";return e=x.normalizeArray(e.split("/").filter(n=>!!n),!r).join("/"),!e&&!r&&(e="."),e&&t&&(e+="/"),(r?"/":"")+e},dirname:e=>{var r=x.splitPath(e),t=r[0],n=r[1];return!t&&!n?".":(n&&(n=n.substr(0,n.length-1)),t+n)},basename:e=>{if(e==="/")return"/";e=x.normalize(e),e=e.replace(/\/$/,"");var r=e.lastIndexOf("/");return r===-1?e:e.substr(r+1)},join:function(){var e=Array.prototype.slice.call(arguments,0);return x.normalize(e.join("/"))},join2:(e,r)=>x.normalize(e+"/"+r)};function it(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}else if(S)try{var r=require("crypto");return function(){return r.randomBytes(1)[0]}}catch{}return function(){je("randomDevice")}}var De={resolve:function(){for(var e="",r=!1,t=arguments.length-1;t>=-1&&!r;t--){var n=t>=0?arguments[t]:i.cwd();if(typeof n!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";e=n+"/"+e,r=x.isAbs(n)}return e=x.normalizeArray(e.split("/").filter(s=>!!s),!r).join("/"),(r?"/":"")+e||"."},relative:(e,r)=>{e=De.resolve(e).substr(1),r=De.resolve(r).substr(1);function t(v){for(var E=0;E<v.length&&v[E]==="";E++);for(var b=v.length-1;b>=0&&v[b]==="";b--);return E>b?[]:v.slice(E,b-E+1)}for(var n=t(e.split("/")),s=t(r.split("/")),a=Math.min(n.length,s.length),f=a,u=0;u<a;u++)if(n[u]!==s[u]){f=u;break}for(var d=[],u=f;u<n.length;u++)d.push("..");return d=d.concat(s.slice(f)),d.join("/")}},We={ttys:[],init:function(){},shutdown:function(){},register:function(e,r){We.ttys[e]={input:[],output:[],ops:r},i.registerDevice(e,We.stream_ops)},stream_ops:{open:function(e){var r=We.ttys[e.node.rdev];if(!r)throw new i.ErrnoError(43);e.tty=r,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,r,t,n,s){if(!e.tty||!e.tty.ops.get_char)throw new i.ErrnoError(60);for(var a=0,f=0;f<n;f++){var u;try{u=e.tty.ops.get_char(e.tty)}catch{throw new i.ErrnoError(29)}if(u===void 0&&a===0)throw new i.ErrnoError(6);if(u==null)break;a++,r[t+f]=u}return a&&(e.node.timestamp=Date.now()),a},write:function(e,r,t,n,s){if(!e.tty||!e.tty.ops.put_char)throw new i.ErrnoError(60);try{for(var a=0;a<n;a++)e.tty.ops.put_char(e.tty,r[t+a])}catch{throw new i.ErrnoError(29)}return n&&(e.node.timestamp=Date.now()),a}},default_tty_ops:{get_char:function(e){if(!e.input.length){var r=null;if(S){var t=256,n=Buffer.alloc(t),s=0;try{s=Y.readSync(process.stdin.fd,n,0,t,-1)}catch(a){if(a.toString().includes("EOF"))s=0;else throw a}s>0?r=n.slice(0,s).toString("utf-8"):r=null}else typeof window<"u"&&typeof window.prompt=="function"?(r=window.prompt("Input: "),r!==null&&(r+=`
`)):typeof readline=="function"&&(r=readline(),r!==null&&(r+=`
`));if(!r)return null;e.input=Vt(r,!0)}return e.input.shift()},put_char:function(e,r){r===null||r===10?(ve(Re(e.output,0)),e.output=[]):r!=0&&e.output.push(r)},flush:function(e){e.output&&e.output.length>0&&(ve(Re(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,r){r===null||r===10?(ee(Re(e.output,0)),e.output=[]):r!=0&&e.output.push(r)},flush:function(e){e.output&&e.output.length>0&&(ee(Re(e.output,0)),e.output=[])}}};function ot(e,r){se.fill(0,e,e+r)}function wt(e,r){return Math.ceil(e/r)*r}function Ir(e){e=wt(e,65536);var r=Yn(65536,e);return r?(ot(r,e),r):0}var V={ops_table:null,mount:function(e){return V.createNode(null,"/",16895,0)},createNode:function(e,r,t,n){if(i.isBlkdev(t)||i.isFIFO(t))throw new i.ErrnoError(63);V.ops_table||(V.ops_table={dir:{node:{getattr:V.node_ops.getattr,setattr:V.node_ops.setattr,lookup:V.node_ops.lookup,mknod:V.node_ops.mknod,rename:V.node_ops.rename,unlink:V.node_ops.unlink,rmdir:V.node_ops.rmdir,readdir:V.node_ops.readdir,symlink:V.node_ops.symlink},stream:{llseek:V.stream_ops.llseek}},file:{node:{getattr:V.node_ops.getattr,setattr:V.node_ops.setattr},stream:{llseek:V.stream_ops.llseek,read:V.stream_ops.read,write:V.stream_ops.write,allocate:V.stream_ops.allocate,mmap:V.stream_ops.mmap,msync:V.stream_ops.msync}},link:{node:{getattr:V.node_ops.getattr,setattr:V.node_ops.setattr,readlink:V.node_ops.readlink},stream:{}},chrdev:{node:{getattr:V.node_ops.getattr,setattr:V.node_ops.setattr},stream:i.chrdev_stream_ops}});var s=i.createNode(e,r,t,n);return i.isDir(s.mode)?(s.node_ops=V.ops_table.dir.node,s.stream_ops=V.ops_table.dir.stream,s.contents={}):i.isFile(s.mode)?(s.node_ops=V.ops_table.file.node,s.stream_ops=V.ops_table.file.stream,s.usedBytes=0,s.contents=null):i.isLink(s.mode)?(s.node_ops=V.ops_table.link.node,s.stream_ops=V.ops_table.link.stream):i.isChrdev(s.mode)&&(s.node_ops=V.ops_table.chrdev.node,s.stream_ops=V.ops_table.chrdev.stream),s.timestamp=Date.now(),e&&(e.contents[r]=s,e.timestamp=s.timestamp),s},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,r){var t=e.contents?e.contents.length:0;if(!(t>=r)){var n=1024*1024;r=Math.max(r,t*(t<n?2:1.125)>>>0),t!=0&&(r=Math.max(r,256));var s=e.contents;e.contents=new Uint8Array(r),e.usedBytes>0&&e.contents.set(s.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,r){if(e.usedBytes!=r)if(r==0)e.contents=null,e.usedBytes=0;else{var t=e.contents;e.contents=new Uint8Array(r),t&&e.contents.set(t.subarray(0,Math.min(r,e.usedBytes))),e.usedBytes=r}},node_ops:{getattr:function(e){var r={};return r.dev=i.isChrdev(e.mode)?e.id:1,r.ino=e.id,r.mode=e.mode,r.nlink=1,r.uid=0,r.gid=0,r.rdev=e.rdev,i.isDir(e.mode)?r.size=4096:i.isFile(e.mode)?r.size=e.usedBytes:i.isLink(e.mode)?r.size=e.link.length:r.size=0,r.atime=new Date(e.timestamp),r.mtime=new Date(e.timestamp),r.ctime=new Date(e.timestamp),r.blksize=4096,r.blocks=Math.ceil(r.size/r.blksize),r},setattr:function(e,r){r.mode!==void 0&&(e.mode=r.mode),r.timestamp!==void 0&&(e.timestamp=r.timestamp),r.size!==void 0&&V.resizeFileStorage(e,r.size)},lookup:function(e,r){throw i.genericErrors[44]},mknod:function(e,r,t,n){return V.createNode(e,r,t,n)},rename:function(e,r,t){if(i.isDir(e.mode)){var n;try{n=i.lookupNode(r,t)}catch{}if(n)for(var s in n.contents)throw new i.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=t,r.contents[t]=e,r.timestamp=e.parent.timestamp,e.parent=r},unlink:function(e,r){delete e.contents[r],e.timestamp=Date.now()},rmdir:function(e,r){var t=i.lookupNode(e,r);for(var n in t.contents)throw new i.ErrnoError(55);delete e.contents[r],e.timestamp=Date.now()},readdir:function(e){var r=[".",".."];for(var t in e.contents)e.contents.hasOwnProperty(t)&&r.push(t);return r},symlink:function(e,r,t){var n=V.createNode(e,r,41471,0);return n.link=t,n},readlink:function(e){if(!i.isLink(e.mode))throw new i.ErrnoError(28);return e.link}},stream_ops:{read:function(e,r,t,n,s){var a=e.node.contents;if(s>=e.node.usedBytes)return 0;var f=Math.min(e.node.usedBytes-s,n);if(f>8&&a.subarray)r.set(a.subarray(s,s+f),t);else for(var u=0;u<f;u++)r[t+u]=a[s+u];return f},write:function(e,r,t,n,s,a){if(!n)return 0;var f=e.node;if(f.timestamp=Date.now(),r.subarray&&(!f.contents||f.contents.subarray)){if(a)return f.contents=r.subarray(t,t+n),f.usedBytes=n,n;if(f.usedBytes===0&&s===0)return f.contents=r.slice(t,t+n),f.usedBytes=n,n;if(s+n<=f.usedBytes)return f.contents.set(r.subarray(t,t+n),s),n}if(V.expandFileStorage(f,s+n),f.contents.subarray&&r.subarray)f.contents.set(r.subarray(t,t+n),s);else for(var u=0;u<n;u++)f.contents[s+u]=r[t+u];return f.usedBytes=Math.max(f.usedBytes,s+n),n},llseek:function(e,r,t){var n=r;if(t===1?n+=e.position:t===2&&i.isFile(e.node.mode)&&(n+=e.node.usedBytes),n<0)throw new i.ErrnoError(28);return n},allocate:function(e,r,t){V.expandFileStorage(e.node,r+t),e.node.usedBytes=Math.max(e.node.usedBytes,r+t)},mmap:function(e,r,t,n,s){if(!i.isFile(e.node.mode))throw new i.ErrnoError(43);var a,f,u=e.node.contents;if(!(s&2)&&u.buffer===Pe)f=!1,a=u.byteOffset;else{if((t>0||t+r<u.length)&&(u.subarray?u=u.subarray(t,t+r):u=Array.prototype.slice.call(u,t,t+r)),f=!0,a=Ir(r),!a)throw new i.ErrnoError(48);le.set(u,a)}return{ptr:a,allocated:f}},msync:function(e,r,t,n,s){if(!i.isFile(e.node.mode))throw new i.ErrnoError(43);return s&2||V.stream_ops.write(e,r,0,n,t,!1),0}}};function de(e,r,t,n){var s=n?"":"al "+e;z(e,function(a){he(a,'Loading data file "'+e+'" failed (no arrayBuffer).'),r(new Uint8Array(a)),s&&pr()},function(a){if(t)t();else throw'Loading data file "'+e+'" failed.'}),s&&Vr()}var i={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(e,r={})=>{if(e=De.resolve(i.cwd(),e),!e)return{path:"",node:null};var t={follow_mount:!0,recurse_count:0};if(r=Object.assign(t,r),r.recurse_count>8)throw new i.ErrnoError(32);for(var n=x.normalizeArray(e.split("/").filter(b=>!!b),!1),s=i.root,a="/",f=0;f<n.length;f++){var u=f===n.length-1;if(u&&r.parent)break;if(s=i.lookupNode(s,n[f]),a=x.join2(a,n[f]),i.isMountpoint(s)&&(!u||u&&r.follow_mount)&&(s=s.mounted.root),!u||r.follow)for(var d=0;i.isLink(s.mode);){var v=i.readlink(a);a=De.resolve(x.dirname(a),v);var E=i.lookupPath(a,{recurse_count:r.recurse_count+1});if(s=E.node,d++>40)throw new i.ErrnoError(32)}}return{path:a,node:s}},getPath:e=>{for(var r;;){if(i.isRoot(e)){var t=e.mount.mountpoint;return r?t[t.length-1]!=="/"?t+"/"+r:t+r:t}r=r?e.name+"/"+r:e.name,e=e.parent}},hashName:(e,r)=>{for(var t=0,n=0;n<r.length;n++)t=(t<<5)-t+r.charCodeAt(n)|0;return(e+t>>>0)%i.nameTable.length},hashAddNode:e=>{var r=i.hashName(e.parent.id,e.name);e.name_next=i.nameTable[r],i.nameTable[r]=e},hashRemoveNode:e=>{var r=i.hashName(e.parent.id,e.name);if(i.nameTable[r]===e)i.nameTable[r]=e.name_next;else for(var t=i.nameTable[r];t;){if(t.name_next===e){t.name_next=e.name_next;break}t=t.name_next}},lookupNode:(e,r)=>{var t=i.mayLookup(e);if(t)throw new i.ErrnoError(t,e);for(var n=i.hashName(e.id,r),s=i.nameTable[n];s;s=s.name_next){var a=s.name;if(s.parent.id===e.id&&a===r)return s}return i.lookup(e,r)},createNode:(e,r,t,n)=>{var s=new i.FSNode(e,r,t,n);return i.hashAddNode(s),s},destroyNode:e=>{i.hashRemoveNode(e)},isRoot:e=>e===e.parent,isMountpoint:e=>!!e.mounted,isFile:e=>(e&61440)===32768,isDir:e=>(e&61440)===16384,isLink:e=>(e&61440)===40960,isChrdev:e=>(e&61440)===8192,isBlkdev:e=>(e&61440)===24576,isFIFO:e=>(e&61440)===4096,isSocket:e=>(e&49152)===49152,flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:e=>{var r=i.flagModes[e];if(typeof r>"u")throw new Error("Unknown file open mode: "+e);return r},flagsToPermissionString:e=>{var r=["r","w","rw"][e&3];return e&512&&(r+="w"),r},nodePermissions:(e,r)=>i.ignorePermissions?0:r.includes("r")&&!(e.mode&292)||r.includes("w")&&!(e.mode&146)||r.includes("x")&&!(e.mode&73)?2:0,mayLookup:e=>{var r=i.nodePermissions(e,"x");return r||(e.node_ops.lookup?0:2)},mayCreate:(e,r)=>{try{var t=i.lookupNode(e,r);return 20}catch{}return i.nodePermissions(e,"wx")},mayDelete:(e,r,t)=>{var n;try{n=i.lookupNode(e,r)}catch(a){return a.errno}var s=i.nodePermissions(e,"wx");if(s)return s;if(t){if(!i.isDir(n.mode))return 54;if(i.isRoot(n)||i.getPath(n)===i.cwd())return 10}else if(i.isDir(n.mode))return 31;return 0},mayOpen:(e,r)=>e?i.isLink(e.mode)?32:i.isDir(e.mode)&&(i.flagsToPermissionString(r)!=="r"||r&512)?31:i.nodePermissions(e,i.flagsToPermissionString(r)):44,MAX_OPEN_FDS:4096,nextfd:(e=0,r=i.MAX_OPEN_FDS)=>{for(var t=e;t<=r;t++)if(!i.streams[t])return t;throw new i.ErrnoError(33)},getStream:e=>i.streams[e],createStream:(e,r,t)=>{i.FSStream||(i.FSStream=function(){this.shared={}},i.FSStream.prototype={},Object.defineProperties(i.FSStream.prototype,{object:{get:function(){return this.node},set:function(s){this.node=s}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}},flags:{get:function(){return this.shared.flags},set:function(s){this.shared.flags=s}},position:{get:function(){return this.shared.position},set:function(s){this.shared.position=s}}})),e=Object.assign(new i.FSStream,e);var n=i.nextfd(r,t);return e.fd=n,i.streams[n]=e,e},closeStream:e=>{i.streams[e]=null},chrdev_stream_ops:{open:e=>{var r=i.getDevice(e.node.rdev);e.stream_ops=r.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:()=>{throw new i.ErrnoError(70)}},major:e=>e>>8,minor:e=>e&255,makedev:(e,r)=>e<<8|r,registerDevice:(e,r)=>{i.devices[e]={stream_ops:r}},getDevice:e=>i.devices[e],getMounts:e=>{for(var r=[],t=[e];t.length;){var n=t.pop();r.push(n),t.push.apply(t,n.mounts)}return r},syncfs:(e,r)=>{typeof e=="function"&&(r=e,e=!1),i.syncFSRequests++,i.syncFSRequests>1&&ee("warning: "+i.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var t=i.getMounts(i.root.mount),n=0;function s(f){return i.syncFSRequests--,r(f)}function a(f){if(f)return a.errored?void 0:(a.errored=!0,s(f));++n>=t.length&&s(null)}t.forEach(f=>{if(!f.type.syncfs)return a(null);f.type.syncfs(f,e,a)})},mount:(e,r,t)=>{var n=t==="/",s=!t,a;if(n&&i.root)throw new i.ErrnoError(10);if(!n&&!s){var f=i.lookupPath(t,{follow_mount:!1});if(t=f.path,a=f.node,i.isMountpoint(a))throw new i.ErrnoError(10);if(!i.isDir(a.mode))throw new i.ErrnoError(54)}var u={type:e,opts:r,mountpoint:t,mounts:[]},d=e.mount(u);return d.mount=u,u.root=d,n?i.root=d:a&&(a.mounted=u,a.mount&&a.mount.mounts.push(u)),d},unmount:e=>{var r=i.lookupPath(e,{follow_mount:!1});if(!i.isMountpoint(r.node))throw new i.ErrnoError(28);var t=r.node,n=t.mounted,s=i.getMounts(n);Object.keys(i.nameTable).forEach(f=>{for(var u=i.nameTable[f];u;){var d=u.name_next;s.includes(u.mount)&&i.destroyNode(u),u=d}}),t.mounted=null;var a=t.mount.mounts.indexOf(n);t.mount.mounts.splice(a,1)},lookup:(e,r)=>e.node_ops.lookup(e,r),mknod:(e,r,t)=>{var n=i.lookupPath(e,{parent:!0}),s=n.node,a=x.basename(e);if(!a||a==="."||a==="..")throw new i.ErrnoError(28);var f=i.mayCreate(s,a);if(f)throw new i.ErrnoError(f);if(!s.node_ops.mknod)throw new i.ErrnoError(63);return s.node_ops.mknod(s,a,r,t)},create:(e,r)=>(r=r!==void 0?r:438,r&=4095,r|=32768,i.mknod(e,r,0)),mkdir:(e,r)=>(r=r!==void 0?r:511,r&=1023,r|=16384,i.mknod(e,r,0)),mkdirTree:(e,r)=>{for(var t=e.split("/"),n="",s=0;s<t.length;++s)if(t[s]){n+="/"+t[s];try{i.mkdir(n,r)}catch(a){if(a.errno!=20)throw a}}},mkdev:(e,r,t)=>(typeof t>"u"&&(t=r,r=438),r|=8192,i.mknod(e,r,t)),symlink:(e,r)=>{if(!De.resolve(e))throw new i.ErrnoError(44);var t=i.lookupPath(r,{parent:!0}),n=t.node;if(!n)throw new i.ErrnoError(44);var s=x.basename(r),a=i.mayCreate(n,s);if(a)throw new i.ErrnoError(a);if(!n.node_ops.symlink)throw new i.ErrnoError(63);return n.node_ops.symlink(n,s,e)},rename:(e,r)=>{var t=x.dirname(e),n=x.dirname(r),s=x.basename(e),a=x.basename(r),f,u,d;if(f=i.lookupPath(e,{parent:!0}),u=f.node,f=i.lookupPath(r,{parent:!0}),d=f.node,!u||!d)throw new i.ErrnoError(44);if(u.mount!==d.mount)throw new i.ErrnoError(75);var v=i.lookupNode(u,s),E=De.relative(e,n);if(E.charAt(0)!==".")throw new i.ErrnoError(28);if(E=De.relative(r,t),E.charAt(0)!==".")throw new i.ErrnoError(55);var b;try{b=i.lookupNode(d,a)}catch{}if(v!==b){var w=i.isDir(v.mode),P=i.mayDelete(u,s,w);if(P)throw new i.ErrnoError(P);if(P=b?i.mayDelete(d,a,w):i.mayCreate(d,a),P)throw new i.ErrnoError(P);if(!u.node_ops.rename)throw new i.ErrnoError(63);if(i.isMountpoint(v)||b&&i.isMountpoint(b))throw new i.ErrnoError(10);if(d!==u&&(P=i.nodePermissions(u,"w"),P))throw new i.ErrnoError(P);i.hashRemoveNode(v);try{u.node_ops.rename(v,d,a)}catch($){throw $}finally{i.hashAddNode(v)}}},rmdir:e=>{var r=i.lookupPath(e,{parent:!0}),t=r.node,n=x.basename(e),s=i.lookupNode(t,n),a=i.mayDelete(t,n,!0);if(a)throw new i.ErrnoError(a);if(!t.node_ops.rmdir)throw new i.ErrnoError(63);if(i.isMountpoint(s))throw new i.ErrnoError(10);t.node_ops.rmdir(t,n),i.destroyNode(s)},readdir:e=>{var r=i.lookupPath(e,{follow:!0}),t=r.node;if(!t.node_ops.readdir)throw new i.ErrnoError(54);return t.node_ops.readdir(t)},unlink:e=>{var r=i.lookupPath(e,{parent:!0}),t=r.node;if(!t)throw new i.ErrnoError(44);var n=x.basename(e),s=i.lookupNode(t,n),a=i.mayDelete(t,n,!1);if(a)throw new i.ErrnoError(a);if(!t.node_ops.unlink)throw new i.ErrnoError(63);if(i.isMountpoint(s))throw new i.ErrnoError(10);t.node_ops.unlink(t,n),i.destroyNode(s)},readlink:e=>{var r=i.lookupPath(e),t=r.node;if(!t)throw new i.ErrnoError(44);if(!t.node_ops.readlink)throw new i.ErrnoError(28);return De.resolve(i.getPath(t.parent),t.node_ops.readlink(t))},stat:(e,r)=>{var t=i.lookupPath(e,{follow:!r}),n=t.node;if(!n)throw new i.ErrnoError(44);if(!n.node_ops.getattr)throw new i.ErrnoError(63);return n.node_ops.getattr(n)},lstat:e=>i.stat(e,!0),chmod:(e,r,t)=>{var n;if(typeof e=="string"){var s=i.lookupPath(e,{follow:!t});n=s.node}else n=e;if(!n.node_ops.setattr)throw new i.ErrnoError(63);n.node_ops.setattr(n,{mode:r&4095|n.mode&-4096,timestamp:Date.now()})},lchmod:(e,r)=>{i.chmod(e,r,!0)},fchmod:(e,r)=>{var t=i.getStream(e);if(!t)throw new i.ErrnoError(8);i.chmod(t.node,r)},chown:(e,r,t,n)=>{var s;if(typeof e=="string"){var a=i.lookupPath(e,{follow:!n});s=a.node}else s=e;if(!s.node_ops.setattr)throw new i.ErrnoError(63);s.node_ops.setattr(s,{timestamp:Date.now()})},lchown:(e,r,t)=>{i.chown(e,r,t,!0)},fchown:(e,r,t)=>{var n=i.getStream(e);if(!n)throw new i.ErrnoError(8);i.chown(n.node,r,t)},truncate:(e,r)=>{if(r<0)throw new i.ErrnoError(28);var t;if(typeof e=="string"){var n=i.lookupPath(e,{follow:!0});t=n.node}else t=e;if(!t.node_ops.setattr)throw new i.ErrnoError(63);if(i.isDir(t.mode))throw new i.ErrnoError(31);if(!i.isFile(t.mode))throw new i.ErrnoError(28);var s=i.nodePermissions(t,"w");if(s)throw new i.ErrnoError(s);t.node_ops.setattr(t,{size:r,timestamp:Date.now()})},ftruncate:(e,r)=>{var t=i.getStream(e);if(!t)throw new i.ErrnoError(8);if(!(t.flags&2097155))throw new i.ErrnoError(28);i.truncate(t.node,r)},utime:(e,r,t)=>{var n=i.lookupPath(e,{follow:!0}),s=n.node;s.node_ops.setattr(s,{timestamp:Math.max(r,t)})},open:(e,r,t)=>{if(e==="")throw new i.ErrnoError(44);r=typeof r=="string"?i.modeStringToFlags(r):r,t=typeof t>"u"?438:t,r&64?t=t&4095|32768:t=0;var n;if(typeof e=="object")n=e;else{e=x.normalize(e);try{var s=i.lookupPath(e,{follow:!(r&131072)});n=s.node}catch{}}var a=!1;if(r&64)if(n){if(r&128)throw new i.ErrnoError(20)}else n=i.mknod(e,t,0),a=!0;if(!n)throw new i.ErrnoError(44);if(i.isChrdev(n.mode)&&(r&=-513),r&65536&&!i.isDir(n.mode))throw new i.ErrnoError(54);if(!a){var f=i.mayOpen(n,r);if(f)throw new i.ErrnoError(f)}r&512&&!a&&i.truncate(n,0),r&=-131713;var u=i.createStream({node:n,path:i.getPath(n),flags:r,seekable:!0,position:0,stream_ops:n.stream_ops,ungotten:[],error:!1});return u.stream_ops.open&&u.stream_ops.open(u),o.logReadFiles&&!(r&1)&&(i.readFiles||(i.readFiles={}),e in i.readFiles||(i.readFiles[e]=1)),u},close:e=>{if(i.isClosed(e))throw new i.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(r){throw r}finally{i.closeStream(e.fd)}e.fd=null},isClosed:e=>e.fd===null,llseek:(e,r,t)=>{if(i.isClosed(e))throw new i.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new i.ErrnoError(70);if(t!=0&&t!=1&&t!=2)throw new i.ErrnoError(28);return e.position=e.stream_ops.llseek(e,r,t),e.ungotten=[],e.position},read:(e,r,t,n,s)=>{if(n<0||s<0)throw new i.ErrnoError(28);if(i.isClosed(e))throw new i.ErrnoError(8);if((e.flags&2097155)===1)throw new i.ErrnoError(8);if(i.isDir(e.node.mode))throw new i.ErrnoError(31);if(!e.stream_ops.read)throw new i.ErrnoError(28);var a=typeof s<"u";if(!a)s=e.position;else if(!e.seekable)throw new i.ErrnoError(70);var f=e.stream_ops.read(e,r,t,n,s);return a||(e.position+=f),f},write:(e,r,t,n,s,a)=>{if(n<0||s<0)throw new i.ErrnoError(28);if(i.isClosed(e))throw new i.ErrnoError(8);if(!(e.flags&2097155))throw new i.ErrnoError(8);if(i.isDir(e.node.mode))throw new i.ErrnoError(31);if(!e.stream_ops.write)throw new i.ErrnoError(28);e.seekable&&e.flags&1024&&i.llseek(e,0,2);var f=typeof s<"u";if(!f)s=e.position;else if(!e.seekable)throw new i.ErrnoError(70);var u=e.stream_ops.write(e,r,t,n,s,a);return f||(e.position+=u),u},allocate:(e,r,t)=>{if(i.isClosed(e))throw new i.ErrnoError(8);if(r<0||t<=0)throw new i.ErrnoError(28);if(!(e.flags&2097155))throw new i.ErrnoError(8);if(!i.isFile(e.node.mode)&&!i.isDir(e.node.mode))throw new i.ErrnoError(43);if(!e.stream_ops.allocate)throw new i.ErrnoError(138);e.stream_ops.allocate(e,r,t)},mmap:(e,r,t,n,s)=>{if(n&2&&!(s&2)&&(e.flags&2097155)!==2)throw new i.ErrnoError(2);if((e.flags&2097155)===1)throw new i.ErrnoError(2);if(!e.stream_ops.mmap)throw new i.ErrnoError(43);return e.stream_ops.mmap(e,r,t,n,s)},msync:(e,r,t,n,s)=>!e||!e.stream_ops.msync?0:e.stream_ops.msync(e,r,t,n,s),munmap:e=>0,ioctl:(e,r,t)=>{if(!e.stream_ops.ioctl)throw new i.ErrnoError(59);return e.stream_ops.ioctl(e,r,t)},readFile:(e,r={})=>{if(r.flags=r.flags||0,r.encoding=r.encoding||"binary",r.encoding!=="utf8"&&r.encoding!=="binary")throw new Error('Invalid encoding type "'+r.encoding+'"');var t,n=i.open(e,r.flags),s=i.stat(e),a=s.size,f=new Uint8Array(a);return i.read(n,f,0,a,0),r.encoding==="utf8"?t=Re(f,0):r.encoding==="binary"&&(t=f),i.close(n),t},writeFile:(e,r,t={})=>{t.flags=t.flags||577;var n=i.open(e,t.flags,t.mode);if(typeof r=="string"){var s=new Uint8Array(ir(r)+1),a=Je(r,s,0,s.length);i.write(n,s,0,a,void 0,t.canOwn)}else if(ArrayBuffer.isView(r))i.write(n,r,0,r.byteLength,void 0,t.canOwn);else throw new Error("Unsupported data type");i.close(n)},cwd:()=>i.currentPath,chdir:e=>{var r=i.lookupPath(e,{follow:!0});if(r.node===null)throw new i.ErrnoError(44);if(!i.isDir(r.node.mode))throw new i.ErrnoError(54);var t=i.nodePermissions(r.node,"x");if(t)throw new i.ErrnoError(t);i.currentPath=r.path},createDefaultDirectories:()=>{i.mkdir("/tmp"),i.mkdir("/home"),i.mkdir("/home/web_user")},createDefaultDevices:()=>{i.mkdir("/dev"),i.registerDevice(i.makedev(1,3),{read:()=>0,write:(r,t,n,s,a)=>s}),i.mkdev("/dev/null",i.makedev(1,3)),We.register(i.makedev(5,0),We.default_tty_ops),We.register(i.makedev(6,0),We.default_tty1_ops),i.mkdev("/dev/tty",i.makedev(5,0)),i.mkdev("/dev/tty1",i.makedev(6,0));var e=it();i.createDevice("/dev","random",e),i.createDevice("/dev","urandom",e),i.mkdir("/dev/shm"),i.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{i.mkdir("/proc");var e=i.mkdir("/proc/self");i.mkdir("/proc/self/fd"),i.mount({mount:()=>{var r=i.createNode(e,"fd",16895,73);return r.node_ops={lookup:(t,n)=>{var s=+n,a=i.getStream(s);if(!a)throw new i.ErrnoError(8);var f={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>a.path}};return f.parent=f,f}},r}},{},"/proc/self/fd")},createStandardStreams:()=>{o.stdin?i.createDevice("/dev","stdin",o.stdin):i.symlink("/dev/tty","/dev/stdin"),o.stdout?i.createDevice("/dev","stdout",null,o.stdout):i.symlink("/dev/tty","/dev/stdout"),o.stderr?i.createDevice("/dev","stderr",null,o.stderr):i.symlink("/dev/tty1","/dev/stderr"),i.open("/dev/stdin",0),i.open("/dev/stdout",1),i.open("/dev/stderr",1)},ensureErrnoError:()=>{i.ErrnoError||(i.ErrnoError=function(r,t){this.node=t,this.setErrno=function(n){this.errno=n},this.setErrno(r),this.message="FS error"},i.ErrnoError.prototype=new Error,i.ErrnoError.prototype.constructor=i.ErrnoError,[44].forEach(e=>{i.genericErrors[e]=new i.ErrnoError(e),i.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:()=>{i.ensureErrnoError(),i.nameTable=new Array(4096),i.mount(V,{},"/"),i.createDefaultDirectories(),i.createDefaultDevices(),i.createSpecialDirectories(),i.filesystems={MEMFS:V}},init:(e,r,t)=>{i.init.initialized=!0,i.ensureErrnoError(),o.stdin=e||o.stdin,o.stdout=r||o.stdout,o.stderr=t||o.stderr,i.createStandardStreams()},quit:()=>{i.init.initialized=!1;for(var e=0;e<i.streams.length;e++){var r=i.streams[e];r&&i.close(r)}},getMode:(e,r)=>{var t=0;return e&&(t|=365),r&&(t|=146),t},findObject:(e,r)=>{var t=i.analyzePath(e,r);return t.exists?t.object:null},analyzePath:(e,r)=>{try{var t=i.lookupPath(e,{follow:!r});e=t.path}catch{}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var t=i.lookupPath(e,{parent:!0});n.parentExists=!0,n.parentPath=t.path,n.parentObject=t.node,n.name=x.basename(e),t=i.lookupPath(e,{follow:!r}),n.exists=!0,n.path=t.path,n.object=t.node,n.name=t.node.name,n.isRoot=t.path==="/"}catch(s){n.error=s.errno}return n},createPath:(e,r,t,n)=>{e=typeof e=="string"?e:i.getPath(e);for(var s=r.split("/").reverse();s.length;){var a=s.pop();if(a){var f=x.join2(e,a);try{i.mkdir(f)}catch{}e=f}}return f},createFile:(e,r,t,n,s)=>{var a=x.join2(typeof e=="string"?e:i.getPath(e),r),f=i.getMode(n,s);return i.create(a,f)},createDataFile:(e,r,t,n,s,a)=>{var f=r;e&&(e=typeof e=="string"?e:i.getPath(e),f=r?x.join2(e,r):e);var u=i.getMode(n,s),d=i.create(f,u);if(t){if(typeof t=="string"){for(var v=new Array(t.length),E=0,b=t.length;E<b;++E)v[E]=t.charCodeAt(E);t=v}i.chmod(d,u|146);var w=i.open(d,577);i.write(w,t,0,t.length,0,a),i.close(w),i.chmod(d,u)}return d},createDevice:(e,r,t,n)=>{var s=x.join2(typeof e=="string"?e:i.getPath(e),r),a=i.getMode(!!t,!!n);i.createDevice.major||(i.createDevice.major=64);var f=i.makedev(i.createDevice.major++,0);return i.registerDevice(f,{open:u=>{u.seekable=!1},close:u=>{n&&n.buffer&&n.buffer.length&&n(10)},read:(u,d,v,E,b)=>{for(var w=0,P=0;P<E;P++){var $;try{$=t()}catch{throw new i.ErrnoError(29)}if($===void 0&&w===0)throw new i.ErrnoError(6);if($==null)break;w++,d[v+P]=$}return w&&(u.node.timestamp=Date.now()),w},write:(u,d,v,E,b)=>{for(var w=0;w<E;w++)try{n(d[v+w])}catch{throw new i.ErrnoError(29)}return E&&(u.node.timestamp=Date.now()),w}}),i.mkdev(s,a,f)},forceLoadFile:e=>{if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(L)try{e.contents=Vt(L(e.url),!0),e.usedBytes=e.contents.length}catch{throw new i.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:(e,r,t,n,s)=>{function a(){this.lengthKnown=!1,this.chunks=[]}if(a.prototype.get=function(P){if(!(P>this.length-1||P<0)){var $=P%this.chunkSize,G=P/this.chunkSize|0;return this.getter(G)[$]}},a.prototype.setDataGetter=function(P){this.getter=P},a.prototype.cacheLength=function(){var P=new XMLHttpRequest;if(P.open("HEAD",t,!1),P.send(null),!(P.status>=200&&P.status<300||P.status===304))throw new Error("Couldn't load "+t+". Status: "+P.status);var $=Number(P.getResponseHeader("Content-length")),G,re=(G=P.getResponseHeader("Accept-Ranges"))&&G==="bytes",fe=(G=P.getResponseHeader("Content-Encoding"))&&G==="gzip",ye=1024*1024;re||(ye=$);var ce=(_e,Ie)=>{if(_e>Ie)throw new Error("invalid range ("+_e+", "+Ie+") or no bytes requested!");if(Ie>$-1)throw new Error("only "+$+" bytes available! programmer error!");var te=new XMLHttpRequest;if(te.open("GET",t,!1),$!==ye&&te.setRequestHeader("Range","bytes="+_e+"-"+Ie),te.responseType="arraybuffer",te.overrideMimeType&&te.overrideMimeType("text/plain; charset=x-user-defined"),te.send(null),!(te.status>=200&&te.status<300||te.status===304))throw new Error("Couldn't load "+t+". Status: "+te.status);return te.response!==void 0?new Uint8Array(te.response||[]):Vt(te.responseText||"",!0)},Qe=this;Qe.setDataGetter(_e=>{var Ie=_e*ye,te=(_e+1)*ye-1;if(te=Math.min(te,$-1),typeof Qe.chunks[_e]>"u"&&(Qe.chunks[_e]=ce(Ie,te)),typeof Qe.chunks[_e]>"u")throw new Error("doXHR failed!");return Qe.chunks[_e]}),(fe||!$)&&(ye=$=1,$=this.getter(0).length,ye=$,ve("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=$,this._chunkSize=ye,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!N)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var f=new a;Object.defineProperties(f,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var u={isDevice:!1,contents:f}}else var u={isDevice:!1,url:t};var d=i.createFile(e,r,u,n,s);u.contents?d.contents=u.contents:u.url&&(d.contents=null,d.url=u.url),Object.defineProperties(d,{usedBytes:{get:function(){return this.contents.length}}});var v={},E=Object.keys(d.stream_ops);E.forEach(w=>{var P=d.stream_ops[w];v[w]=function(){return i.forceLoadFile(d),P.apply(null,arguments)}});function b(w,P,$,G,re){var fe=w.node.contents;if(re>=fe.length)return 0;var ye=Math.min(fe.length-re,G);if(fe.slice)for(var ce=0;ce<ye;ce++)P[$+ce]=fe[re+ce];else for(var ce=0;ce<ye;ce++)P[$+ce]=fe.get(re+ce);return ye}return v.read=(w,P,$,G,re)=>(i.forceLoadFile(d),b(w,P,$,G,re)),v.mmap=(w,P,$,G,re)=>{i.forceLoadFile(d);var fe=Ir(P);if(!fe)throw new i.ErrnoError(48);return b(w,le,fe,P,$),{ptr:fe,allocated:!0}},d.stream_ops=v,d},createPreloadedFile:(e,r,t,n,s,a,f,u,d,v)=>{var E=r?De.resolve(x.join2(e,r)):e;function b(w){function P($){v&&v(),u||i.createDataFile(e,r,$,n,s,d),a&&a(),pr()}Browser.handledByPreloadPlugin(w,E,P,()=>{f&&f(),pr()})||P(w)}Vr(),typeof t=="string"?de(t,w=>b(w),f):b(t)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(e,r,t)=>{r=r||(()=>{}),t=t||(()=>{});var n=i.indexedDB();try{var s=n.open(i.DB_NAME(),i.DB_VERSION)}catch(a){return t(a)}s.onupgradeneeded=()=>{ve("creating db");var a=s.result;a.createObjectStore(i.DB_STORE_NAME)},s.onsuccess=()=>{var a=s.result,f=a.transaction([i.DB_STORE_NAME],"readwrite"),u=f.objectStore(i.DB_STORE_NAME),d=0,v=0,E=e.length;function b(){v==0?r():t()}e.forEach(w=>{var P=u.put(i.analyzePath(w).object.contents,w);P.onsuccess=()=>{d++,d+v==E&&b()},P.onerror=()=>{v++,d+v==E&&b()}}),f.onerror=t},s.onerror=t},loadFilesFromDB:(e,r,t)=>{r=r||(()=>{}),t=t||(()=>{});var n=i.indexedDB();try{var s=n.open(i.DB_NAME(),i.DB_VERSION)}catch(a){return t(a)}s.onupgradeneeded=t,s.onsuccess=()=>{var a=s.result;try{var f=a.transaction([i.DB_STORE_NAME],"readonly")}catch(w){t(w);return}var u=f.objectStore(i.DB_STORE_NAME),d=0,v=0,E=e.length;function b(){v==0?r():t()}e.forEach(w=>{var P=u.get(w);P.onsuccess=()=>{i.analyzePath(w).exists&&i.unlink(w),i.createDataFile(x.dirname(w),x.basename(w),P.result,!0,!0,!0),d++,d+v==E&&b()},P.onerror=()=>{v++,d+v==E&&b()}}),f.onerror=t},s.onerror=t}},ae={DEFAULT_POLLMASK:5,calculateAt:function(e,r,t){if(x.isAbs(r))return r;var n;if(e===-100)n=i.cwd();else{var s=i.getStream(e);if(!s)throw new i.ErrnoError(8);n=s.path}if(r.length==0){if(!t)throw new i.ErrnoError(44);return n}return x.join2(n,r)},doStat:function(e,r,t){try{var n=e(r)}catch(s){if(s&&s.node&&x.normalize(r)!==x.normalize(i.getPath(s.node)))return-54;throw s}return M[t>>2]=n.dev,M[t+4>>2]=0,M[t+8>>2]=n.ino,M[t+12>>2]=n.mode,M[t+16>>2]=n.nlink,M[t+20>>2]=n.uid,M[t+24>>2]=n.gid,M[t+28>>2]=n.rdev,M[t+32>>2]=0,ke=[n.size>>>0,(oe=n.size,+Math.abs(oe)>=1?oe>0?(Math.min(+Math.floor(oe/4294967296),4294967295)|0)>>>0:~~+Math.ceil((oe-+(~~oe>>>0))/4294967296)>>>0:0)],M[t+40>>2]=ke[0],M[t+44>>2]=ke[1],M[t+48>>2]=4096,M[t+52>>2]=n.blocks,M[t+56>>2]=n.atime.getTime()/1e3|0,M[t+60>>2]=0,M[t+64>>2]=n.mtime.getTime()/1e3|0,M[t+68>>2]=0,M[t+72>>2]=n.ctime.getTime()/1e3|0,M[t+76>>2]=0,ke=[n.ino>>>0,(oe=n.ino,+Math.abs(oe)>=1?oe>0?(Math.min(+Math.floor(oe/4294967296),4294967295)|0)>>>0:~~+Math.ceil((oe-+(~~oe>>>0))/4294967296)>>>0:0)],M[t+80>>2]=ke[0],M[t+84>>2]=ke[1],0},doMsync:function(e,r,t,n,s){var a=se.slice(e,e+t);i.msync(r,a,s,t,n)},varargs:void 0,get:function(){ae.varargs+=4;var e=M[ae.varargs-4>>2];return e},getStr:function(e){var r=Xe(e);return r},getStreamFromFD:function(e){var r=i.getStream(e);if(!r)throw new i.ErrnoError(8);return r}};function Mr(e,r,t){ae.varargs=t;try{var n=ae.getStreamFromFD(e);switch(r){case 0:{var s=ae.get();if(s<0)return-28;var a;return a=i.createStream(n,s),a.fd}case 1:case 2:return 0;case 3:return n.flags;case 4:{var s=ae.get();return n.flags|=s,0}case 5:{var s=ae.get(),f=0;return we[s+f>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return Ar(28),-1;default:return-28}}catch(u){if(typeof i>"u"||!(u instanceof i.ErrnoError))throw u;return-u.errno}}function ar(e,r,t,n){ae.varargs=n;try{r=ae.getStr(r),r=ae.calculateAt(e,r);var s=n?ae.get():0;return i.open(r,t,s).fd}catch(a){if(typeof i>"u"||!(a instanceof i.ErrnoError))throw a;return-a.errno}}function cn(e,r,t,n,s){}function jr(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}function ln(){for(var e=new Array(256),r=0;r<256;++r)e[r]=String.fromCharCode(r);xr=e}var xr=void 0;function me(e){for(var r="",t=e;se[t];)r+=xr[se[t++]];return r}var Ke={},Be={},vr={},Lt=48,Wt=57;function _r(e){if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var r=e.charCodeAt(0);return r>=Lt&&r<=Wt?"_"+e:e}function Lr(e,r){return e=_r(e),new Function("body","return function "+e+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(r)}function ur(e,r){var t=Lr(r,function(n){this.name=r,this.message=n;var s=new Error(n).stack;s!==void 0&&(this.stack=this.toString()+`
`+s.replace(/^Error(:[^\n]*)?\n/,""))});return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},t}var He=void 0;function W(e){throw new He(e)}var _t=void 0;function Er(e){throw new _t(e)}function ze(e,r,t){e.forEach(function(u){vr[u]=r});function n(u){var d=t(u);d.length!==e.length&&Er("Mismatched type converter count");for(var v=0;v<e.length;++v)Ae(e[v],d[v])}var s=new Array(r.length),a=[],f=0;r.forEach((u,d)=>{Be.hasOwnProperty(u)?s[d]=Be[u]:(a.push(u),Ke.hasOwnProperty(u)||(Ke[u]=[]),Ke[u].push(()=>{s[d]=Be[u],++f,f===a.length&&n(s)}))}),a.length===0&&n(s)}function Ae(e,r,t={}){if(!("argPackAdvance"in r))throw new TypeError("registerType registeredInstance requires argPackAdvance");var n=r.name;if(e||W('type "'+n+'" must have a positive integer typeid pointer'),Be.hasOwnProperty(e)){if(t.ignoreDuplicateRegistrations)return;W("Cannot register type '"+n+"' twice")}if(Be[e]=r,delete vr[e],Ke.hasOwnProperty(e)){var s=Ke[e];delete Ke[e],s.forEach(a=>a())}}function dn(e,r,t,n,s){var a=jr(t);r=me(r),Ae(e,{name:r,fromWireType:function(f){return!!f},toWireType:function(f,u){return u?n:s},argPackAdvance:8,readValueFromPointer:function(f){var u;if(t===1)u=le;else if(t===2)u=we;else if(t===4)u=M;else throw new TypeError("Unknown boolean type size: "+r);return this.fromWireType(u[f>>a])},destructorFunction:null})}function st(e){if(!(this instanceof $e)||!(e instanceof $e))return!1;for(var r=this.$$.ptrType.registeredClass,t=this.$$.ptr,n=e.$$.ptrType.registeredClass,s=e.$$.ptr;r.baseClass;)t=r.upcast(t),r=r.baseClass;for(;n.baseClass;)s=n.upcast(s),n=n.baseClass;return r===n&&t===s}function hn(e){return{count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}}function fr(e){function r(t){return t.$$.ptrType.registeredClass.name}W(r(e)+" instance already deleted")}var Wr=!1;function Et(e){}function pn(e){e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)}function bt(e){e.count.value-=1;var r=e.count.value===0;r&&pn(e)}function Pt(e,r,t){if(r===t)return e;if(t.baseClass===void 0)return null;var n=Pt(e,r,t.baseClass);return n===null?null:t.downcast(n)}var Ze={};function Bt(){return Object.keys(Ye).length}function vn(){var e=[];for(var r in Ye)Ye.hasOwnProperty(r)&&e.push(Ye[r]);return e}var cr=[];function br(){for(;cr.length;){var e=cr.pop();e.$$.deleteScheduled=!1,e.delete()}}var lr=void 0;function mn(e){lr=e,cr.length&&lr&&lr(br)}function yn(){o.getInheritedInstanceCount=Bt,o.getLiveInheritedInstances=vn,o.flushPendingDeletes=br,o.setDelayFunction=mn}var Ye={};function gn(e,r){for(r===void 0&&W("ptr should not be undefined");e.baseClass;)r=e.upcast(r),e=e.baseClass;return r}function wn(e,r){return r=gn(e,r),Ye[r]}function Pr(e,r){(!r.ptrType||!r.ptr)&&Er("makeClassHandle requires ptr and ptrType");var t=!!r.smartPtrType,n=!!r.smartPtr;return t!==n&&Er("Both smartPtrType and smartPtr must be specified"),r.count={value:1},Se(Object.create(e,{$$:{value:r}}))}function _n(e){var r=this.getPointee(e);if(!r)return this.destructor(e),null;var t=wn(this.registeredClass,r);if(t!==void 0){if(t.$$.count.value===0)return t.$$.ptr=r,t.$$.smartPtr=e,t.clone();var n=t.clone();return this.destructor(e),n}function s(){return this.isSmartPointer?Pr(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:r,smartPtrType:this,smartPtr:e}):Pr(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var a=this.registeredClass.getActualType(r),f=Ze[a];if(!f)return s.call(this);var u;this.isConst?u=f.constPointerType:u=f.pointerType;var d=Pt(r,this.registeredClass,u.registeredClass);return d===null?s.call(this):this.isSmartPointer?Pr(u.registeredClass.instancePrototype,{ptrType:u,ptr:d,smartPtrType:this,smartPtr:e}):Pr(u.registeredClass.instancePrototype,{ptrType:u,ptr:d})}function Se(e){return typeof FinalizationRegistry>"u"?(Se=r=>r,e):(Wr=new FinalizationRegistry(r=>{bt(r.$$)}),Se=r=>{var t=r.$$,n=!!t.smartPtr;if(n){var s={$$:t};Wr.register(r,s,r)}return r},Et=r=>Wr.unregister(r),Se(e))}function En(){if(this.$$.ptr||fr(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=Se(Object.create(Object.getPrototypeOf(this),{$$:{value:hn(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e}function bn(){this.$$.ptr||fr(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&W("Object already scheduled for deletion"),Et(this),bt(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function Pn(){return!this.$$.ptr}function Cn(){return this.$$.ptr||fr(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&W("Object already scheduled for deletion"),cr.push(this),cr.length===1&&lr&&lr(br),this.$$.deleteScheduled=!0,this}function Sr(){$e.prototype.isAliasOf=st,$e.prototype.clone=En,$e.prototype.delete=bn,$e.prototype.isDeleted=Pn,$e.prototype.deleteLater=Cn}function $e(){}function at(e,r,t){if(e[r].overloadTable===void 0){var n=e[r];e[r]=function(){return e[r].overloadTable.hasOwnProperty(arguments.length)||W("Function '"+t+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[r].overloadTable+")!"),e[r].overloadTable[arguments.length].apply(this,arguments)},e[r].overloadTable=[],e[r].overloadTable[n.argCount]=n}}function Ct(e,r,t){o.hasOwnProperty(e)?((t===void 0||o[e].overloadTable!==void 0&&o[e].overloadTable[t]!==void 0)&&W("Cannot register public name '"+e+"' twice"),at(o,e,e),o.hasOwnProperty(t)&&W("Cannot register multiple overloads of a function with the same number of arguments ("+t+")!"),o[e].overloadTable[t]=r):(o[e]=r,t!==void 0&&(o[e].numArguments=t))}function Tn(e,r,t,n,s,a,f,u){this.name=e,this.constructor=r,this.instancePrototype=t,this.rawDestructor=n,this.baseClass=s,this.getActualType=a,this.upcast=f,this.downcast=u,this.pureVirtualFunctions=[]}function Fr(e,r,t){for(;r!==t;)r.upcast||W("Expected null or instance of "+t.name+", got an instance of "+r.name),e=r.upcast(e),r=r.baseClass;return e}function kn(e,r){if(r===null)return this.isReference&&W("null is not a valid "+this.name),0;r.$$||W('Cannot pass "'+Hr(r)+'" as a '+this.name),r.$$.ptr||W("Cannot pass deleted object as a pointer of type "+this.name);var t=r.$$.ptrType.registeredClass,n=Fr(r.$$.ptr,t,this.registeredClass);return n}function Ht(e,r){var t;if(r===null)return this.isReference&&W("null is not a valid "+this.name),this.isSmartPointer?(t=this.rawConstructor(),e!==null&&e.push(this.rawDestructor,t),t):0;r.$$||W('Cannot pass "'+Hr(r)+'" as a '+this.name),r.$$.ptr||W("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&r.$$.ptrType.isConst&&W("Cannot convert argument of type "+(r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name)+" to parameter type "+this.name);var n=r.$$.ptrType.registeredClass;if(t=Fr(r.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(r.$$.smartPtr===void 0&&W("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:r.$$.smartPtrType===this?t=r.$$.smartPtr:W("Cannot convert argument of type "+(r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:t=r.$$.smartPtr;break;case 2:if(r.$$.smartPtrType===this)t=r.$$.smartPtr;else{var s=r.clone();t=this.rawShare(t,kr.toHandle(function(){s.delete()})),e!==null&&e.push(this.rawDestructor,t)}break;default:W("Unsupporting sharing policy")}return t}function zt(e,r){if(r===null)return this.isReference&&W("null is not a valid "+this.name),0;r.$$||W('Cannot pass "'+Hr(r)+'" as a '+this.name),r.$$.ptr||W("Cannot pass deleted object as a pointer of type "+this.name),r.$$.ptrType.isConst&&W("Cannot convert argument of type "+r.$$.ptrType.name+" to parameter type "+this.name);var t=r.$$.ptrType.registeredClass,n=Fr(r.$$.ptr,t,this.registeredClass);return n}function Cr(e){return this.fromWireType(q[e>>2])}function Dn(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e}function Tt(e){this.rawDestructor&&this.rawDestructor(e)}function er(e){e!==null&&e.delete()}function qt(){Fe.prototype.getPointee=Dn,Fe.prototype.destructor=Tt,Fe.prototype.argPackAdvance=8,Fe.prototype.readValueFromPointer=Cr,Fe.prototype.deleteObject=er,Fe.prototype.fromWireType=_n}function Fe(e,r,t,n,s,a,f,u,d,v,E){this.name=e,this.registeredClass=r,this.isReference=t,this.isConst=n,this.isSmartPointer=s,this.pointeeType=a,this.sharingPolicy=f,this.rawGetPointee=u,this.rawConstructor=d,this.rawShare=v,this.rawDestructor=E,!s&&r.baseClass===void 0?n?(this.toWireType=kn,this.destructorFunction=null):(this.toWireType=zt,this.destructorFunction=null):this.toWireType=Ht}function An(e,r,t){o.hasOwnProperty(e)||Er("Replacing nonexistant public symbol"),o[e].overloadTable!==void 0&&t!==void 0?o[e].overloadTable[t]=r:(o[e]=r,o[e].argCount=t)}function Sn(e,r,t){var n=o["dynCall_"+e];return t&&t.length?n.apply(null,[r].concat(t)):n.call(null,r)}function ut(e,r,t){return e.includes("j")?Sn(e,r,t):sr(r).apply(null,t)}function Fn(e,r){var t=[];return function(){return t.length=0,Object.assign(t,arguments),ut(e,r,t)}}function qe(e,r){e=me(e);function t(){return e.includes("j")?Fn(e,r):sr(r)}var n=t();return typeof n!="function"&&W("unknown function pointer with signature "+e+": "+r),n}var kt=void 0;function Dt(e){var r=Kn(e),t=me(r);return Ue(r),t}function Br(e,r){var t=[],n={};function s(a){if(!n[a]&&!Be[a]){if(vr[a]){vr[a].forEach(s);return}t.push(a),n[a]=!0}}throw r.forEach(s),new kt(e+": "+t.map(Dt).join([", "]))}function Rn(e,r,t,n,s,a,f,u,d,v,E,b,w){E=me(E),a=qe(s,a),u&&(u=qe(f,u)),v&&(v=qe(d,v)),w=qe(b,w);var P=_r(E);Ct(P,function(){Br("Cannot construct "+E+" due to unbound types",[n])}),ze([e,r,t],n?[n]:[],function($){$=$[0];var G,re;n?(G=$.registeredClass,re=G.instancePrototype):re=$e.prototype;var fe=Lr(P,function(){if(Object.getPrototypeOf(this)!==ye)throw new He("Use 'new' to construct "+E);if(ce.constructor_body===void 0)throw new He(E+" has no accessible constructor");var te=ce.constructor_body[arguments.length];if(te===void 0)throw new He("Tried to invoke ctor of "+E+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(ce.constructor_body).toString()+") parameters instead!");return te.apply(this,arguments)}),ye=Object.create(re,{constructor:{value:fe}});fe.prototype=ye;var ce=new Tn(E,fe,ye,w,G,a,u,v),Qe=new Fe(E,ce,!0,!1,!1),_e=new Fe(E+"*",ce,!1,!1,!1),Ie=new Fe(E+" const*",ce,!1,!0,!1);return Ze[e]={pointerType:_e,constPointerType:Ie},An(P,fe),[Qe,_e,Ie]})}function At(e,r){for(var t=[],n=0;n<e;n++)t.push(M[(r>>2)+n]);return t}function $n(e){for(;e.length;){var r=e.pop(),t=e.pop();t(r)}}function St(e,r){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type "+typeof e+" which is not a function");var t=Lr(e.name||"unknownFunctionName",function(){});t.prototype=e.prototype;var n=new t,s=e.apply(n,r);return s instanceof Object?s:n}function Ft(e,r,t,n,s){var a=r.length;a<2&&W("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var f=r[1]!==null&&t!==null,u=!1,d=1;d<r.length;++d)if(r[d]!==null&&r[d].destructorFunction===void 0){u=!0;break}for(var v=r[0].name!=="void",E="",b="",d=0;d<a-2;++d)E+=(d!==0?", ":"")+"arg"+d,b+=(d!==0?", ":"")+"arg"+d+"Wired";var w="return function "+_r(e)+"("+E+`) {
if (arguments.length !== `+(a-2)+`) {
throwBindingError('function `+e+" called with ' + arguments.length + ' arguments, expected "+(a-2)+` args!');
}
`;u&&(w+=`var destructors = [];
`);var P=u?"destructors":"null",$=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],G=[W,n,s,$n,r[0],r[1]];f&&(w+="var thisWired = classParam.toWireType("+P+`, this);
`);for(var d=0;d<a-2;++d)w+="var arg"+d+"Wired = argType"+d+".toWireType("+P+", arg"+d+"); // "+r[d+2].name+`
`,$.push("argType"+d),G.push(r[d+2]);if(f&&(b="thisWired"+(b.length>0?", ":"")+b),w+=(v?"var rv = ":"")+"invoker(fn"+(b.length>0?", ":"")+b+`);
`,u)w+=`runDestructors(destructors);
`;else for(var d=f?1:2;d<r.length;++d){var re=d===1?"thisWired":"arg"+(d-2)+"Wired";r[d].destructorFunction!==null&&(w+=re+"_dtor("+re+"); // "+r[d].name+`
`,$.push(re+"_dtor"),G.push(r[d].destructorFunction))}v&&(w+=`var ret = retType.fromWireType(rv);
return ret;
`),w+=`}
`,$.push(w);var fe=St(Function,$).apply(null,G);return fe}function On(e,r,t,n,s,a){he(r>0);var f=At(r,t);s=qe(n,s),ze([],[e],function(u){u=u[0];var d="constructor "+u.name;if(u.registeredClass.constructor_body===void 0&&(u.registeredClass.constructor_body=[]),u.registeredClass.constructor_body[r-1]!==void 0)throw new He("Cannot register multiple constructors with identical number of parameters ("+(r-1)+") for class '"+u.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return u.registeredClass.constructor_body[r-1]=()=>{Br("Cannot construct "+u.name+" due to unbound types",f)},ze([],f,function(v){return v.splice(1,0,null),u.registeredClass.constructor_body[r-1]=Ft(d,v,null,s,a),[]}),[]})}function Vn(e,r,t,n,s,a,f,u){var d=At(t,n);r=me(r),a=qe(s,a),ze([],[e],function(v){v=v[0];var E=v.name+"."+r;r.startsWith("@@")&&(r=Symbol[r.substring(2)]),u&&v.registeredClass.pureVirtualFunctions.push(r);function b(){Br("Cannot call "+E+" due to unbound types",d)}var w=v.registeredClass.instancePrototype,P=w[r];return P===void 0||P.overloadTable===void 0&&P.className!==v.name&&P.argCount===t-2?(b.argCount=t-2,b.className=v.name,w[r]=b):(at(w,r,E),w[r].overloadTable[t-2]=b),ze([],d,function($){var G=Ft(E,$,v,a,f);return w[r].overloadTable===void 0?(G.argCount=t-2,w[r]=G):w[r].overloadTable[t-2]=G,[]}),[]})}var Tr=[],Ee=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Rt(e){e>4&&--Ee[e].refcount===0&&(Ee[e]=void 0,Tr.push(e))}function Nn(){for(var e=0,r=5;r<Ee.length;++r)Ee[r]!==void 0&&++e;return e}function Un(){for(var e=5;e<Ee.length;++e)if(Ee[e]!==void 0)return Ee[e];return null}function Gt(){o.count_emval_handles=Nn,o.get_first_emval=Un}var kr={toValue:e=>(e||W("Cannot use deleted val. handle = "+e),Ee[e].value),toHandle:e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var r=Tr.length?Tr.pop():Ee.length;return Ee[r]={refcount:1,value:e},r}}}};function In(e,r){r=me(r),Ae(e,{name:r,fromWireType:function(t){var n=kr.toValue(t);return Rt(t),n},toWireType:function(t,n){return kr.toHandle(n)},argPackAdvance:8,readValueFromPointer:Cr,destructorFunction:null})}function Hr(e){if(e===null)return"null";var r=typeof e;return r==="object"||r==="array"||r==="function"?e.toString():""+e}function Mn(e,r){switch(r){case 2:return function(t){return this.fromWireType(vt[t>>2])};case 3:return function(t){return this.fromWireType(Jr[t>>3])};default:throw new TypeError("Unknown float type: "+e)}}function jn(e,r,t){var n=jr(t);r=me(r),Ae(e,{name:r,fromWireType:function(s){return s},toWireType:function(s,a){return a},argPackAdvance:8,readValueFromPointer:Mn(r,n),destructorFunction:null})}function xn(e,r,t){switch(r){case 0:return t?function(s){return le[s]}:function(s){return se[s]};case 1:return t?function(s){return we[s>>1]}:function(s){return ge[s>>1]};case 2:return t?function(s){return M[s>>2]}:function(s){return q[s>>2]};default:throw new TypeError("Unknown integer type: "+e)}}function Ln(e,r,t,n,s){r=me(r);var a=jr(t),f=b=>b;if(n===0){var u=32-8*t;f=b=>b<<u>>>u}var d=r.includes("unsigned"),v=(b,w)=>{},E;d?E=function(b,w){return v(w,this.name),w>>>0}:E=function(b,w){return v(w,this.name),w},Ae(e,{name:r,fromWireType:f,toWireType:E,argPackAdvance:8,readValueFromPointer:xn(r,a,n!==0),destructorFunction:null})}function Wn(e,r,t){var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],s=n[r];function a(f){f=f>>2;var u=q,d=u[f],v=u[f+1];return new s(Pe,v,d)}t=me(t),Ae(e,{name:t,fromWireType:a,argPackAdvance:8,readValueFromPointer:a},{ignoreDuplicateRegistrations:!0})}function Bn(e,r){r=me(r);var t=r==="std::string";Ae(e,{name:r,fromWireType:function(n){var s=q[n>>2],a;if(t)for(var f=n+4,u=0;u<=s;++u){var d=n+4+u;if(u==s||se[d]==0){var v=d-f,E=Xe(f,v);a===void 0?a=E:(a+=String.fromCharCode(0),a+=E),f=d+1}}else{for(var b=new Array(s),u=0;u<s;++u)b[u]=String.fromCharCode(se[n+4+u]);a=b.join("")}return Ue(n),a},toWireType:function(n,s){s instanceof ArrayBuffer&&(s=new Uint8Array(s));var a,f=typeof s=="string";f||s instanceof Uint8Array||s instanceof Uint8ClampedArray||s instanceof Int8Array||W("Cannot pass non-string to std::string"),t&&f?a=()=>ir(s):a=()=>s.length;var u=a(),d=Gr(4+u+1);if(q[d>>2]=u,t&&f)hr(s,d+4,u+1);else if(f)for(var v=0;v<u;++v){var E=s.charCodeAt(v);E>255&&(Ue(d),W("String has UTF-16 code units that do not fit in 8 bits")),se[d+4+v]=E}else for(var v=0;v<u;++v)se[d+4+v]=s[v];return n!==null&&n.push(Ue,d),d},argPackAdvance:8,readValueFromPointer:Cr,destructorFunction:function(n){Ue(n)}})}function Hn(e,r,t){t=me(t);var n,s,a,f,u;r===2?(n=Yr,s=ue,f=pt,a=()=>ge,u=1):r===4&&(n=tn,s=nn,f=Mt,a=()=>q,u=2),Ae(e,{name:t,fromWireType:function(d){for(var v=q[d>>2],E=a(),b,w=d+4,P=0;P<=v;++P){var $=d+4+P*r;if(P==v||E[$>>u]==0){var G=$-w,re=n(w,G);b===void 0?b=re:(b+=String.fromCharCode(0),b+=re),w=$+r}}return Ue(d),b},toWireType:function(d,v){typeof v!="string"&&W("Cannot pass non-string to C++ string type "+t);var E=f(v),b=Gr(4+E+r);return q[b>>2]=E>>u,s(v,b+4,E+r),d!==null&&d.push(Ue,b),b},argPackAdvance:8,readValueFromPointer:Cr,destructorFunction:function(d){Ue(d)}})}function dr(e,r){r=me(r),Ae(e,{isVoid:!0,name:r,argPackAdvance:0,fromWireType:function(){},toWireType:function(t,n){}})}function ft(){return Date.now()}var Xt={};function Kt(e){var r=Xt[e];return r===void 0?me(e):r}var mr=[];function zn(e,r,t,n){e=mr[e],r=kr.toValue(r),t=Kt(t),e(r,t,null,n)}function $t(e){var r=mr.length;return mr.push(e),r}function l(e,r){var t=Be[e];return t===void 0&&W(r+" has unknown type "+Dt(e)),t}function c(e,r){for(var t=new Array(e),n=0;n<e;++n)t[n]=l(q[r+n*ie>>2],"parameter "+n);return t}var h=[];function g(e,r){var t=c(e,r),n=t[0],s=n.name+"_$"+t.slice(1).map(function($){return $.name}).join("_")+"$",a=h[s];if(a!==void 0)return a;for(var f=["retType"],u=[n],d="",v=0;v<e-1;++v)d+=(v!==0?", ":"")+"arg"+v,f.push("argType"+v),u.push(t[1+v]);for(var E=_r("methodCaller_"+s),b="return function "+E+`(handle, name, destructors, args) {
`,w=0,v=0;v<e-1;++v)b+="    var arg"+v+" = argType"+v+".readValueFromPointer(args"+(w?"+"+w:"")+`);
`,w+=t[v+1].argPackAdvance;b+="    var rv = handle[name]("+d+`);
`;for(var v=0;v<e-1;++v)t[v+1].deleteObject&&(b+="    argType"+v+".deleteObject(arg"+v+`);
`);n.isVoid||(b+=`    return retType.toWireType(destructors, rv);
`),b+=`};
`,f.push(b);var P=St(Function,f).apply(null,u);return a=$t(P),h[s]=a,a}function k(){je("")}function F(){return se.length}function R(){return F()}function T(e,r,t){se.copyWithin(e,r,r+t)}function O(e){je("OOM")}function j(e){se.length,O()}var Q={};function Z(){return A||"./this.program"}function J(){if(!J.strings){var e=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",r={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:Z()};for(var t in Q)Q[t]===void 0?delete r[t]:r[t]=Q[t];var n=[];for(var t in r)n.push(t+"="+r[t]);J.strings=n}return J.strings}function Ce(e,r){var t=0;return J().forEach(function(n,s){var a=r+t;q[e+s*4>>2]=a,yr(n,a),t+=n.length+1}),0}function Oe(e,r){var t=J();q[e>>2]=t.length;var n=0;return t.forEach(function(s){n+=s.length+1}),q[r>>2]=n,0}function Ge(e){try{var r=ae.getStreamFromFD(e);return i.close(r),0}catch(t){if(typeof i>"u"||!(t instanceof i.ErrnoError))throw t;return t.errno}}function rr(e,r){try{var t=ae.getStreamFromFD(e),n=t.tty?2:i.isDir(t.mode)?3:i.isLink(t.mode)?7:4;return le[r>>0]=n,0}catch(s){if(typeof i>"u"||!(s instanceof i.ErrnoError))throw s;return s.errno}}function Rr(e,r,t,n){for(var s=0,a=0;a<t;a++){var f=q[r>>2],u=q[r+4>>2];r+=8;var d=i.read(e,le,f,u,n);if(d<0)return-1;if(s+=d,d<u)break}return s}function Ot(e,r,t,n){try{var s=ae.getStreamFromFD(e),a=Rr(s,r,t);return M[n>>2]=a,0}catch(f){if(typeof i>"u"||!(f instanceof i.ErrnoError))throw f;return f.errno}}function $r(e,r){return r+2097152>>>0<4194305-!!e?(e>>>0)+r*4294967296:NaN}function qn(e,r,t,n,s){try{var a=$r(r,t);if(isNaN(a))return 61;var f=ae.getStreamFromFD(e);return i.llseek(f,a,n),ke=[f.position>>>0,(oe=f.position,+Math.abs(oe)>=1?oe>0?(Math.min(+Math.floor(oe/4294967296),4294967295)|0)>>>0:~~+Math.ceil((oe-+(~~oe>>>0))/4294967296)>>>0:0)],M[s>>2]=ke[0],M[s+4>>2]=ke[1],f.getdents&&a===0&&n===0&&(f.getdents=null),0}catch(u){if(typeof i>"u"||!(u instanceof i.ErrnoError))throw u;return u.errno}}function Yt(e,r,t,n){for(var s=0,a=0;a<t;a++){var f=q[r>>2],u=q[r+4>>2];r+=8;var d=i.write(e,le,f,u,n);if(d<0)return-1;s+=d}return s}function Jt(e,r,t,n){try{var s=ae.getStreamFromFD(e),a=Yt(s,r,t);return q[n>>2]=a,0}catch(f){if(typeof i>"u"||!(f instanceof i.ErrnoError))throw f;return f.errno}}function Qt(e){}var Gn=function(e,r,t,n){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=i.nextInode++,this.name=r,this.mode=t,this.node_ops={},this.stream_ops={},this.rdev=n},zr=365,qr=146;Object.defineProperties(Gn.prototype,{read:{get:function(){return(this.mode&zr)===zr},set:function(e){e?this.mode|=zr:this.mode&=~zr}},write:{get:function(){return(this.mode&qr)===qr},set:function(e){e?this.mode|=qr:this.mode&=~qr}},isFolder:{get:function(){return i.isDir(this.mode)}},isDevice:{get:function(){return i.isChrdev(this.mode)}}}),i.FSNode=Gn,i.staticInit(),ln(),He=o.BindingError=ur(Error,"BindingError"),_t=o.InternalError=ur(Error,"InternalError"),Sr(),yn(),qt(),kt=o.UnboundTypeError=ur(Error,"UnboundTypeError"),Gt();function Vt(e,r,t){var n=t>0?t:ir(e)+1,s=new Array(n),a=Je(e,s,0,s.length);return r&&(s.length=a),s}var li={q:fn,p:Le,D:Mr,x:ar,t:cn,F:dn,u:Rn,r:On,d:Vn,E:In,l:jn,c:Ln,b:Wn,k:Bn,g:Hn,o:dr,f:ft,i:zn,n:Rt,m:g,a:k,w:R,B:T,v:j,z:Ce,A:Oe,j:Ge,y:rr,C:Ot,s:qn,h:Jt,e:Qt};nt(),o.___wasm_call_ctors=function(){return(o.___wasm_call_ctors=o.asm.H).apply(null,arguments)};var Gr=o._malloc=function(){return(Gr=o._malloc=o.asm.I).apply(null,arguments)},Ue=o._free=function(){return(Ue=o._free=o.asm.K).apply(null,arguments)},Xn=o.___errno_location=function(){return(Xn=o.___errno_location=o.asm.L).apply(null,arguments)},Kn=o.___getTypeName=function(){return(Kn=o.___getTypeName=o.asm.M).apply(null,arguments)};o.___embind_register_native_and_builtin_types=function(){return(o.___embind_register_native_and_builtin_types=o.asm.N).apply(null,arguments)};var Yn=o._emscripten_builtin_memalign=function(){return(Yn=o._emscripten_builtin_memalign=o.asm.O).apply(null,arguments)},Jn=o.___cxa_is_pointer_type=function(){return(Jn=o.___cxa_is_pointer_type=o.asm.P).apply(null,arguments)};o.dynCall_viiijj=function(){return(o.dynCall_viiijj=o.asm.Q).apply(null,arguments)},o.dynCall_jij=function(){return(o.dynCall_jij=o.asm.R).apply(null,arguments)},o.dynCall_jii=function(){return(o.dynCall_jii=o.asm.S).apply(null,arguments)},o.dynCall_jiji=function(){return(o.dynCall_jiji=o.asm.T).apply(null,arguments)};var Xr;function di(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}or=function e(){Xr||Nt(),Xr||(or=e)};function Nt(e){if(xe>0||(on(),xe>0))return;function r(){Xr||(Xr=!0,o.calledRun=!0,!Me&&(sn(),p(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),an()))}o.setStatus?(o.setStatus("Running..."),setTimeout(function(){setTimeout(function(){o.setStatus("")},1),r()},1)):r()}if(o.run=Nt,o.preInit)for(typeof o.preInit=="function"&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return Nt(),o.ready}})(),Yi=Object.defineProperty,Ji=Object.getOwnPropertyDescriptor,si=(m,y,o,p)=>{for(var _=p>1?void 0:p?Ji(y,o):y,C=m.length-1,A;C>=0;C--)(A=m[C])&&(_=(p?A(y,o,_):A(_))||_);return p&&_&&Yi(y,o,_),_};class Ut extends Te{constructor(){super(...arguments);H(this,"decoder");H(this,"config");H(this,"module");H(this,"sampleRate",0);H(this,"channels",0)}initialize(){return new Promise(o=>{const p={};p.print=_=>console.log(_),p.printErr=_=>console.log(`[JS] ERROR: ${_}`),p.onAbort=()=>console.log("[JS] FATAL: WASM ABORTED"),p.postRun=_=>{this.module=_,this.decoder=new this.module.AudioDecoder(this),o()},console.log("audio soft decoder initialize call"),Ki(p)})}configure(o){this.config=o,this.decoder.setCodec(this.config.codec,this.config.description)}decode(o){this.decoder.decode(o.data,o.timestamp)}flush(){}reset(){this.config=void 0,this.decoder&&this.decoder.clear()}close(){this.removeAllListeners(),this.decoder&&(this.decoder.clear(),this.decoder.delete())}audioInfo(o,p){this.sampleRate=o,this.channels=p;let _={sampleRate:o,channels:p,depth:16};this.emit(lt.AudioCodecInfo,_)}pcmData(o,p,_){if(!this.module)return;let C=[];for(let I=0;I<this.channels;I++){let N=this.module.HEAPU32[(o>>2)+I]>>2;C.push(Float32Array.of(...this.module.HEAPF32.subarray(N,N+p)))}let A={datas:C,sampleNum:p,channles:this.channels,pts:_};this.emit(lt.AudioFrame,A)}errorInfo(o){let p={errMsg:o};this.emit(lt.Error,p)}}si([Ve(Te.INIT,"initialized")],Ut.prototype,"initialize",1);si([Ve("initialized","configured")],Ut.prototype,"configure",1);si([ri("configured")],Ut.prototype,"decode",1);si([Ve("configured","initialized")],Ut.prototype,"reset",1);si([Ve([],"closed")],Ut.prototype,"close",1);var Qi=Object.defineProperty,Zi=Object.getOwnPropertyDescriptor,ai=(m,y,o,p)=>{for(var _=p>1?void 0:p?Zi(y,o):y,C=m.length-1,A;C>=0;C--)(A=m[C])&&(_=(p?A(y,o,_):A(_))||_);return p&&_&&Qi(y,o,_),_};class rn extends Te{constructor(){super(...arguments);H(this,"decoder");H(this,"config")}async initialize(){this.decoder=new AudioDecoder({output:o=>{this.emit(lt.AudioFrame,o)},error:o=>{this.emit(lt.Error,o),this.close()}})}configure(o){this.config=o,console.log("configure",o),this.decoder.configure({codec:{aac:"mp4a.40.2",pcma:"alaw",pcmu:"ulaw"}[o.codec],description:o.description,sampleRate:o.sampleRate,numberOfChannels:o.numberOfChannels})}decode(o){this.decoder.state==="configured"&&this.decoder.decode(new EncodedAudioChunk(o))}flush(){this.decoder.flush()}reset(){this.decoder.reset()}close(){this.decoder.close()}}ai([Ve([Te.INIT,"closed"],"initialized")],rn.prototype,"initialize",1);ai([Ve("initialized","configured")],rn.prototype,"configure",1);ai([ri("configured")],rn.prototype,"decode",1);ai([Ve([],Te.INIT)],rn.prototype,"reset",1);ai([Ve([],"closed",{ignoreError:!0})],rn.prototype,"close",1);var dt=(m=>(m.AUDIO_ENCODER_CONFIG_CHANGED="audio-encoder-config-changed",m.VIDEO_ENCODER_CONFIG_CHANGED="video-encoder-config-changed",m))(dt||{}),ct=(m=>(m[m.PULL=0]="PULL",m[m.PUSH=1]="PUSH",m))(ct||{});class Pi extends fi.EventEmitter{constructor(o,p=0){super();H(this,"audioReadable");H(this,"videoReadable");H(this,"audioDecoderConfig");H(this,"videoDecoderConfig");H(this,"gotAudio");H(this,"gotVideo");this.source=o,this.mode=p,console.log("Demuxer Created:",Object.getPrototypeOf(this).constructor.name),o&&(p==0?this.startPull(o):o.oput=new ti(this.demux()))}startPull(o){this.mode=0,this.source=o,this.audioReadable=new ReadableStream({pull:async p=>p.enqueue(await this.pullAudio())}),this.videoReadable=new ReadableStream({pull:async p=>p.enqueue(await this.pullVideo())})}pullAudio(){return new Promise((o,p)=>{this.gotAudio=o,this.gotVideo&&this.pull().catch(p)})}pullVideo(){return new Promise((o,p)=>{this.gotVideo=o,this.gotAudio&&this.pull().catch(p)})}}const Ci=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350,-1,-1,-1];function eo(m){const y=((m[2]&192)>>>6)+1,o=(m[2]&60)>>>2,p=(m[2]&1)<<2|(m[3]&192)>>>6,_=new Uint8Array([(y&3)<<3|(o&14)>>1,(o&1)<<7|(p&15)<<3]);return{profile:y,sampleRate:Ci[o],channel:p,audioSpecificConfig:_}}class ro extends Pi{constructor(){super(...arguments);H(this,"header");H(this,"tmp8",new Uint8Array(4));H(this,"dv",new DataView(this.tmp8.buffer))}async pullTag(){const o=new Uint8Array(15);return this.pullTag=async()=>{await this.source.read(o);const p=o[4],_=this.readLength(o.subarray(5,8)),C=this.readTimestamp(o.subarray(8,11)),A=await this.source.read(_);return{type:p,data:A.slice(),timestamp:C}},console.time("flv"),await this.source.read(9).then(p=>{if(this.header=p,console.log(p),p[0]!="F".charCodeAt(0)||p[1]!="L".charCodeAt(0)||p[2]!="V".charCodeAt(0))throw new Error("not flv");console.timeEnd("flv")}),this.pullTag()}readTag(o){const p=o[0],_=this.readLength(o.subarray(1,4)),C=this.readTimestamp(o.subarray(4,8));this.gotTag(p,o.subarray(11,11+_),C)}gotTag(o,p,_){var C,A;switch(o){case 8:return this.audioDecoderConfig||(this.audioDecoderConfig={codec:{10:"aac",7:"pcma",8:"pcmu"}[p[0]>>4]||"unknown",numberOfChannels:1,sampleRate:8e3},this.audioDecoderConfig.codec=="aac"&&(this.audioDecoderConfig.numberOfChannels=p[3]>>3&15,this.audioDecoderConfig.sampleRate=Ci[(p[2]&7)<<1|p[3]>>7])),this.audioDecoderConfig.codec=="aac"&&p[1]==0?(this.audioDecoderConfig.description=p.subarray(2),this.emit(dt.AUDIO_ENCODER_CONFIG_CHANGED,this.audioDecoderConfig),this.mode==ct.PULL?this.pull():void 0):(C=this.gotAudio)==null?void 0:C.call(this,{type:"key",data:this.audioDecoderConfig.codec=="aac"?p.subarray(2):p.subarray(1),timestamp:_,duration:0});case 9:return this.videoDecoderConfig||(this.videoDecoderConfig={codec:{7:"avc",12:"hevc"}[p[0]&15]||"unknown",description:p.subarray(5)}),p[1]==0?(this.emit(dt.VIDEO_ENCODER_CONFIG_CHANGED,this.videoDecoderConfig),this.mode==ct.PULL?this.pull():void 0):(A=this.gotVideo)==null?void 0:A.call(this,{type:p[0]>>4==1?"key":"delta",data:p.subarray(5),timestamp:_,duration:0});default:if(this.mode==ct.PULL)return this.pull()}}async pull(){const o=await this.pullTag();if(o)return this.gotTag(o.type,o.data,o.timestamp)}readLength(o){return this.tmp8[0]=0,this.tmp8.set(o,1),this.dv.getUint32(0)}readTimestamp(o){this.tmp8.set(o.subarray(0,3),1);let p=this.dv.getUint32(0);return p===16777215&&(this.tmp8[0]=o[3],p=this.dv.getUint32(0)),p}readHead(o){if(console.time("flv"),this.header=o,console.log(o),o[0]!="F".charCodeAt(0)||o[1]!="L".charCodeAt(0)||o[2]!="V".charCodeAt(0))throw new Error("not flv");console.timeEnd("flv")}*demux(){for(this.readHead(yield 13);;){let o=yield 11;const p=o[0],_=this.readLength(o.subarray(1,4)),C=this.readTimestamp(o.subarray(4,8));o=yield _,this.gotTag(p,o.slice(),C),yield 4}}}const to=442,no=443,io=444,oo=480,so=448,ao=445,uo=441,fo=27,co=36,lo=15,ho=144,po=145;class vo extends Pi{constructor(){super(...arguments);H(this,"videoStreamType",0);H(this,"audioStreamType",0);H(this,"pts",0);H(this,"dts",0)}pull(){throw new Error("Method not implemented.")}*demux(){var N,S,D,U,L;let o=0;const p=new Uint8Array(4),_=new DataView(p.buffer),C=[];let A=0,I=0;for(;;){yield p;const z=_.getUint32(0);switch(console.log(z.toString(16)),z){case to:yield 9,yield p.subarray(0,1),yield _.getUint8(0)&7;break;case no:case ao:yield p.subarray(0,2),yield _.getUint16(0);break;case io:yield p.subarray(0,2);const ne=yield _.getUint16(0);this.decProgramStreamMap(ne);break;case oo:yield p.subarray(0,2);const ve=_.getUint16(0),ee=yield ve,ie=this.parsePESPacket(ee);if(console.log(ve,ie.length),!o)if((ie[4]&15)==7)o=Date.now(),I=this.pts;else break;if(I==this.pts){A+=ie.length,C.push(ie.slice());break}if(C.length&&I!=this.pts){let he=0;(N=this.gotVideo)==null||N.call(this,{type:(C[0][4]&15)==1?"delta":"key",data:C.length==1?C[0]:C.reduce((nr,Re)=>(nr.subarray(he).set(Re),he+=Re.length,nr),new Uint8Array(A)),timestamp:(Date.now()-o)*1e3}),C.length=0}A+=ie.length,C.push(ie.slice()),I=this.pts;break;case so:yield p.subarray(0,2);const be=yield _.getUint16(0),Me=this.parsePESPacket(be);if(((S=this.audioDecoderConfig)==null?void 0:S.codec)=="aac"&&!((D=this.audioDecoderConfig)!=null&&D.description)){const he=eo(Me.subarray(7));this.audioDecoderConfig={codec:"aac",description:he.audioSpecificConfig,sampleRate:he.sampleRate,numberOfChannels:he.channel},this.emit(dt.AUDIO_ENCODER_CONFIG_CHANGED,this.audioDecoderConfig)}(L=this.gotAudio)==null||L.call(this,{type:"key",data:((U=this.audioDecoderConfig)==null?void 0:U.codec)=="aac"?Me.subarray(7):Me,timestamp:this.dts,duration:0});break;case uo:return;default:debugger}}}parsePESPacket(o){if(o.length<4)throw new Error("Short buffer");const p=o[1],_=p>>7==1,C=(p&64)>>6==1,A=o[2];if(o.length<A+3)throw new Error("Short buffer");const I=o.subarray(3,3+A);return _&&I.length>4&&(this.pts=(I[0]&14)<<29|I[1]<<22|(I[2]&254)<<14|I[3]<<7|I[4]>>1,C&&I.length>9?this.dts=(I[5]&14)<<29|I[6]<<22|(I[7]&254)<<14|I[8]<<7|I[9]>>1:this.dts=this.pts),o.subarray(3+A)}decProgramStreamMap(o){const p=new DataView(o.buffer,o.byteOffset,o.byteLength),_=o.length;let C=2;const A=p.getUint16(C);C+=2,C+=A;let I=p.getUint16(C);for(C+=2;I>0&&!(_<=C+1);){const N=o[C];C++;const S=o[C];if(C++,S>=224&&S<=239?(this.videoStreamType=N,this.videoDecoderConfig={codec:{[fo]:"avc",[co]:"hevc"}[N]||"unknown"},this.emit(dt.VIDEO_ENCODER_CONFIG_CHANGED,this.videoDecoderConfig)):S>=192&&S<=223&&(this.audioStreamType=N,this.audioDecoderConfig={codec:{[lo]:"aac",[ho]:"pcma",[po]:"pcmu"}[N]||"unknown",numberOfChannels:1,sampleRate:8e3},this.audioDecoderConfig.codec!="aac"&&this.emit(dt.AUDIO_ENCODER_CONFIG_CHANGED,this.audioDecoderConfig)),_<=C+1)break;const D=p.getUint16(C);C+=2,C+=D,I-=4+D}}}class mo{constructor(y){H(this,"mediaStream");H(this,"videoWriter");H(this,"audioWriter");const o=new MediaStreamTrackGenerator({kind:"video"});this.videoWriter=o.writable.getWriter();const p=new MediaStreamTrackGenerator({kind:"audio"});this.audioWriter=p.writable.getWriter(),this.mediaStream=y.srcObject=new MediaStream([p,o]),y.play()}writeVideo(y){return this.videoWriter.write(y)}writeAudio(y){return this.audioWriter.write(y)}close(){this.mediaStream.getTracks().forEach(y=>y.stop())}}const gi=(()=>{if(typeof self>"u")return!1;if("top"in self&&self!==top)try{top.window.document._=0}catch{return!1}return"showOpenFilePicker"in self})();gi?Promise.resolve().then(function(){return Eo}):Promise.resolve().then(function(){return Do});gi?Promise.resolve().then(function(){return Po}):Promise.resolve().then(function(){return So});const yo=gi?Promise.resolve().then(function(){return To}):Promise.resolve().then(function(){return Ro});async function go(...m){return(await yo).default(...m)}const wo=async m=>{const y=await m.getFile();return y.handle=m,y};var _o=async(m=[{}])=>{Array.isArray(m)||(m=[m]);const y=[];m.forEach((_,C)=>{y[C]={description:_.description||"Files",accept:{}},_.mimeTypes?_.mimeTypes.map(A=>{y[C].accept[A]=_.extensions||[]}):y[C].accept["*/*"]=_.extensions||[]});const o=await window.showOpenFilePicker({id:m[0].id,startIn:m[0].startIn,types:y,multiple:m[0].multiple||!1,excludeAcceptAllOption:m[0].excludeAcceptAllOption||!1}),p=await Promise.all(o.map(wo));return m[0].multiple?p:p[0]},Eo={__proto__:null,default:_o};function ui(m){function y(o){if(Object(o)!==o)return Promise.reject(new TypeError(o+" is not an object."));var p=o.done;return Promise.resolve(o.value).then(function(_){return{value:_,done:p}})}return ui=function(o){this.s=o,this.n=o.next},ui.prototype={s:null,n:null,next:function(){return y(this.n.apply(this.s,arguments))},return:function(o){var p=this.s.return;return p===void 0?Promise.resolve({value:o,done:!0}):y(p.apply(this.s,arguments))},throw:function(o){var p=this.s.return;return p===void 0?Promise.reject(o):y(p.apply(this.s,arguments))}},new ui(m)}const Ti=async(m,y,o=m.name,p)=>{const _=[],C=[];var A,I=!1,N=!1;try{for(var S,D=function(U){var L,z,K,Y=2;for(typeof Symbol<"u"&&(z=Symbol.asyncIterator,K=Symbol.iterator);Y--;){if(z&&(L=U[z])!=null)return L.call(U);if(K&&(L=U[K])!=null)return new ui(L.call(U));z="@@asyncIterator",K="@@iterator"}throw new TypeError("Object is not async iterable")}(m.values());I=!(S=await D.next()).done;I=!1){const U=S.value,L=`${o}/${U.name}`;U.kind==="file"?C.push(U.getFile().then(z=>(z.directoryHandle=m,z.handle=U,Object.defineProperty(z,"webkitRelativePath",{configurable:!0,enumerable:!0,get:()=>L})))):U.kind!=="directory"||!y||p&&p(U)||_.push(Ti(U,y,L,p))}}catch(U){N=!0,A=U}finally{try{I&&D.return!=null&&await D.return()}finally{if(N)throw A}}return[...(await Promise.all(_)).flat(),...await Promise.all(C)]};var bo=async(m={})=>{m.recursive=m.recursive||!1,m.mode=m.mode||"read";const y=await window.showDirectoryPicker({id:m.id,startIn:m.startIn,mode:m.mode});return(await(await y.values()).next()).done?[y]:Ti(y,m.recursive,void 0,m.skipDirectory)},Po={__proto__:null,default:bo},Co=async(m,y=[{}],o=null,p=!1,_=null)=>{Array.isArray(y)||(y=[y]),y[0].fileName=y[0].fileName||"Untitled";const C=[];let A=null;if(m instanceof Blob&&m.type?A=m.type:m.headers&&m.headers.get("content-type")&&(A=m.headers.get("content-type")),y.forEach((S,D)=>{C[D]={description:S.description||"Files",accept:{}},S.mimeTypes?(D===0&&A&&S.mimeTypes.push(A),S.mimeTypes.map(U=>{C[D].accept[U]=S.extensions||[]})):A?C[D].accept[A]=S.extensions||[]:C[D].accept["*/*"]=S.extensions||[]}),o)try{await o.getFile()}catch(S){if(o=null,p)throw S}const I=o||await window.showSaveFilePicker({suggestedName:y[0].fileName,id:y[0].id,startIn:y[0].startIn,types:C,excludeAcceptAllOption:y[0].excludeAcceptAllOption||!1});!o&&_&&_(I);const N=await I.createWritable();return"stream"in m?(await m.stream().pipeTo(N),I):"body"in m?(await m.body.pipeTo(N),I):(await N.write(await m),await N.close(),I)},To={__proto__:null,default:Co},ko=async(m=[{}])=>(Array.isArray(m)||(m=[m]),new Promise((y,o)=>{const p=document.createElement("input");p.type="file";const _=[...m.map(N=>N.mimeTypes||[]),...m.map(N=>N.extensions||[])].join();p.multiple=m[0].multiple||!1,p.accept=_||"",p.style.display="none",document.body.append(p);const C=N=>{typeof A=="function"&&A(),y(N)},A=m[0].legacySetup&&m[0].legacySetup(C,()=>A(o),p),I=()=>{window.removeEventListener("focus",I),p.remove()};p.addEventListener("click",()=>{window.addEventListener("focus",I)}),p.addEventListener("change",()=>{window.removeEventListener("focus",I),p.remove(),C(p.multiple?Array.from(p.files):p.files[0])}),"showPicker"in HTMLInputElement.prototype?p.showPicker():p.click()})),Do={__proto__:null,default:ko},Ao=async(m=[{}])=>(Array.isArray(m)||(m=[m]),m[0].recursive=m[0].recursive||!1,new Promise((y,o)=>{const p=document.createElement("input");p.type="file",p.webkitdirectory=!0;const _=A=>{typeof C=="function"&&C(),y(A)},C=m[0].legacySetup&&m[0].legacySetup(_,()=>C(o),p);p.addEventListener("change",()=>{let A=Array.from(p.files);m[0].recursive?m[0].recursive&&m[0].skipDirectory&&(A=A.filter(I=>I.webkitRelativePath.split("/").every(N=>!m[0].skipDirectory({name:N,kind:"directory"})))):A=A.filter(I=>I.webkitRelativePath.split("/").length===2),_(A)}),"showPicker"in HTMLInputElement.prototype?p.showPicker():p.click()})),So={__proto__:null,default:Ao},Fo=async(m,y={})=>{Array.isArray(y)&&(y=y[0]);const o=document.createElement("a");let p=m;"body"in m&&(p=await async function(A,I){const N=A.getReader(),S=new ReadableStream({start:L=>async function z(){return N.read().then(({done:K,value:Y})=>{if(!K)return L.enqueue(Y),z();L.close()})}()}),D=new Response(S),U=await D.blob();return N.releaseLock(),new Blob([U],{type:I})}(m.body,m.headers.get("content-type"))),o.download=y.fileName||"Untitled",o.href=URL.createObjectURL(await p);const _=()=>{typeof C=="function"&&C()},C=y.legacySetup&&y.legacySetup(_,()=>C(),o);return o.addEventListener("click",()=>{setTimeout(()=>URL.revokeObjectURL(o.href),3e4),_()}),o.click(),null},Ro={__proto__:null,default:Fo};const $o=Vue.createTextVNode(" 默认格式"),Oo=Vue.createTextVNode(" dump"),Vo=Vue.createTextVNode(" 视频解码器"),No={style:{"margin-bottom":"12px"}},Uo=Vue.createTextVNode(" 点击或者拖动文件到该区域来上传 "),Io=Vue.createTextVNode(" 支持上传的文件类型："),Mo=Vue.createTextVNode("mp4,flv,ts,h264,h265"),jo={style:{"flex-grow":"1"}},xo=Vue.createTextVNode("Connect"),Lo=Vue.createTextVNode("Close"),Wo=Vue.createElementVNode("video",{id:"video",style:{width:"640px",height:"480px","object-fit":"contain"}},null,-1),Bo=Vue.createElementVNode("canvas",{id:"bps"},null,-1),Ko=Vue.defineComponent({setup(m){const y=naive.useMessage(),o=Vue.ref("http://localhost:8080/hdl/live/test.flv");let p=null;const _=()=>{p&&(p.destroy(),p=null)},C=Vue.ref("flv"),A=Vue.ref("webcodecs"),I=Vue.ref(!1),N=Vue.ref(ct.PUSH),S=Vue.ref(()=>{});let D;const U=Vue.reactive({audioTS:0,audioSize:0,videoTS:0,videoSize:0,videoDecodedFrameRate:0,videoDecodedFrames:0,audioDecodedFrameRate:0,audioDecodedFrames:0});let L=0,z=0;Vue.watchEffect(()=>{if(!I.value){S.value();return}});function K(ie){return new Promise(X=>setTimeout(X,ie))}async function Y(ie,X){var be,Me;try{const he=[],nr=new Promise(ue=>{S.value=()=>{ue(new Blob(he))}}),Re=I.value?go(nr):null;if(console.log(`connect ${ie} url ${o.value}`),ie)switch(N.value=ct.PULL,D=new ji(ie),console.log(ie.name,ie.type),ie.type){case"video/mp4":C.value="mp4";break;case"video/x-flv":C.value="flv";break}else switch(o.value.endsWith(".flv")&&(C.value="flv"),xi(o.value)){case"ws":D=new Ii(o.value);break;case"http":D=new Mi(o.value);break}D.on(Zn.Connecting,()=>{p=y.loading(Zn.Connecting)}),D.on(Zn.Reconnecting,()=>{p=y.loading(Zn.Reconnecting)}),D.on(tr.CONNECTED,()=>{_(),y.success(tr.CONNECTED)}),D.on(tr.DISCONNECTED,()=>{_(),y.error(tr.DISCONNECTED)}),D.on(tr.RECONNECTED,()=>{_(),y.success(tr.RECONNECTED)});const Xe=new{soft:Hi,simd:qi,webcodecs:en}[A.value];await Xe.initialize();const Je=new{soft:Ut,simd:Ut,webcodecs:rn}[A.value];await Je.initialize(),N.value===ct.PULL&&await D.connect();const hr=C.value=="flv"?new ro(D,N.value):new vo(D,N.value),ir=new mo(document.getElementById("video"));hr.on(dt.AUDIO_ENCODER_CONFIG_CHANGED,ue=>{Je.configure(ue)}),hr.on(dt.VIDEO_ENCODER_CONFIG_CHANGED,ue=>{Xe.configure(ue)}),Xe.on(Kr.VideoCodecInfo,ue=>{y.info(`width: ${ue.width} height: ${ue.height}`)}),Xe.on(Kr.VideoFrame,ue=>{U.videoDecodedFrames++,L++,ir.writeVideo(ue)}),Xe.on(Kr.Error,ue=>{console.error(ue),Xe.initialize()}),Je.on(lt.AudioCodecInfo,ue=>{}),Je.on(lt.AudioFrame,ue=>{U.audioDecodedFrames++,ir.writeAudio(ue)});const Dr=ue=>{U.audioTS=ue.timestamp,U.audioSize=ue.data.byteLength,Je.decode(ue),z++},Yr=ue=>{if(U.videoTS=ue.timestamp,U.videoSize=ue.data.byteLength,L++,console.debug(ue.timestamp,ue.type,ue.data),Xe.config)try{Re&&he.push(ue.data),Xe.decode(ue)}catch(pt){console.error(pt)}};N.value==ct.PULL?((be=hr.audioReadable)==null||be.pipeTo(new WritableStream({write(ue){return Dr(ue),ie&&X&&X.onProgress({percent:100*D.down.total/ie.size}),K(0)}})),(Me=hr.videoReadable)==null||Me.pipeTo(new WritableStream({write(ue){return Yr(ue),ie&&X&&X.onProgress({percent:100*D.down.total/ie.size}),K(40)}}))):(hr.gotAudio=Dr,hr.gotVideo=Yr,await D.connect())}catch(he){X&&X.onFinish(),_(),console.error(he),y.error(he.message)}}function B(){y.info("disconnetion"),D.close()}const ne=Vue.reactive({totalDown:0,bpsDown:0});Vue.onMounted(()=>{const ie=new wi.TimelineGraphView(document.getElementById("bps")),X=new wi.TimelineDataSeries;ie.addDataSeries(X);let be=new Date().getTime();const Me=setInterval(()=>{if(!D)return;ne.totalDown=D.down.total,ne.bpsDown=D.down.bps;const he=new Date().getTime();U.videoDecodedFrameRate=Math.floor(L*1e3/(he-be)),L=0,U.audioDecodedFrameRate=Math.floor(z*1e3/(he-be)),z=0,be=he,X.addPoint(Date.now(),U.videoDecodedFrameRate),ie.updateEndDate()},1e3);Vue.onUnmounted(()=>{clearInterval(Me)})});async function ve(ie){const X=ie.file.file,be=X==null?void 0:X.size;X&&be&&Y(X,ie)}function ee(ie){return D.close(),!0}return(ie,X)=>{const be=Vue.resolveComponent("n-select"),Me=Vue.resolveComponent("n-switch");return Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,[Vue.createVNode(Vue.unref(naive.NSpace),null,{default:Vue.withCtx(()=>[$o,Vue.createVNode(be,{value:C.value,"onUpdate:value":X[0]||(X[0]=he=>C.value=he),options:[{label:"flv",value:"flv"},{label:"ps",value:"ps"}]},null,8,["value"]),Oo,Vue.createVNode(Me,{value:I.value,"onUpdate:value":X[1]||(X[1]=he=>I.value=he)},null,8,["value"]),Vo,Vue.createVNode(be,{value:A.value,"onUpdate:value":X[2]||(X[2]=he=>A.value=he),options:[{label:"soft",value:"soft"},{label:"simd",value:"simd"},{label:"webcodecs",value:"webcodecs"}]},null,8,["value"])]),_:1}),Vue.createVNode(Vue.unref(naive.NUpload),{"custom-request":ve,max:1,onRemove:ee},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(naive.NUploadDragger),null,{default:Vue.withCtx(()=>[Vue.createElementVNode("div",No,[Vue.createVNode(Vue.unref(naive.NIcon),{size:"48",depth:3},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(Ai))]),_:1})]),Vue.createVNode(Vue.unref(naive.NText),{style:{"font-size":"16px"}},{default:Vue.withCtx(()=>[Uo]),_:1}),Vue.createVNode(Vue.unref(naive.NP),{depth:"3",style:{margin:"8px 0 0 0"}},{default:Vue.withCtx(()=>[Io,Vue.createVNode(Vue.unref(naive.NText),null,{default:Vue.withCtx(()=>[Mo]),_:1})]),_:1})]),_:1})]),_:1}),Vue.createVNode(Vue.unref(naive.NSpace),{justify:"end","wrap-item":!1},{default:Vue.withCtx(()=>[Vue.createElementVNode("div",jo,[Vue.createVNode(Vue.unref(naive.NInput),{value:o.value,"onUpdate:value":X[3]||(X[3]=he=>o.value=he),"input-props":{type:"url"},placeholder:"URL"},null,8,["value"])]),Vue.createVNode(Vue.unref(naive.NButton),{onClick:X[4]||(X[4]=he=>Y())},{default:Vue.withCtx(()=>[xo]),_:1}),Vue.createVNode(Vue.unref(naive.NButton),{onClick:B},{default:Vue.withCtx(()=>[Lo]),_:1})]),_:1}),Wo,Vue.createVNode(Vue.unref(naive.NRow),null,{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(naive.NCol),{span:12},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(naive.NStatistic),{label:"下行总量",value:Vue.unref(ne).totalDown},null,8,["value"])]),_:1}),Vue.createVNode(Vue.unref(naive.NCol),{span:12},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(naive.NStatistic),{label:"下行bps"},{default:Vue.withCtx(()=>[Vue.createTextVNode(Vue.toDisplayString(Vue.unref(ne).bpsDown),1)]),_:1})]),_:1})]),_:1}),Vue.createVNode(Vue.unref(naive.NRow),null,{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(naive.NCol),{span:6},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(naive.NStatistic),{label:"音频时间戳",value:Vue.unref(U).audioTS},null,8,["value"])]),_:1}),Vue.createVNode(Vue.unref(naive.NCol),{span:6},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(naive.NStatistic),{label:"音频tag大小",value:Vue.unref(U).audioSize},null,8,["value"])]),_:1}),Vue.createVNode(Vue.unref(naive.NCol),{span:6},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(naive.NStatistic),{label:"音频解码帧率",value:Vue.unref(U).audioDecodedFrameRate},null,8,["value"])]),_:1}),Vue.createVNode(Vue.unref(naive.NCol),{span:6},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(naive.NStatistic),{label:"音频解码帧数",value:Vue.unref(U).audioDecodedFrames},null,8,["value"])]),_:1})]),_:1}),Vue.createVNode(Vue.unref(naive.NRow),null,{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(naive.NCol),{span:6},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(naive.NStatistic),{label:"视频解码帧率",value:Vue.unref(U).videoDecodedFrameRate},null,8,["value"])]),_:1}),Vue.createVNode(Vue.unref(naive.NCol),{span:6},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(naive.NStatistic),{label:"视频解码帧数",value:Vue.unref(U).videoDecodedFrames},null,8,["value"])]),_:1}),Vue.createVNode(Vue.unref(naive.NCol),{span:6},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(naive.NStatistic),{label:"视频时间戳",value:Vue.unref(U).videoTS},null,8,["value"])]),_:1}),Vue.createVNode(Vue.unref(naive.NCol),{span:6},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(naive.NStatistic),{label:"视频tag大小",value:Vue.unref(U).videoSize},null,8,["value"])]),_:1})]),_:1}),Bo],64)}}});export{Ko as default};

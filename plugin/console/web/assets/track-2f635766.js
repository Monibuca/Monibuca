import{l as Pt}from"./vendor-ec30964e.js";import{B as Dt,f as Tt}from"./TableAction-8944830d.js";import{_ as Lt}from"./index-93eb0e35.js";import{_ as kt,i as Rt}from"./index-747e11ee.js";import{f as Vt}from"./index-60c113a0.js";import{_ as Z,c as me,e as W,S as xe,i as Mt,P as se,a as Me,b as Bt,d as Se,m as Q,p as Et,t as ot,f as ne,u as j,s as Ft,l as zt,r as Be,G as st,g as lt,h as Ae,C as ut,R as ft,j as q,k as Wt,n as Ot,o as ge,q as Yt,v as vt,w as Gt,x as Ht,y as ct,z as ht,A as Ut,B as Xt,D as Zt,E as $t,F as Nt,H as we,I,J as g,K as ee,L as qt,T as J,M as dt,N as gt,O as le,Q as Kt,U as jt,V as Ce,W as Jt,X as ue,Y as Ee,Z as Qt,$ as Fe,a0 as It,a1 as er,a2 as tr,a3 as rr,a4 as ar,a5 as nr,a6 as ir,a7 as or,a8 as sr,a9 as lr,aa as ur,ab as fr,ac as vr,ad as ze,ae as cr,af as hr,ag as dr,ah as gr,ai as pr,aj as yr,ak as mr,al as xr,am as Sr}from"./index.esm.min-024473c8.js";var pt=function(t){Z(e,t);function e(){var a=t!==null&&t.apply(this,arguments)||this;return a.type=e.type,a}return e.prototype.getInitialData=function(a,r){return me(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(a,r,n){var i=this.coordinateSystem;if(i&&i.clampData){var o=i.clampData(a),s=i.dataToPoint(o);if(n)W(i.getAxes(),function(c,h){if(c.type==="category"&&r!=null){var y=c.getTicksCoords(),m=o[h],P=r[h]==="x1"||r[h]==="y1";if(P&&(m+=1),y.length<2)return;if(y.length===2){s[h]=c.toGlobalCoord(c.getExtent()[P?1:0]);return}for(var w=void 0,b=void 0,x=1,A=0;A<y.length;A++){var T=y[A].coord,D=A===y.length-1?y[A-1].tickValue+x:y[A].tickValue;if(D===m){b=T;break}else if(D<m)w=T;else if(w!=null&&D>m){b=(T+w)/2;break}A===1&&(x=D-y[0].tickValue)}b==null&&(w?w&&(b=y[y.length-1].coord):b=y[0].coord),s[h]=c.toGlobalCoord(b)}});else{var f=this.getData(),l=f.getLayout("offset"),u=f.getLayout("size"),v=i.getBaseAxis().isHorizontal()?0:1;s[v]+=l+u/2}return s}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(xe);xe.registerClass(pt);const We=pt;var Ar=function(t){Z(e,t);function e(){var a=t!==null&&t.apply(this,arguments)||this;return a.type=e.type,a}return e.prototype.getInitialData=function(){return me(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},e.prototype.getProgressiveThreshold=function(){var a=this.get("progressiveThreshold"),r=this.get("largeThreshold");return r>a&&(a=r),a},e.prototype.brushSelector=function(a,r,n){return n.rect(r.getItemLayout(a))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=Mt(We.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(We);const wr=Ar;var Cr=function(){function t(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return t}(),br=function(t){Z(e,t);function e(a){var r=t.call(this,a)||this;return r.type="sausage",r}return e.prototype.getDefaultShape=function(){return new Cr},e.prototype.buildPath=function(a,r){var n=r.cx,i=r.cy,o=Math.max(r.r0||0,0),s=Math.max(r.r,0),f=(s-o)*.5,l=o+f,u=r.startAngle,v=r.endAngle,c=r.clockwise,h=Math.PI*2,y=c?v-u<h:u-v<h;y||(u=v-(c?h:-h));var m=Math.cos(u),P=Math.sin(u),w=Math.cos(v),b=Math.sin(v);y?(a.moveTo(m*o+n,P*o+i),a.arc(m*l+n,P*l+i,f,-Math.PI+u,u,!c)):a.moveTo(m*s+n,P*s+i),a.arc(n,i,s,u,v,!c),a.arc(w*l+n,b*l+i,f,v-Math.PI*2,v-Math.PI,!c),o!==0&&a.arc(n,i,o,v,u,c)},e}(se);const Oe=br;function _r(t,e){e=e||{};var a=e.isRoundCap;return function(r,n,i){var o=n.position;if(!o||o instanceof Array)return Me(r,n,i);var s=t(o),f=n.distance!=null?n.distance:5,l=this.shape,u=l.cx,v=l.cy,c=l.r,h=l.r0,y=(c+h)/2,m=l.startAngle,P=l.endAngle,w=(m+P)/2,b=a?Math.abs(c-h)/2:0,x=Math.cos,A=Math.sin,T=u+c*x(m),D=v+c*A(m),R="left",k="top";switch(s){case"startArc":T=u+(h-f)*x(w),D=v+(h-f)*A(w),R="center",k="top";break;case"insideStartArc":T=u+(h+f)*x(w),D=v+(h+f)*A(w),R="center",k="bottom";break;case"startAngle":T=u+y*x(m)+te(m,f+b,!1),D=v+y*A(m)+re(m,f+b,!1),R="right",k="middle";break;case"insideStartAngle":T=u+y*x(m)+te(m,-f+b,!1),D=v+y*A(m)+re(m,-f+b,!1),R="left",k="middle";break;case"middle":T=u+y*x(w),D=v+y*A(w),R="center",k="middle";break;case"endArc":T=u+(c+f)*x(w),D=v+(c+f)*A(w),R="center",k="bottom";break;case"insideEndArc":T=u+(c-f)*x(w),D=v+(c-f)*A(w),R="center",k="top";break;case"endAngle":T=u+y*x(P)+te(P,f+b,!0),D=v+y*A(P)+re(P,f+b,!0),R="left",k="middle";break;case"insideEndAngle":T=u+y*x(P)+te(P,-f+b,!0),D=v+y*A(P)+re(P,-f+b,!0),R="right",k="middle";break;default:return Me(r,n,i)}return r=r||{},r.x=T,r.y=D,r.align=R,r.verticalAlign=k,r}}function Pr(t,e,a,r){if(Bt(r)){t.setTextConfig({rotation:r});return}else if(Se(e)){t.setTextConfig({rotation:0});return}var n=t.shape,i=n.clockwise?n.startAngle:n.endAngle,o=n.clockwise?n.endAngle:n.startAngle,s=(i+o)/2,f,l=a(e);switch(l){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":f=s;break;case"startAngle":case"insideStartAngle":f=i;break;case"endAngle":case"insideEndAngle":f=o;break;default:t.setTextConfig({rotation:0});return}var u=Math.PI*1.5-f;l==="middle"&&u>Math.PI/2&&u<Math.PI*1.5&&(u-=Math.PI),t.setTextConfig({rotation:u})}function te(t,e,a){return e*Math.sin(t)*(a?-1:1)}function re(t,e,a){return e*Math.cos(t)*(a?1:-1)}function Dr(t,e,a){var r=t.get("borderRadius");if(r==null)return a?{cornerRadius:0}:null;Se(r)||(r=[r,r,r,r]);var n=Math.abs(e.r||0-e.r0||0);return{cornerRadius:Q(r,function(i){return Et(i,n)})}}var fe=Math.max,ve=Math.min;function Tr(t,e){var a=t.getArea&&t.getArea();if(ct(t,"cartesian2d")){var r=t.getBaseAxis();if(r.type!=="category"||!r.onBand){var n=e.getLayout("bandWidth");r.isHorizontal()?(a.x-=n,a.width+=n*2):(a.y-=n,a.height+=n*2)}}return a}var Lr=function(t){Z(e,t);function e(){var a=t.call(this)||this;return a.type=e.type,a._isFirstFrame=!0,a}return e.prototype.render=function(a,r,n,i){this._model=a,this._removeOnRenderedListener(n),this._updateDrawMode(a);var o=a.get("coordinateSystem");(o==="cartesian2d"||o==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(a,r,n):this._renderNormal(a,r,n,i))},e.prototype.incrementalPrepareRender=function(a){this._clear(),this._updateDrawMode(a),this._updateLargeClip(a)},e.prototype.incrementalRender=function(a,r){this._progressiveEls=[],this._incrementalRenderLarge(a,r)},e.prototype.eachRendered=function(a){ot(this._progressiveEls||this.group,a)},e.prototype._updateDrawMode=function(a){var r=a.pipelineContext.large;(this._isLargeDraw==null||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},e.prototype._renderNormal=function(a,r,n,i){var o=this.group,s=a.getData(),f=this._data,l=a.coordinateSystem,u=l.getBaseAxis(),v;l.type==="cartesian2d"?v=u.isHorizontal():l.type==="polar"&&(v=u.dim==="angle");var c=a.isAnimationEnabled()?a:null,h=kr(a,l);h&&this._enableRealtimeSort(h,s,n);var y=a.get("clip",!0)||h,m=Tr(l,s);o.removeClipPath();var P=a.get("roundCap",!0),w=a.get("showBackground",!0),b=a.getModel("backgroundStyle"),x=b.get("borderRadius")||0,A=[],T=this._backgroundEls,D=i&&i.isInitSort,R=i&&i.type==="changeAxisOrder";function k(C){var B=ae[l.type](s,C),S=zr(l,v,B);return S.useStyle(b.getItemStyle()),l.type==="cartesian2d"?S.setShape("r",x):S.setShape("cornerRadius",x),A[C]=S,S}s.diff(f).add(function(C){var B=s.getItemModel(C),S=ae[l.type](s,C,B);if(w&&k(C),!(!s.hasValue(C)||!Xe[l.type](S))){var p=!1;y&&(p=Ye[l.type](m,S));var d=Ge[l.type](a,s,C,S,v,c,u.model,!1,P);h&&(d.forceLabelAnimation=!0),Ze(d,s,C,B,S,a,v,l.type==="polar"),D?d.attr({shape:S}):h?He(h,c,d,S,C,v,!1,!1):ne(d,{shape:S},a,C),s.setItemGraphicEl(C,d),o.add(d),d.ignore=p}}).update(function(C,B){var S=s.getItemModel(C),p=ae[l.type](s,C,S);if(w){var d=void 0;T.length===0?d=k(B):(d=T[B],d.useStyle(b.getItemStyle()),l.type==="cartesian2d"?d.setShape("r",x):d.setShape("cornerRadius",x),A[C]=d);var _=ae[l.type](s,C),E=mt(v,_,l);j(d,{shape:E},c,C)}var L=f.getItemGraphicEl(B);if(!s.hasValue(C)||!Xe[l.type](p)){o.remove(L);return}var M=!1;if(y&&(M=Ye[l.type](m,p),M&&o.remove(L)),L?Ft(L):L=Ge[l.type](a,s,C,p,v,c,u.model,!!L,P),h&&(L.forceLabelAnimation=!0),R){var K=L.getTextContent();if(K){var X=zt(K);X.prevValue!=null&&(X.prevValue=X.value)}}else Ze(L,s,C,S,p,a,v,l.type==="polar");D?L.attr({shape:p}):h?He(h,c,L,p,C,v,!0,R):j(L,{shape:p},a,C,null),s.setItemGraphicEl(C,L),L.ignore=M,o.add(L)}).remove(function(C){var B=f.getItemGraphicEl(C);B&&Be(B,a,C)}).execute();var O=this._backgroundGroup||(this._backgroundGroup=new st);O.removeAll();for(var V=0;V<A.length;++V)O.add(A[V]);o.add(O),this._backgroundEls=A,this._data=s},e.prototype._renderLarge=function(a,r,n){this._clear(),Ne(a,this.group),this._updateLargeClip(a)},e.prototype._incrementalRenderLarge=function(a,r){this._removeBackground(),Ne(r,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(a){var r=a.get("clip",!0)&&lt(a.coordinateSystem,!1,a),n=this.group;r?n.setClipPath(r):n.removeClipPath()},e.prototype._enableRealtimeSort=function(a,r,n){var i=this;if(r.count()){var o=a.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(r,a,n),this._isFirstFrame=!1;else{var s=function(f){var l=r.getItemGraphicEl(f),u=l&&l.shape;return u&&Math.abs(o.isHorizontal()?u.height:u.width)||0};this._onRendered=function(){i._updateSortWithinSameData(r,s,o,n)},n.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(a,r,n){var i=[];return a.each(a.mapDimension(r.dim),function(o,s){var f=n(s);f=f??NaN,i.push({dataIndex:s,mappedValue:f,ordinalNumber:o})}),i.sort(function(o,s){return s.mappedValue-o.mappedValue}),{ordinalNumbers:Q(i,function(o){return o.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(a,r,n){for(var i=n.scale,o=a.mapDimension(n.dim),s=Number.MAX_VALUE,f=0,l=i.getOrdinalMeta().categories.length;f<l;++f){var u=a.rawIndexOf(o,i.getRawOrdinalNumber(f)),v=u<0?Number.MIN_VALUE:r(a.indexOfRawIndex(u));if(v>s)return!0;s=v}return!1},e.prototype._isOrderDifferentInView=function(a,r){for(var n=r.scale,i=n.getExtent(),o=Math.max(0,i[0]),s=Math.min(i[1],n.getOrdinalMeta().categories.length-1);o<=s;++o)if(a.ordinalNumbers[o]!==n.getRawOrdinalNumber(o))return!0},e.prototype._updateSortWithinSameData=function(a,r,n,i){if(this._isOrderChangedWithinSameData(a,r,n)){var o=this._dataSort(a,n,r);this._isOrderDifferentInView(o,n)&&(this._removeOnRenderedListener(i),i.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",axisId:n.index,sortInfo:o}))}},e.prototype._dispatchInitSort=function(a,r,n){var i=r.baseAxis,o=this._dataSort(a,i,function(s){return a.get(a.mapDimension(r.otherAxis.dim),s)});n.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:!0,axisId:i.index,sortInfo:o})},e.prototype.remove=function(a,r){this._clear(this._model),this._removeOnRenderedListener(r)},e.prototype.dispose=function(a,r){this._removeOnRenderedListener(r)},e.prototype._removeOnRenderedListener=function(a){this._onRendered&&(a.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(a){var r=this.group,n=this._data;a&&a.isAnimationEnabled()&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl(function(i){Be(i,a,Ae(i).dataIndex)})):r.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(ut),Ye={cartesian2d:function(t,e){var a=e.width<0?-1:1,r=e.height<0?-1:1;a<0&&(e.x+=e.width,e.width=-e.width),r<0&&(e.y+=e.height,e.height=-e.height);var n=t.x+t.width,i=t.y+t.height,o=fe(e.x,t.x),s=ve(e.x+e.width,n),f=fe(e.y,t.y),l=ve(e.y+e.height,i),u=s<o,v=l<f;return e.x=u&&o>n?s:o,e.y=v&&f>i?l:f,e.width=u?0:s-o,e.height=v?0:l-f,a<0&&(e.x+=e.width,e.width=-e.width),r<0&&(e.y+=e.height,e.height=-e.height),u||v},polar:function(t,e){var a=e.r0<=e.r?1:-1;if(a<0){var r=e.r;e.r=e.r0,e.r0=r}var n=ve(e.r,t.r),i=fe(e.r0,t.r0);e.r=n,e.r0=i;var o=n-i<0;if(a<0){var r=e.r;e.r=e.r0,e.r0=r}return o}},Ge={cartesian2d:function(t,e,a,r,n,i,o,s,f){var l=new ft({shape:q({},r),z2:1});if(l.__dataIndex=a,l.name="item",i){var u=l.shape,v=n?"height":"width";u[v]=0}return l},polar:function(t,e,a,r,n,i,o,s,f){var l=!n&&f?Oe:ht,u=new l({shape:r,z2:1});u.name="item";var v=yt(n);if(u.calculateTextPosition=_r(v,{isRoundCap:l===Oe}),i){var c=u.shape,h=n?"r":"endAngle",y={};c[h]=n?r.r0:r.startAngle,y[h]=r[h],(s?j:ne)(u,{shape:y},i)}return u}};function kr(t,e){var a=t.get("realtimeSort",!0),r=e.getBaseAxis();if(a&&r.type==="category"&&e.type==="cartesian2d")return{baseAxis:r,otherAxis:e.getOtherAxis(r)}}function He(t,e,a,r,n,i,o,s){var f,l;i?(l={x:r.x,width:r.width},f={y:r.y,height:r.height}):(l={y:r.y,height:r.height},f={x:r.x,width:r.width}),s||(o?j:ne)(a,{shape:f},e,n,null);var u=e?t.baseAxis.model:null;(o?j:ne)(a,{shape:l},u,n)}function Ue(t,e){for(var a=0;a<e.length;a++)if(!isFinite(t[e[a]]))return!0;return!1}var Rr=["x","y","width","height"],Vr=["cx","cy","r","startAngle","endAngle"],Xe={cartesian2d:function(t){return!Ue(t,Rr)},polar:function(t){return!Ue(t,Vr)}},ae={cartesian2d:function(t,e,a){var r=t.getItemLayout(e),n=a?Br(a,r):0,i=r.width>0?1:-1,o=r.height>0?1:-1;return{x:r.x+i*n/2,y:r.y+o*n/2,width:r.width-i*n,height:r.height-o*n}},polar:function(t,e,a){var r=t.getItemLayout(e);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}}};function Mr(t){return t.startAngle!=null&&t.endAngle!=null&&t.startAngle===t.endAngle}function yt(t){return function(e){var a=e?"Arc":"Angle";return function(r){switch(r){case"start":case"insideStart":case"end":case"insideEnd":return r+a;default:return r}}}(t)}function Ze(t,e,a,r,n,i,o,s){var f=e.getItemVisual(a,"style");if(s){if(!i.get("roundCap")){var u=t.shape,v=Dr(r.getModel("itemStyle"),u,!0);q(u,v),t.setShape(u)}}else{var l=r.get(["itemStyle","borderRadius"])||0;t.setShape("r",l)}t.useStyle(f);var c=r.getShallow("cursor");c&&t.attr("cursor",c);var h=s?o?n.r>=n.r0?"endArc":"startArc":n.endAngle>=n.startAngle?"endAngle":"startAngle":o?n.height>=0?"bottom":"top":n.width>=0?"right":"left",y=Wt(r);Ot(t,y,{labelFetcher:i,labelDataIndex:a,defaultText:ge(i.getData(),a),inheritColor:f.fill,defaultOpacity:f.opacity,defaultOutsidePosition:h});var m=t.getTextContent();if(s&&m){var P=r.get(["label","position"]);t.textConfig.inside=P==="middle"?!0:null,Pr(t,P==="outside"?h:P,yt(o),r.get(["label","rotate"]))}Yt(m,y,i.getRawValue(a),function(b){return Ut(e,b)});var w=r.getModel(["emphasis"]);vt(t,w.get("focus"),w.get("blurScope"),w.get("disabled")),Gt(t,r),Mr(n)&&(t.style.fill="none",t.style.stroke="none",W(t.states,function(b){b.style&&(b.style.fill=b.style.stroke="none")}))}function Br(t,e){var a=t.get(["itemStyle","borderColor"]);if(!a||a==="none")return 0;var r=t.get(["itemStyle","borderWidth"])||0,n=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),i=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(r,n,i)}var Er=function(){function t(){}return t}(),$e=function(t){Z(e,t);function e(a){var r=t.call(this,a)||this;return r.type="largeBar",r}return e.prototype.getDefaultShape=function(){return new Er},e.prototype.buildPath=function(a,r){for(var n=r.points,i=this.baseDimIdx,o=1-this.baseDimIdx,s=[],f=[],l=this.barWidth,u=0;u<n.length;u+=3)f[i]=l,f[o]=n[u+2],s[i]=n[u+i],s[o]=n[u+o],a.rect(s[0],s[1],f[0],f[1])},e}(se);function Ne(t,e,a,r){var n=t.getData(),i=n.getLayout("valueAxisHorizontal")?1:0,o=n.getLayout("largeDataIndices"),s=n.getLayout("size"),f=t.getModel("backgroundStyle"),l=n.getLayout("largeBackgroundPoints");if(l){var u=new $e({shape:{points:l},incremental:!!r,silent:!0,z2:0});u.baseDimIdx=i,u.largeDataIndices=o,u.barWidth=s,u.useStyle(f.getItemStyle()),e.add(u),a&&a.push(u)}var v=new $e({shape:{points:n.getLayout("largePoints")},incremental:!!r,ignoreCoarsePointer:!0,z2:1});v.baseDimIdx=i,v.largeDataIndices=o,v.barWidth=s,e.add(v),v.useStyle(n.getVisual("style")),Ae(v).seriesIndex=t.seriesIndex,t.get("silent")||(v.on("mousedown",qe),v.on("mousemove",qe)),a&&a.push(v)}var qe=Ht(function(t){var e=this,a=Fr(e,t.offsetX,t.offsetY);Ae(e).dataIndex=a>=0?a:null},30,!1);function Fr(t,e,a){for(var r=t.baseDimIdx,n=1-r,i=t.shape.points,o=t.largeDataIndices,s=[],f=[],l=t.barWidth,u=0,v=i.length/3;u<v;u++){var c=u*3;if(f[r]=l,f[n]=i[c+2],s[r]=i[c+r],s[n]=i[c+n],f[n]<0&&(s[n]+=f[n],f[n]=-f[n]),e>=s[0]&&e<=s[0]+f[0]&&a>=s[1]&&a<=s[1]+f[1])return o[u]}return-1}function mt(t,e,a){if(ct(a,"cartesian2d")){var r=e,n=a.getArea();return{x:t?r.x:n.x,y:t?n.y:r.y,width:t?r.width:n.width,height:t?n.height:r.height}}else{var n=a.getArea(),i=e;return{cx:n.cx,cy:n.cy,r0:t?n.r0:i.r0,r:t?n.r:i.r,startAngle:t?i.startAngle:0,endAngle:t?i.endAngle:Math.PI*2}}}function zr(t,e,a){var r=t.type==="polar"?ht:ft;return new r({shape:mt(e,a,t),silent:!0,z2:0})}const Wr=Lr;function Or(t){t.registerChartView(Wr),t.registerSeriesModel(wr),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,Xt(Nt,"bar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Zt("bar")),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,$t("bar")),t.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,a){var r=e.componentType||"series";a.eachComponent({mainType:r,query:e},function(n){e.sortInfo&&n.axis.setCategorySortInfo(e.sortInfo)})})}var Ke={color:"fill",borderColor:"stroke"},Yr={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},Y=we(),Gr=function(t){Z(e,t);function e(){var a=t!==null&&t.apply(this,arguments)||this;return a.type=e.type,a}return e.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},e.prototype.getInitialData=function(a,r){return me(null,this)},e.prototype.getDataParams=function(a,r,n){var i=t.prototype.getDataParams.call(this,a,r);return n&&(i.info=Y(n).info),i},e.type="series.custom",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},e}(xe);const Hr=Gr;function Ur(t,e){return e=e||[0,0],Q(["x","y"],function(a,r){var n=this.getAxis(a),i=e[r],o=t[r]/2;return n.type==="category"?n.getBandWidth():Math.abs(n.dataToCoord(i-o)-n.dataToCoord(i+o))},this)}function Xr(t){var e=t.master.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(a){return t.dataToPoint(a)},size:I(Ur,t)}}}function Zr(t,e){return e=e||[0,0],Q([0,1],function(a){var r=e[a],n=t[a]/2,i=[],o=[];return i[a]=r-n,o[a]=r+n,i[1-a]=o[1-a]=e[1-a],Math.abs(this.dataToPoint(i)[a]-this.dataToPoint(o)[a])},this)}function $r(t){var e=t.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:t.getZoom()},api:{coord:function(a){return t.dataToPoint(a)},size:I(Zr,t)}}}function Nr(t,e){var a=this.getAxis(),r=e instanceof Array?e[0]:e,n=(t instanceof Array?t[0]:t)/2;return a.type==="category"?a.getBandWidth():Math.abs(a.dataToCoord(r-n)-a.dataToCoord(r+n))}function qr(t){var e=t.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(a){return t.dataToPoint(a)},size:I(Nr,t)}}}function Kr(t,e){return e=e||[0,0],Q(["Radius","Angle"],function(a,r){var n="get"+a+"Axis",i=this[n](),o=e[r],s=t[r]/2,f=i.type==="category"?i.getBandWidth():Math.abs(i.dataToCoord(o-s)-i.dataToCoord(o+s));return a==="Angle"&&(f=f*Math.PI/180),f},this)}function jr(t){var e=t.getRadiusAxis(),a=t.getAngleAxis(),r=e.getExtent();return r[0]>r[1]&&r.reverse(),{coordSys:{type:"polar",cx:t.cx,cy:t.cy,r:r[1],r0:r[0]},api:{coord:function(n){var i=e.dataToRadius(n[0]),o=a.dataToAngle(n[1]),s=t.coordToPoint([i,o]);return s.push(i,o*Math.PI/180),s},size:I(Kr,t)}}}function Jr(t){var e=t.getRect(),a=t.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:a.start,end:a.end,weeks:a.weeks,dayCount:a.allDay}},api:{coord:function(r,n){return t.dataToPoint(r,n)}}}}function Qr(t,e,a,r){return t&&(t.legacy||t.legacy!==!1&&!a&&!r&&e!=="tspan"&&(e==="text"||g(t,"text")))}function Ir(t,e,a){var r=t,n,i,o;if(e==="text")o=r;else{o={},g(r,"text")&&(o.text=r.text),g(r,"rich")&&(o.rich=r.rich),g(r,"textFill")&&(o.fill=r.textFill),g(r,"textStroke")&&(o.stroke=r.textStroke),g(r,"fontFamily")&&(o.fontFamily=r.fontFamily),g(r,"fontSize")&&(o.fontSize=r.fontSize),g(r,"fontStyle")&&(o.fontStyle=r.fontStyle),g(r,"fontWeight")&&(o.fontWeight=r.fontWeight),i={type:"text",style:o,silent:!0},n={};var s=g(r,"textPosition");a?n.position=s?r.textPosition:"inside":s&&(n.position=r.textPosition),g(r,"textPosition")&&(n.position=r.textPosition),g(r,"textOffset")&&(n.offset=r.textOffset),g(r,"textRotation")&&(n.rotation=r.textRotation),g(r,"textDistance")&&(n.distance=r.textDistance)}return je(o,t),W(o.rich,function(f){je(f,f)}),{textConfig:n,textContent:i}}function je(t,e){e&&(e.font=e.textFont||e.font,g(e,"textStrokeWidth")&&(t.lineWidth=e.textStrokeWidth),g(e,"textAlign")&&(t.align=e.textAlign),g(e,"textVerticalAlign")&&(t.verticalAlign=e.textVerticalAlign),g(e,"textLineHeight")&&(t.lineHeight=e.textLineHeight),g(e,"textWidth")&&(t.width=e.textWidth),g(e,"textHeight")&&(t.height=e.textHeight),g(e,"textBackgroundColor")&&(t.backgroundColor=e.textBackgroundColor),g(e,"textPadding")&&(t.padding=e.textPadding),g(e,"textBorderColor")&&(t.borderColor=e.textBorderColor),g(e,"textBorderWidth")&&(t.borderWidth=e.textBorderWidth),g(e,"textBorderRadius")&&(t.borderRadius=e.textBorderRadius),g(e,"textBoxShadowColor")&&(t.shadowColor=e.textBoxShadowColor),g(e,"textBoxShadowBlur")&&(t.shadowBlur=e.textBoxShadowBlur),g(e,"textBoxShadowOffsetX")&&(t.shadowOffsetX=e.textBoxShadowOffsetX),g(e,"textBoxShadowOffsetY")&&(t.shadowOffsetY=e.textBoxShadowOffsetY))}function Je(t,e,a){var r=t;r.textPosition=r.textPosition||a.position||"inside",a.offset!=null&&(r.textOffset=a.offset),a.rotation!=null&&(r.textRotation=a.rotation),a.distance!=null&&(r.textDistance=a.distance);var n=r.textPosition.indexOf("inside")>=0,i=t.fill||"#000";Qe(r,e);var o=r.textFill==null;return n?o&&(r.textFill=a.insideFill||"#fff",!r.textStroke&&a.insideStroke&&(r.textStroke=a.insideStroke),!r.textStroke&&(r.textStroke=i),r.textStrokeWidth==null&&(r.textStrokeWidth=2)):(o&&(r.textFill=t.fill||a.outsideFill||"#000"),!r.textStroke&&a.outsideStroke&&(r.textStroke=a.outsideStroke)),r.text=e.text,r.rich=e.rich,W(e.rich,function(s){Qe(s,s)}),r}function Qe(t,e){e&&(g(e,"fill")&&(t.textFill=e.fill),g(e,"stroke")&&(t.textStroke=e.fill),g(e,"lineWidth")&&(t.textStrokeWidth=e.lineWidth),g(e,"font")&&(t.font=e.font),g(e,"fontStyle")&&(t.fontStyle=e.fontStyle),g(e,"fontWeight")&&(t.fontWeight=e.fontWeight),g(e,"fontSize")&&(t.fontSize=e.fontSize),g(e,"fontFamily")&&(t.fontFamily=e.fontFamily),g(e,"align")&&(t.textAlign=e.align),g(e,"verticalAlign")&&(t.textVerticalAlign=e.verticalAlign),g(e,"lineHeight")&&(t.textLineHeight=e.lineHeight),g(e,"width")&&(t.textWidth=e.width),g(e,"height")&&(t.textHeight=e.height),g(e,"backgroundColor")&&(t.textBackgroundColor=e.backgroundColor),g(e,"padding")&&(t.textPadding=e.padding),g(e,"borderColor")&&(t.textBorderColor=e.borderColor),g(e,"borderWidth")&&(t.textBorderWidth=e.borderWidth),g(e,"borderRadius")&&(t.textBorderRadius=e.borderRadius),g(e,"shadowColor")&&(t.textBoxShadowColor=e.shadowColor),g(e,"shadowBlur")&&(t.textBoxShadowBlur=e.shadowBlur),g(e,"shadowOffsetX")&&(t.textBoxShadowOffsetX=e.shadowOffsetX),g(e,"shadowOffsetY")&&(t.textBoxShadowOffsetY=e.shadowOffsetY),g(e,"textShadowColor")&&(t.textShadowColor=e.textShadowColor),g(e,"textShadowBlur")&&(t.textShadowBlur=e.textShadowBlur),g(e,"textShadowOffsetX")&&(t.textShadowOffsetX=e.textShadowOffsetX),g(e,"textShadowOffsetY")&&(t.textShadowOffsetY=e.textShadowOffsetY))}var xt={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},Ie=ee(xt);qt(J,function(t,e){return t[e]=1,t},{});J.join(", ");var ie=["","style","shape","extra"],N=we();function be(t,e,a,r,n){var i=t+"Animation",o=dt(t,r,n)||{},s=N(e).userDuring;return o.duration>0&&(o.during=s?I(oa,{el:e,userDuring:s}):null,o.setToFinal=!0,o.scope=t),q(o,a[i]),o}function ea(t,e,a,r){r=r||{};var n=r.dataIndex,i=r.isInit,o=r.clearStyle,s=a.isAnimationEnabled(),f=N(t),l=e.style;f.userDuring=e.during;var u={},v={};if(la(t,e,v),tt("shape",e,v),tt("extra",e,v),!i&&s&&(sa(t,e,u),et("shape",t,e,u),et("extra",t,e,u),ua(t,e,l,u)),v.style=l,ra(t,v,o),na(t,e),s)if(i){var c={};W(ie,function(y){var m=y?e[y]:e;m&&m.enterFrom&&(y&&(c[y]=c[y]||{}),q(y?c[y]:c,m.enterFrom))});var h=be("enter",t,e,a,n);h.duration>0&&t.animateFrom(c,h)}else aa(t,e,n||0,a,u);ta(t,e),l?t.dirty():t.markRedraw()}function ta(t,e){for(var a=N(t).leaveToProps,r=0;r<ie.length;r++){var n=ie[r],i=n?e[n]:e;i&&i.leaveTo&&(a||(a=N(t).leaveToProps={}),n&&(a[n]=a[n]||{}),q(n?a[n]:a,i.leaveTo))}}function _e(t,e,a,r){if(t){var n=t.parent,i=N(t).leaveToProps;if(i){var o=be("update",t,e,a,0);o.done=function(){n.remove(t),r&&r()},t.animateTo(i,o)}else n.remove(t),r&&r()}}function $(t){return t==="all"}function ra(t,e,a){var r=e.style;if(!t.isGroup&&r){if(a){t.useStyle({});for(var n=t.animators,i=0;i<n.length;i++){var o=n[i];o.targetName==="style"&&o.changeTarget(t.style)}}t.setStyle(r)}e&&(e.style=null,e&&t.attr(e),e.style=r)}function aa(t,e,a,r,n){if(n){var i=be("update",t,e,r,a);i.duration>0&&t.animateFrom(n,i)}}function na(t,e){g(e,"silent")&&(t.silent=e.silent),g(e,"ignore")&&(t.ignore=e.ignore),t instanceof gt&&g(e,"invisible")&&(t.invisible=e.invisible),t instanceof se&&g(e,"autoBatch")&&(t.autoBatch=e.autoBatch)}var z={},ia={setTransform:function(t,e){return z.el[t]=e,this},getTransform:function(t){return z.el[t]},setShape:function(t,e){var a=z.el,r=a.shape||(a.shape={});return r[t]=e,a.dirtyShape&&a.dirtyShape(),this},getShape:function(t){var e=z.el.shape;if(e)return e[t]},setStyle:function(t,e){var a=z.el,r=a.style;return r&&(r[t]=e,a.dirtyStyle&&a.dirtyStyle()),this},getStyle:function(t){var e=z.el.style;if(e)return e[t]},setExtra:function(t,e){var a=z.el.extra||(z.el.extra={});return a[t]=e,this},getExtra:function(t){var e=z.el.extra;if(e)return e[t]}};function oa(){var t=this,e=t.el;if(e){var a=N(e).userDuring,r=t.userDuring;if(a!==r){t.el=t.userDuring=null;return}z.el=e,r(ia)}}function et(t,e,a,r){var n=a[t];if(n){var i=e[t],o;if(i){var s=a.transition,f=n.transition;if(f)if(!o&&(o=r[t]={}),$(f))q(o,i);else for(var l=Ce(f),u=0;u<l.length;u++){var v=l[u],c=i[v];o[v]=c}else if($(s)||le(s,t)>=0){!o&&(o=r[t]={});for(var h=ee(i),u=0;u<h.length;u++){var v=h[u],c=i[v];fa(n[v],c)&&(o[v]=c)}}}}}function tt(t,e,a){var r=e[t];if(r)for(var n=a[t]={},i=ee(r),o=0;o<i.length;o++){var s=i[o];n[s]=Kt(r[s])}}function sa(t,e,a){for(var r=e.transition,n=$(r)?J:Ce(r||[]),i=0;i<n.length;i++){var o=n[i];if(!(o==="style"||o==="shape"||o==="extra")){var s=t[o];a[o]=s}}}function la(t,e,a){for(var r=0;r<Ie.length;r++){var n=Ie[r],i=xt[n],o=e[n];o&&(a[i[0]]=o[0],a[i[1]]=o[1])}for(var r=0;r<J.length;r++){var s=J[r];e[s]!=null&&(a[s]=e[s])}}function ua(t,e,a,r){if(a){var n=t.style,i;if(n){var o=a.transition,s=e.transition;if(o&&!$(o)){var f=Ce(o);!i&&(i=r.style={});for(var l=0;l<f.length;l++){var u=f[l],v=n[u];i[u]=v}}else if(t.getAnimationStyleProps&&($(s)||$(o)||le(s,"style")>=0)){var c=t.getAnimationStyleProps(),h=c?c.style:null;if(h){!i&&(i=r.style={});for(var y=ee(a),l=0;l<y.length;l++){var u=y[l];if(h[u]){var v=n[u];i[u]=v}}}}}}}function fa(t,e){return jt(t)?t!==e:t!=null&&isFinite(t)}var St=we(),va=["percent","easing","shape","style","extra"];function ca(t){t.stopAnimation("keyframe"),t.attr(St(t))}function At(t,e,a){if(!(!a.isAnimationEnabled()||!e)){if(Se(e)){W(e,function(s){At(t,s,a)});return}var r=e.keyframes,n=e.duration;if(a&&n==null){var i=dt("enter",a,0);n=i&&i.duration}if(!(!r||!n)){var o=St(t);W(ie,function(s){if(!(s&&!t[s])){var f;r.sort(function(l,u){return l.percent-u.percent}),W(r,function(l){var u=t.animators,v=s?l[s]:l;if(v){var c=ee(v);if(s||(c=Jt(c,function(m){return le(va,m)<0})),!!c.length){f||(f=t.animate(s,e.loop,!0),f.scope="keyframe");for(var h=0;h<u.length;h++)u[h]!==f&&u[h].targetName===f.targetName&&u[h].stopTracks(c);s&&(o[s]=o[s]||{});var y=s?o[s]:o;W(c,function(m){y[m]=((s?t[s]:t)||{})[m]}),f.whenWithKeys(n*l.percent,v,c,l.easing)}}}),f&&f.delay(e.delay||0).duration(n).start(e.easing)}})}}}var G="emphasis",H="normal",Pe="blur",De="select",U=[H,G,Pe,De],ce={normal:["itemStyle"],emphasis:[G,"itemStyle"],blur:[Pe,"itemStyle"],select:[De,"itemStyle"]},he={normal:["label"],emphasis:[G,"label"],blur:[Pe,"label"],select:[De,"label"]},ha=["x","y"],da="e\0\0",F={normal:{},emphasis:{},blur:{},select:{}},ga={cartesian2d:Xr,geo:$r,single:qr,polar:jr,calendar:Jr};function pe(t){return t instanceof se}function ye(t){return t instanceof gt}function pa(t,e){e.copyTransform(t),ye(e)&&ye(t)&&(e.setStyle(t.style),e.z=t.z,e.z2=t.z2,e.zlevel=t.zlevel,e.invisible=t.invisible,e.ignore=t.ignore,pe(e)&&pe(t)&&e.setShape(t.shape))}var ya=function(t){Z(e,t);function e(){var a=t!==null&&t.apply(this,arguments)||this;return a.type=e.type,a}return e.prototype.render=function(a,r,n,i){this._progressiveEls=null;var o=this._data,s=a.getData(),f=this.group,l=rt(a,s,r,n);o||f.removeAll(),s.diff(o).add(function(v){de(n,null,v,l(v,i),a,f,s)}).remove(function(v){var c=o.getItemGraphicEl(v);c&&_e(c,Y(c).option,a)}).update(function(v,c){var h=o.getItemGraphicEl(c);de(n,h,v,l(v,i),a,f,s)}).execute();var u=a.get("clip",!0)?lt(a.coordinateSystem,!1,a):null;u?f.setClipPath(u):f.removeClipPath(),this._data=s},e.prototype.incrementalPrepareRender=function(a,r,n){this.group.removeAll(),this._data=null},e.prototype.incrementalRender=function(a,r,n,i,o){var s=r.getData(),f=rt(r,s,n,i),l=this._progressiveEls=[];function u(h){h.isGroup||(h.incremental=!0,h.ensureState("emphasis").hoverLayer=!0)}for(var v=a.start;v<a.end;v++){var c=de(null,null,v,f(v,o),r,this.group,s);c&&(c.traverse(u),l.push(c))}},e.prototype.eachRendered=function(a){ot(this._progressiveEls||this.group,a)},e.prototype.filterForExposedEvent=function(a,r,n,i){var o=r.element;if(o==null||n.name===o)return!0;for(;(n=n.__hostTarget||n.parent)&&n!==this.group;)if(n.name===o)return!0;return!1},e.type="custom",e}(ut);const ma=ya;function Te(t){var e=t.type,a;if(e==="path"){var r=t.shape,n=r.width!=null&&r.height!=null?{x:r.x||0,y:r.y||0,width:r.width,height:r.height}:null,i=bt(r);a=ar(i,null,n,r.layout||"center"),Y(a).customPathData=i}else if(e==="image")a=new nr({}),Y(a).customImagePath=t.style.image;else if(e==="text")a=new ir({});else if(e==="group")a=new st;else{if(e==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var o=or(e);if(!o){var s="";sr(s)}a=new o}return Y(a).customGraphicType=e,a.name=t.name,a.z2EmphasisLift=1,a.z2SelectLift=1,a}function Le(t,e,a,r,n,i,o){ca(e);var s=n&&n.normal.cfg;s&&e.setTextConfig(s),r&&r.transition==null&&(r.transition=ha);var f=r&&r.style;if(f){if(e.type==="text"){var l=f;g(l,"textFill")&&(l.fill=l.textFill),g(l,"textStroke")&&(l.stroke=l.textStroke)}var u=void 0,v=pe(e)?f.decal:null;t&&v&&(v.dirty=!0,u=lr(v,t)),f.__decalPattern=u}if(ye(e)&&f){var u=f.__decalPattern;u&&(f.decal=u)}ea(e,r,i,{dataIndex:a,isInit:o,clearStyle:!0}),At(e,r.keyframeAnimation,i)}function wt(t,e,a,r,n){var i=e.isGroup?null:e,o=n&&n[t].cfg;if(i){var s=i.ensureState(t);if(r===!1){var f=i.getState(t);f&&(f.style=null)}else s.style=r||null;o&&(s.textConfig=o),ur(i)}}function xa(t,e,a){if(!t.isGroup){var r=t,n=a.currentZ,i=a.currentZLevel;r.z=n,r.zlevel=i;var o=e.z2;o!=null&&(r.z2=o||0);for(var s=0;s<U.length;s++)Sa(r,e,U[s])}}function Sa(t,e,a){var r=a===H,n=r?e:oe(e,a),i=n?n.z2:null,o;i!=null&&(o=r?t:t.ensureState(a),o.z2=i||0)}function rt(t,e,a,r){var n=t.get("renderItem"),i=t.coordinateSystem,o={};i&&(o=i.prepareCustoms?i.prepareCustoms(i):ga[i.type](i));for(var s=ue({getWidth:r.getWidth,getHeight:r.getHeight,getZr:r.getZr,getDevicePixelRatio:r.getDevicePixelRatio,value:A,style:D,ordinalRawValue:T,styleEmphasis:R,visual:V,barLayout:C,currentSeriesIndices:B,font:S},o.api||{}),f={context:{},seriesId:t.id,seriesName:t.name,seriesIndex:t.seriesIndex,coordSys:o.coordSys,dataInsideLength:e.count(),encode:Aa(t.getData())},l,u,v={},c={},h={},y={},m=0;m<U.length;m++){var P=U[m];h[P]=t.getModel(ce[P]),y[P]=t.getModel(he[P])}function w(p){return p===l?u||(u=e.getItemModel(p)):e.getItemModel(p)}function b(p,d){return e.hasItemOption?p===l?v[d]||(v[d]=w(p).getModel(ce[d])):w(p).getModel(ce[d]):h[d]}function x(p,d){return e.hasItemOption?p===l?c[d]||(c[d]=w(p).getModel(he[d])):w(p).getModel(he[d]):y[d]}return function(p,d){return l=p,u=null,v={},c={},n&&n(ue({dataIndexInside:p,dataIndex:e.getRawIndex(p),actionType:d?d.type:null},f),s)};function A(p,d){return d==null&&(d=l),e.getStore().get(e.getDimensionIndex(p||0),d)}function T(p,d){d==null&&(d=l),p=p||0;var _=e.getDimensionInfo(p);if(!_){var E=e.getDimensionIndex(p);return E>=0?e.getStore().get(E,d):void 0}var L=e.get(_.name,d),M=_&&_.ordinalMeta;return M?M.categories[L]:L}function D(p,d){d==null&&(d=l);var _=e.getItemVisual(d,"style"),E=_&&_.fill,L=_&&_.opacity,M=b(d,H).getItemStyle();E!=null&&(M.fill=E),L!=null&&(M.opacity=L);var K={inheritColor:fr(E)?E:"#000"},X=x(d,H),Ve=Ee(X,null,K,!1,!0);Ve.text=X.getShallow("show")?Qt(t.getFormattedLabel(d,H),ge(e,d)):null;var _t=Fe(X,K,!1);return O(p,M),M=Je(M,Ve,_t),p&&k(M,p),M.legacy=!0,M}function R(p,d){d==null&&(d=l);var _=b(d,G).getItemStyle(),E=x(d,G),L=Ee(E,null,null,!0,!0);L.text=E.getShallow("show")?It(t.getFormattedLabel(d,G),t.getFormattedLabel(d,H),ge(e,d)):null;var M=Fe(E,null,!0);return O(p,_),_=Je(_,L,M),p&&k(_,p),_.legacy=!0,_}function k(p,d){for(var _ in d)g(d,_)&&(p[_]=d[_])}function O(p,d){p&&(p.textFill&&(d.textFill=p.textFill),p.textPosition&&(d.textPosition=p.textPosition))}function V(p,d){if(d==null&&(d=l),g(Ke,p)){var _=e.getItemVisual(d,"style");return _?_[Ke[p]]:null}if(g(Yr,p))return e.getItemVisual(d,p)}function C(p){if(i.type==="cartesian2d"){var d=i.getBaseAxis();return er(ue({axis:d},p))}}function B(){return a.getCurrentSeriesIndices()}function S(p){return tr(p,a)}}function Aa(t){var e={};return W(t.dimensions,function(a){var r=t.getDimensionInfo(a);if(!r.isExtraCoord){var n=r.coordDim,i=e[n]=e[n]||[];i[r.coordDimIndex]=t.getDimensionIndex(a)}}),e}function de(t,e,a,r,n,i,o){if(!r){i.remove(e);return}var s=ke(t,e,a,r,n,i);return s&&o.setItemGraphicEl(a,s),s&&vt(s,r.focus,r.blurScope,r.emphasisDisabled),s}function ke(t,e,a,r,n,i){var o=-1,s=e;e&&Ct(e,r,n)&&(o=le(i.childrenRef(),e),e=null);var f=!e,l=e;l?l.clearStates():(l=Te(r),s&&pa(s,l)),r.morph===!1?l.disableMorphing=!0:l.disableMorphing&&(l.disableMorphing=!1),F.normal.cfg=F.normal.conOpt=F.emphasis.cfg=F.emphasis.conOpt=F.blur.cfg=F.blur.conOpt=F.select.cfg=F.select.conOpt=null,F.isLegacy=!1,Ca(l,a,r,n,f,F),wa(l,a,r,n,f),Le(t,l,a,r,F,n,f),g(r,"info")&&(Y(l).info=r.info);for(var u=0;u<U.length;u++){var v=U[u];if(v!==H){var c=oe(r,v),h=Re(r,c,v);wt(v,l,c,h,F)}}return xa(l,r,n),r.type==="group"&&ba(t,l,a,r,n),o>=0?i.replaceAt(l,o):i.add(l),l}function Ct(t,e,a){var r=Y(t),n=e.type,i=e.shape,o=e.style;return a.isUniversalTransitionEnabled()||n!=null&&n!==r.customGraphicType||n==="path"&&Ta(i)&&bt(i)!==r.customPathData||n==="image"&&g(o,"image")&&o.image!==r.customImagePath}function wa(t,e,a,r,n){var i=a.clipPath;if(i===!1)t&&t.getClipPath()&&t.removeClipPath();else if(i){var o=t.getClipPath();o&&Ct(o,i,r)&&(o=null),o||(o=Te(i),t.setClipPath(o)),Le(null,o,e,i,null,r,n)}}function Ca(t,e,a,r,n,i){if(!t.isGroup){at(a,null,i),at(a,G,i);var o=i.normal.conOpt,s=i.emphasis.conOpt,f=i.blur.conOpt,l=i.select.conOpt;if(o!=null||s!=null||l!=null||f!=null){var u=t.getTextContent();if(o===!1)u&&t.removeTextContent();else{o=i.normal.conOpt=o||{type:"text"},u?u.clearStates():(u=Te(o),t.setTextContent(u)),Le(null,u,e,o,null,r,n);for(var v=o&&o.style,c=0;c<U.length;c++){var h=U[c];if(h!==H){var y=i[h].conOpt;wt(h,u,y,Re(o,y,h),null)}}v?u.dirty():u.markRedraw()}}}}function at(t,e,a){var r=e?oe(t,e):t,n=e?Re(t,r,G):t.style,i=t.type,o=r?r.textConfig:null,s=t.textContent,f=s?e?oe(s,e):s:null;if(n&&(a.isLegacy||Qr(n,i,!!o,!!f))){a.isLegacy=!0;var l=Ir(n,i,!e);!o&&l.textConfig&&(o=l.textConfig),!f&&l.textContent&&(f=l.textContent)}if(!e&&f){var u=f;!u.type&&(u.type="text")}var v=e?a[e]:a.normal;v.cfg=o,v.conOpt=f}function oe(t,e){return e?t?t[e]:null:t}function Re(t,e,a){var r=e&&e.style;return r==null&&a===G&&t&&(r=t.styleEmphasis),r}function ba(t,e,a,r,n){var i=r.children,o=i?i.length:0,s=r.$mergeChildren,f=s==="byName"||r.diffChildrenByName,l=s===!1;if(!(!o&&!f&&!l)){if(f){Pa({api:t,oldChildren:e.children()||[],newChildren:i||[],dataIndex:a,seriesModel:n,group:e});return}l&&e.removeAll();for(var u=0;u<o;u++){var v=i[u],c=e.childAt(u);v?(v.ignore==null&&(v.ignore=!1),ke(t,c,a,v,n,e)):c.ignore=!0}for(var h=e.childCount()-1;h>=u;h--){var y=e.childAt(h);_a(e,y,n)}}}function _a(t,e,a){e&&_e(e,Y(t).option,a)}function Pa(t){new rr(t.oldChildren,t.newChildren,nt,nt,t).add(it).update(it).remove(Da).execute()}function nt(t,e){var a=t&&t.name;return a??da+e}function it(t,e){var a=this.context,r=t!=null?a.newChildren[t]:null,n=e!=null?a.oldChildren[e]:null;ke(a.api,n,a.dataIndex,r,a.seriesModel,a.group)}function Da(t){var e=this.context,a=e.oldChildren[t];a&&_e(a,Y(a).option,e.seriesModel)}function bt(t){return t&&(t.pathData||t.d)}function Ta(t){return t&&(g(t,"pathData")||g(t,"d"))}function La(t){t.registerChartView(ma),t.registerSeriesModel(Hr)}const ka={class:"events"},Ra={key:0,class:"memorys"},Va=Vue.defineComponent({setup(t){vr([Or,La,cr,hr,dr,gr,pr,yr,mr,xr,Sr]);const{t:e}=Rt.global,a=Pt(),{params:r,name:n}=a,i=n.split("_").pop(),o=r.id,s=r.streamPath,f=naive.useMessage(),l=naive.useThemeVars(),u=Vue.ref([{title:e("序号"),key:"sequence",width:100},{title:e("时间戳"),key:"timestamp",width:150},{title:e("写入时间"),key:"writeTime",width:150,render:x=>Vue.h(naive.NTime,{time:new Date(x.writeTime),format:"HH:mm:ss.SSS"})},{title:e("帧大小"),key:"wrap",width:100,render:x=>{var A;return Vue.h("span",x.wrap?(A=x.wrap[0])==null?void 0:A.size:"")}},{title:e("封装数据1"),key:"wrap",width:300,render:x=>{var A;return Vue.h("pre",x.wrap?(A=x.wrap[0])==null?void 0:A.data:"")}}]),v=Vue.ref([]),c=Vue.ref(0),h=Vue.ref(0),y={trigger:"axis",axisPointer:{type:"line",animation:!1,axis:"x",label:{show:!0,formatter:({value:x})=>Tt(new Date(x),"HH:mm:ss.SSS"),backgroundColor:"rgba(50,50,50,0.7)"}}},m=Vue.reactive({title:{},dataZoom:[{id:"dataZoomX",type:"slider",xAxisIndex:[0],filterMode:"filter"}],tooltip:y,xAxis:[{type:"time",splitLine:{show:!1}},{type:"category",axisPointer:{type:"shadow",label:{show:!0,formatter:({value:x})=>String(x),backgroundColor:"rgba(50,50,50,0.7)"}},splitLine:{show:!1},data:[]}],yAxis:[{name:"帧大小",type:"value"},{name:"时间戳",type:"value",min:"dataMin"},{name:"event",type:"value",min:0,max:100,show:!1,splitNumber:2,splitLine:{show:!1}}],series:[{yAxisIndex:0,name:"帧大小",type:"bar",lineStyle:{width:1},data:[]},{yAxisIndex:1,name:"时间戳",showSymbol:!1,type:"line",lineStyle:{width:2},encode:{tooltip:[1,2],x:0,y:2},data:[]},{xAxisIndex:1,yAxisIndex:2,type:"scatter",labelLayout:{moveOverlap:"shiftY"},markLine:{lineStyle:{type:"dashed"}}}]});function P(x,A){const T=A.coord([A.value(0),0]),D=A.coord([A.value(1),0]);return{transition:[],type:"rect",shape:{x:T[0],y:30,width:D[0]-T[0],height:30},style:A.style()}}const w=Vue.reactive({title:{text:"MemoryAllocator"},dataZoom:[{id:"dataZoomX",type:"slider",xAxisIndex:[0],filterMode:"filter"}],tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},xAxis:{min:0,scale:!0,type:"value"},yAxis:{type:"category"},series:[{type:"custom",renderItem:P,tooltip:{trigger:"item",formatter:({value:x})=>`${x[0]}-${x[1]}`},encode:{x:[0,1],y:-1}}]});Vue.watchEffect(()=>{h.value===1&&(v.value=[],m.series[0].data=[],m.series[1].data=[],m.xAxis[1].data=[]),m.animation=h.value===0});async function b(x){var A,T,D,R,k,O;try{if(h.value===1)for(x.writeTime=x.writeTime.seconds*1e3+x.writeTime.nanos/1e6,v.value.push(x),m.series[0].data.push(x.keyFrame?{value:[x.writeTime,(T=(A=x.wrap)==null?void 0:A[0])==null?void 0:T.size],itemStyle:{color:"#a90000"}}:{value:[x.writeTime,(R=(D=x.wrap)==null?void 0:D[0])==null?void 0:R.size]}),m.series[1].data.push({value:[x.writeTime,x.sequence,x.timestamp]}),m.xAxis[1].data.push(String(x.sequence));v.value.length>10;)v.value.shift(),m.series[0].data.shift(),m.series[1].data.shift(),m.xAxis[1].data.shift();else{const V=await Vt(o,s.join("/"),i);v.value=V.ring,c.value=V.ringDataSize;let C=0;w.title.text="MemoryAllocator",w.series[0].data=V.memory.flatMap((S,p)=>{const d=S.list.map(_=>({value:[C+_.s,C+_.e],itemStyle:{color:[l.value.primaryColor,l.value.infoColor,l.value.successColor,l.value.warningColor,l.value.errorColor,l.value.primaryColorHover,l.value.infoColorHover,l.value.successColorHover,l.value.warningColorHover,l.value.errorColorHover,l.value.primaryColorPressed,l.value.infoColorPressed,l.value.successColorPressed,l.value.warningColorPressed,l.value.errorColorPressed,l.value.buttonColor2,l.value.buttonColor2Hover,l.value.buttonColor2Pressed,l.value.textColor1,l.value.textColor2,l.value.textColor3][p]}}));return C+=S.size,d}),w.xAxis.max=C,m.series[0].data=V.ring.map(S=>{var p,d,_,E;return S.keyFrame?{value:[S.writeTime,(d=(p=S.wrap)==null?void 0:p[0])==null?void 0:d.size],itemStyle:{color:"#a90000"}}:{value:[S.writeTime,(E=(_=S.wrap)==null?void 0:_[0])==null?void 0:E.size]}}),m.series[1].data=V.ring.map(S=>({value:[S.writeTime,S.sequence,S.timestamp]})),m.xAxis[1].data=V.ring.map(S=>String(S.sequence));const B=Object.entries(V.reader);m.series[2].data=B.map(([S,p])=>[String(p),100,S]),m.series[2].markLine.data=B.map(S=>[{coord:[String(S[1]),0],symbol:"none"},{coord:[String(S[1]),90],symbol:"circle",name:S[0]}]),u.value.length==5&&((k=V.ring[0].wrap)==null?void 0:k.length)>1?u.value.push({title:e("封装数据2"),key:"wrap",width:300,render:S=>Vue.h("span",S.wrap[1].data)}):u.value.length==6&&((O=V.ring[0].wrap)==null?void 0:O.length)>2&&u.value.push({title:e("封装数据3"),key:"wrap",width:300,render:S=>Vue.h("span",S.wrap[2].data)})}}catch(V){f.error(V.message)}}return(x,A)=>{const T=Vue.resolveComponent("n-card");return Vue.openBlock(),Vue.createElementBlock("div",null,[Vue.createVNode(Vue.unref(Lt),{onTick:b}),Vue.createElementVNode("div",ka,[Vue.createVNode(Vue.unref(ze),{class:"chart",option:Vue.unref(m),autoresize:""},null,8,["option"])]),h.value===0?(Vue.openBlock(),Vue.createElementBlock("div",Ra,[Vue.createVNode(Vue.unref(ze),{class:"chart",option:Vue.unref(w),autoresize:""},null,8,["option"])])):Vue.createCommentVNode("",!0),Vue.createVNode(T,{bordered:!1,class:"proCard"},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(Dt),{title:h.value?"":`ring buffer size: ${v.value.length},total data size: ${c.value}`,columns:u.value,dataSource:v.value,"row-class-name":D=>D.keyFrame?"red":"",pagination:!1,"row-key":D=>D.sequence,"scroll-x":1090},null,8,["title","columns","dataSource","row-class-name","row-key"])]),_:1})])}}}),Oa=kt(Va,[["__scopeId","data-v-b65839ec"]]);export{Oa as default};
